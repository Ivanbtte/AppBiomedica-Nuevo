!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[518],{10518:function(t,r,a){"use strict";a.r(r),a.d(r,{CatalogosModule:function(){return De}});var o=a(29996),i=a(61116),l=a(77361),c=a(18240),m=a(39199),s=a(31041),u=a(56238),p=a(79996),d=a(92935),f=a(35366),g=a(35965),v=a(84369),h=a(22797),x=a(36278);function S(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-header"),f["\u0275\u0275elementStart"](2,"mat-card-title",5),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](4,"mat-divider"),f["\u0275\u0275elementStart"](5,"mat-card-content"),f["\u0275\u0275elementStart"](6,"div",6),f["\u0275\u0275elementStart"](7,"div",7),f["\u0275\u0275elementStart"](8,"p",8),f["\u0275\u0275text"](9," Id Articulo: "),f["\u0275\u0275elementStart"](10,"strong"),f["\u0275\u0275text"](11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"p"),f["\u0275\u0275text"](13," Clave Cuadro Basico: "),f["\u0275\u0275elementStart"](14,"strong"),f["\u0275\u0275text"](15),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"p"),f["\u0275\u0275text"](17," Presentacion: "),f["\u0275\u0275elementStart"](18,"strong"),f["\u0275\u0275text"](19),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](20,"p",9),f["\u0275\u0275text"](21," Precio sin IVA:"),f["\u0275\u0275elementStart"](22,"strong"),f["\u0275\u0275text"](23),f["\u0275\u0275pipe"](24,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](25,"p",9),f["\u0275\u0275text"](26," Precio con IVA:"),f["\u0275\u0275elementStart"](27,"strong"),f["\u0275\u0275text"](28),f["\u0275\u0275pipe"](29,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](30,"div",10),f["\u0275\u0275element"](31,"img",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](32,"mat-divider"),f["\u0275\u0275elementStart"](33,"p",12),f["\u0275\u0275text"](34),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](n.clave.Descripcion.substring(0,160)),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](n.clave.IdArticulo),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](n.claveCuadro),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](n.clave.UnidadesMedidas.Unidad),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](24,7,n.clave.Precio)),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](29,9,1.16*n.clave.Precio)),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",n.clave.Descripcion," ")}}var C=function(){var t=function(){function t(n,r,a){var o=this;e(this,t),this._prei=n,this.dialogRef=r,this.data=a,this.claveCuadro="",this._prei.getClavePrei(a.id,"").subscribe(function(e){o.clave=e.Data,o.claveCuadro=o.clave.Grupo+"."+o.clave.Generico+"."+o.clave.Especifico+"."+o.clave.Diferenciador+"."+o.clave.Variable},function(e){console.log(e)})}return n(t,[{key:"onNoClick",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](c.X),f["\u0275\u0275directiveInject"](d.so),f["\u0275\u0275directiveInject"](d.WI))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-detalle-dialog"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content","","fxLayout","row wrap"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[2,"color","#545454"],[1,"container"],[1,"div-text"],[2,"margin","0 0"],[2,"color","#c90025"],[1,"div-imagen"],["mat-card-image","","src","../../../assets/images/background/sin-imagen.jpg","alt","Photo of a Shiba Inu",1,"imagen"],[2,"color","#3100cb","text-align","justify"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"h1",0),f["\u0275\u0275text"](1,"Detalle clave"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"div",1),f["\u0275\u0275template"](3,S,35,11,"mat-card",2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"div",3),f["\u0275\u0275elementStart"](5,"button",4),f["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),f["\u0275\u0275text"](6,"Regresar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",t.clave))},directives:[d.uh,d.xY,g.xw,i.O5,d.H8,v.lW,h.a8,h.dk,h.n5,x.d,h.dn,h.G2],pipes:[i.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%;height:auto;max-height:450px;align-items:center;justify-content:center}.div-imagen[_ngcontent-%COMP%], .div-text[_ngcontent-%COMP%]{width:50%;max-width:50%;height:auto;max-height:430px}.div-imagen[_ngcontent-%COMP%]{justify-content:center;margin:0 auto;overflow:hidden;position:relative}.imagen[_ngcontent-%COMP%]{max-width:100%;max-height:600px;margin:0 auto}"]}),t}(),y=a(5609),E=a(13070),b=a(9550),_=a(79961),w=a(27701),P=a(87064),I=a(77307);function D(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",39),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275property"]("value",n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.Grupo," ")}}function k(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",34),f["\u0275\u0275elementStart"](1,"form",35),f["\u0275\u0275elementStart"](2,"mat-form-field",7),f["\u0275\u0275elementStart"](3,"mat-label"),f["\u0275\u0275text"](4,"Selecciona un tema de b\xfasqueda"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](5,"input",36),f["\u0275\u0275elementStart"](6,"mat-autocomplete",37,38),f["\u0275\u0275listener"]("optionSelected",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().buscarPorTema()}),f["\u0275\u0275template"](8,D,2,2,"mat-option",11),f["\u0275\u0275pipe"](9,"async"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275reference"](7),a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("formControl",a.myControl)("matAutocomplete",r),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("displayWith",a.displayFn),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](9,4,a.filteredOptions))}}function A(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",39),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275property"]("value",n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n," ")}}function F(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",42),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"](2).borrarGrupo()}),f["\u0275\u0275elementStart"](1,"mat-icon"),f["\u0275\u0275text"](2,"close"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function O(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-icon",43),f["\u0275\u0275text"](1,"filter_list"),f["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-form-field",7),f["\u0275\u0275elementStart"](1,"mat-label"),f["\u0275\u0275text"](2,"Grupo"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](3,"input",40),f["\u0275\u0275elementStart"](4,"mat-autocomplete",9,41),f["\u0275\u0275listener"]("optionSelected",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().buscarPorGrupo()}),f["\u0275\u0275template"](6,A,2,2,"mat-option",11),f["\u0275\u0275pipe"](7,"async"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](8,F,3,0,"button",12),f["\u0275\u0275template"](9,O,2,0,"mat-icon",13),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275reference"](5),a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("formControl",a.control_grupo)("matAutocomplete",r),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](7,5,a.filteredGrupos)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",a.control_grupo.value),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!a.control_grupo.value)}}function V(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",39),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275property"]("value",n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n," ")}}function M(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",42),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().borrarGenerico()}),f["\u0275\u0275elementStart"](1,"mat-icon"),f["\u0275\u0275text"](2,"close"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function N(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-icon",43),f["\u0275\u0275text"](1,"filter_list"),f["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",39),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275property"]("value",n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n," ")}}function j(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-icon",43),f["\u0275\u0275text"](1,"filter_list"),f["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",42),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().borrarEspecifico()}),f["\u0275\u0275elementStart"](1,"mat-icon"),f["\u0275\u0275text"](2,"close"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function L(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell"),f["\u0275\u0275text"](1,"Clave Cuadro B\xe1sico"),f["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate5"](" ",n.Grupo,".",n.Generico,".",n.Especifico,".",n.Diferenciador,".",n.Variable," ")}}function U(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell"),f["\u0275\u0275text"](1,"Id Articulo"),f["\u0275\u0275elementEnd"]())}function W(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.IdArticulo)}}function $(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell"),f["\u0275\u0275text"](1," Descripci\xf3n"),f["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",r.regresaDescripcion(n.Descripcion),"")}}function T(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell"),f["\u0275\u0275text"](1,"Tipo de Presentaci\xf3n"),f["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.UnidadesMedidas.Unidad,"")}}function Q(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell"),f["\u0275\u0275text"](1,"Precio con IVA"),f["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,1.16*n.Precio),"")}}function Y(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell"),f["\u0275\u0275text"](1," Vista"),f["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275elementStart"](1,"button",44),f["\u0275\u0275listener"]("click",function(){var e=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"]().openDialog(e.Id)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"visibility"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function J(e,t){1&e&&f["\u0275\u0275element"](0,"mat-header-row")}function K(e,t){1&e&&f["\u0275\u0275element"](0,"mat-row")}var ee=function(){var t=function(){function t(n,r){e(this,t),this._prei=n,this.dialog=r,this.myControl=new s.FormControl,this.control_nombre=new s.FormControl,this.control_grupo=new s.FormControl,this.control_generico=new s.FormControl,this.control_especifico=new s.FormControl,this.displayedColumns=["Clave","IdArticulo","Descripcion","Tipo","Precio","Vista"],this.cargando=!1,this.cuadro_id="",this.grupo_id="",this.generico_id="",this.especifico_id="",this.options=[],this.lastFilter="",this.tamanioPagina=50,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.arreglo_grupos=[],this.arreglo_genericos=[],this.arreglo_especificos=[],this.lastFilterGrupos="",this.lastFilterGenerico="",this.lastFilterEspecifico=""}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.cargarSelect(),this.llenarArreglo(),this.consultarGrupo(),this.control_grupo.valueChanges.subscribe(function(t){""===t&&e.borrarGrupo()}),this.control_generico.valueChanges.subscribe(function(t){""===t&&e.borrarGenerico()}),this.control_especifico.valueChanges.subscribe(function(t){""===t&&e.borrarEspecifico()}),this.myControl.valueChanges.subscribe(function(t){console.log(t),""===t&&e.buscarPorTema()}),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(function(t){t&&(e.paginaActual=t.pageIndex+1,e.tamanioPagina=t.pageSize,e.llenarArreglo())}),this.filteredOptions=this.myControl.valueChanges.pipe((0,u.O)(""),(0,p.U)(function(e){return"string"==typeof e?e:e.Grupo}),(0,p.U)(function(t){return t?e._filter2(t):e.options.slice()}))}},{key:"openDialog",value:function(e){this.dialog.open(C,{height:"auto",width:"auto",data:{id:e}}).afterClosed().subscribe(function(e){})}},{key:"cargaAutoCompleteGenerico",value:function(){var e=this;this.filteredGenerico=this.control_generico.valueChanges.pipe((0,u.O)(""),(0,p.U)(function(t){return"string"==typeof t?t:e.lastFilterGenerico}),(0,p.U)(function(t){return e._filter_generico(t)}))}},{key:"cargaAutoCompleteEspecifico",value:function(){var e=this;this.filteredEspecifico=this.control_especifico.valueChanges.pipe((0,u.O)(""),(0,p.U)(function(t){return"string"==typeof t?t:e.lastFilterEspecifico}),(0,p.U)(function(t){return e._filter_especifico(t)}))}},{key:"cargaAutocompleteGrupo",value:function(){var e=this;this.filteredGrupos=this.control_grupo.valueChanges.pipe((0,u.O)(""),(0,p.U)(function(t){return"string"==typeof t?t:e.lastFilterGrupos}),(0,p.U)(function(t){return e._filter_grupos(t)}))}},{key:"cargarSelect",value:function(){var e=this;this._prei.getCuadroBasico().subscribe(function(t){e.options=t.Data},function(e){console.log(e)})}},{key:"consultarGrupo",value:function(){var e=this;this._prei.consultarFiltrosPrei("","",!0).subscribe(function(t){e.arreglo_grupos=t.Data.map(function(e){return e.Grupo}),e.cargaAutocompleteGrupo(),console.log(e.arreglo_grupos)})}},{key:"consultarGenerico",value:function(e){var t=this;this._prei.consultarFiltrosPrei(e,"",!1).subscribe(function(e){t.arreglo_genericos=e.Data.map(function(e){return e.Generico}),console.log(t.arreglo_genericos),t.cargaAutoCompleteGenerico()})}},{key:"consultaEspecifico",value:function(e,t){var n=this;this._prei.consultarFiltrosPrei(e,t,!1).subscribe(function(e){n.arreglo_especificos=e.Data.map(function(e){return e.Especifico}),console.log(n.arreglo_especificos),n.cargaAutoCompleteEspecifico()})}},{key:"buscarPorNombre",value:function(){this.paginator.firstPage(),this.llenarArreglo()}},{key:"buscarPorTema",value:function(){this.cuadro_id=""!==this.myControl.value?this.myControl.value.Id:"0",this.paginator.firstPage(),this.control_nombre.reset(),this.grupo_id="",this.control_grupo.reset(),this.generico_id="",this.control_generico.reset(),this.especifico_id="",this.control_especifico.reset(),this.llenarArreglo(),this.consultarGrupo()}},{key:"buscarPorGrupo",value:function(){this.grupo_id=null!==this.control_grupo.value?this.control_grupo.value:0,this.cuadro_id="",this.myControl.reset(),this.generico_id="",this.control_generico.reset(),this.especifico_id="",this.control_nombre.reset(),this.paginator.firstPage(),this.llenarArreglo(),this.consultarGenerico(this.grupo_id)}},{key:"buscarPorGenerico",value:function(){null!==this.control_generico.value&&(console.log("buscando por generico"),this.generico_id=this.control_generico.value,this.control_nombre.reset(),this.paginator.firstPage(),this.llenarArreglo(),this.consultaEspecifico(this.grupo_id,this.generico_id))}},{key:"buscarPorEspecifico",value:function(){null!==this.control_especifico.value&&(this.especifico_id=this.control_especifico.value,this.control_nombre.reset(),this.paginator.firstPage(),this.llenarArreglo())}},{key:"llenarArreglo",value:function(){var e=this;this._prei.getPrei(this.cuadro_id,null!==this.control_nombre.value?this.control_nombre.value:"",this.paginaActual.toString(),this.tamanioPagina.toString(),this.grupo_id,this.generico_id,this.especifico_id).subscribe(function(t){e.dataSource=new m.by,e.dataSource.data=t.Data.registros,console.log(t.Data.registros),e.totalRegistros=t.Data.total,e.cargando=!0},function(e){console.log(e)})}},{key:"_filter2",value:function(e){var t=e.toLowerCase();return this.options.filter(function(e){return e.Grupo.toLowerCase().includes(t)})}},{key:"_filter_grupos",value:function(e){var t=this;return e?(this.lastFilterGrupos=e.toLowerCase(),this.arreglo_grupos.filter(function(e){return 0===e.toLowerCase().indexOf(t.lastFilterGrupos)})):this.arreglo_grupos}},{key:"_filter_generico",value:function(e){var t=this;return e?(this.lastFilterGenerico=e.toLowerCase(),this.arreglo_genericos.filter(function(e){return 0===e.toLowerCase().indexOf(t.lastFilterGenerico)})):this.arreglo_genericos}},{key:"_filter_especifico",value:function(e){var t=this;return e?(this.lastFilterEspecifico=e.toLowerCase(),this.arreglo_especificos.filter(function(e){return 0===e.toLowerCase().indexOf(t.lastFilterEspecifico)})):this.arreglo_especificos}},{key:"displayFn",value:function(e){return e&&e.Grupo?e.Grupo:""}},{key:"borrarGrupo",value:function(){this.grupo_id="",this.generico_id="",this.especifico_id="",this.control_grupo.reset(),this.control_generico.reset(),this.control_especifico.reset(),this.control_nombre.reset(),this.llenarArreglo(),this.consultarGrupo()}},{key:"borrarGenerico",value:function(){this.generico_id="",this.especifico_id="",this.control_generico.reset(),this.control_especifico.reset(),this.control_nombre.reset(),this.llenarArreglo()}},{key:"borrarEspecifico",value:function(){this.especifico_id="",this.control_especifico.reset(),this.control_nombre.reset(),this.llenarArreglo()}},{key:"regresaDescripcion",value:function(e){return e.split(".",1).toString()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](c.X),f["\u0275\u0275directiveInject"](d.uw))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-prei"]],viewQuery:function(e,t){var n;(1&e&&f["\u0275\u0275viewQuery"](y.NW,7),2&e)&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.paginator=n.first))},decls:67,vars:28,consts:[[1,"bg-light","p-10","p-r-20","p-l-20"],[1,"font-bold","centerText",2,"color","#003366"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","10","fxFlex.gt-xs","100","fxFlex","100"],["appearance","standard",4,"ngIf"],["fxFlex.gt-sm","12","fxFlex.gt-xs","100","fxFlex","100",1,"m-l-15"],["appearance","standard"],["type","text","placeholder","Gen\xe9rico","aria-label","Number","matInput","","maxlength","3","autocomplete","off",3,"formControl","matAutocomplete","matAutocompleteDisabled","keyup.enter"],["autoActiveFirstOption","",3,"optionSelected"],["auto2","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","",4,"ngIf"],["type","text","placeholder","Especifico","matInput","","autocomplete","off","maxlength","4",3,"formControl","matAutocomplete","matAutocompleteDisabled","keyup.enter"],["auto3","matAutocomplete"],["fxLayout","row wrap"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Escribe la descripcion","autocomplete","off",3,"formControl","keyup.enter"],[3,"hidden"],["mode","query"],[1,"responsive-table"],[3,"dataSource"],["matColumnDef","Clave"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IdArticulo"],["matColumnDef","Descripcion"],["matColumnDef","Tipo"],["matColumnDef","Precio"],["matColumnDef","Vista"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100"],[1,"example-form"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value"],["type","text","placeholder","Grupo","aria-label","Number","matInput","","maxlength","3",3,"formControl","matAutocomplete"],["auto1","matAutocomplete"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSuffix",""],["mat-icon-button","","color","primary",3,"click"]],template:function(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-content"),f["\u0275\u0275elementStart"](2,"div",0),f["\u0275\u0275elementStart"](3,"mat-card-title",1),f["\u0275\u0275text"](4,"Filtros por clave de cuadro b\xe1sico "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"div",2),f["\u0275\u0275template"](6,k,10,6,"div",3),f["\u0275\u0275elementStart"](7,"div",4),f["\u0275\u0275template"](8,G,10,7,"mat-form-field",5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"div",6),f["\u0275\u0275elementStart"](10,"mat-form-field",7),f["\u0275\u0275elementStart"](11,"mat-label"),f["\u0275\u0275text"](12,"Gen\xe9rico"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"input",8),f["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorGenerico()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"mat-autocomplete",9,10),f["\u0275\u0275listener"]("optionSelected",function(){return t.buscarPorGenerico()}),f["\u0275\u0275template"](16,V,2,2,"mat-option",11),f["\u0275\u0275pipe"](17,"async"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](18,M,3,0,"button",12),f["\u0275\u0275template"](19,N,2,0,"mat-icon",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](20,"div",6),f["\u0275\u0275elementStart"](21,"mat-form-field",7),f["\u0275\u0275elementStart"](22,"mat-label"),f["\u0275\u0275text"](23,"Especifico"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](24,"input",14),f["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorEspecifico()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](25,"mat-autocomplete",9,15),f["\u0275\u0275listener"]("optionSelected",function(){return t.buscarPorEspecifico()}),f["\u0275\u0275template"](27,R,2,2,"mat-option",11),f["\u0275\u0275pipe"](28,"async"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](29,j,2,0,"mat-icon",13),f["\u0275\u0275template"](30,B,3,0,"button",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](31,"div",16),f["\u0275\u0275elementStart"](32,"div",17),f["\u0275\u0275elementStart"](33,"mat-card"),f["\u0275\u0275elementStart"](34,"mat-card-content"),f["\u0275\u0275elementStart"](35,"mat-card-title"),f["\u0275\u0275text"](36,"Bienes de Inversi\xf3n"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"div",0),f["\u0275\u0275elementStart"](38,"mat-form-field"),f["\u0275\u0275elementStart"](39,"mat-label"),f["\u0275\u0275text"](40,"Buscar por la descripci\xf3n de la clave"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"input",18),f["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](42,"div",19),f["\u0275\u0275element"](43,"mat-progress-bar",20),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](44,"div",21),f["\u0275\u0275elementStart"](45,"mat-table",22),f["\u0275\u0275elementContainerStart"](46,23),f["\u0275\u0275template"](47,L,2,0,"mat-header-cell",24),f["\u0275\u0275template"](48,H,2,5,"mat-cell",25),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](49,26),f["\u0275\u0275template"](50,U,2,0,"mat-header-cell",24),f["\u0275\u0275template"](51,W,2,1,"mat-cell",25),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](52,27),f["\u0275\u0275template"](53,$,2,0,"mat-header-cell",24),f["\u0275\u0275template"](54,z,2,1,"mat-cell",25),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](55,28),f["\u0275\u0275template"](56,T,2,0,"mat-header-cell",24),f["\u0275\u0275template"](57,X,2,1,"mat-cell",25),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](58,29),f["\u0275\u0275template"](59,Q,2,0,"mat-header-cell",24),f["\u0275\u0275template"](60,q,3,3,"mat-cell",25),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](61,30),f["\u0275\u0275template"](62,Y,2,0,"mat-header-cell",24),f["\u0275\u0275template"](63,Z,4,0,"mat-cell",25),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](64,J,1,0,"mat-header-row",31),f["\u0275\u0275template"](65,K,1,0,"mat-row",32),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](66,"mat-paginator",33),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275reference"](15),r=f["\u0275\u0275reference"](26);f["\u0275\u0275advance"](6),f["\u0275\u0275property"]("ngIf",t.options.length>0),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.arreglo_grupos),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("formControl",t.control_generico)("matAutocomplete",n)("matAutocompleteDisabled",!t.grupo_id),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](17,24,t.filteredGenerico)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.control_generico.value),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.control_generico.value),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("formControl",t.control_especifico)("matAutocomplete",r)("matAutocompleteDisabled",!t.generico_id),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](28,26,t.filteredEspecifico)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",!t.control_especifico.value),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.control_especifico.value),f["\u0275\u0275advance"](11),f["\u0275\u0275property"]("formControl",t.control_nombre),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",t.cargando),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("dataSource",t.dataSource),f["\u0275\u0275advance"](19),f["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0)}},directives:[h.a8,h.dn,h.n5,g.xw,g.Wh,i.O5,g.yH,E.KE,E.hX,b.Nt,s.DefaultValueAccessor,_.ZL,s.MaxLengthValidator,s.NgControlStatus,s.FormControlDirective,_.XC,i.sg,w.pW,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,y.NW,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.NgForm,P.ey,v.lW,E.R9,I.Hw,m.ge,m.ev,m.XQ,m.Gk],pipes:[i.Ov,i.H9],styles:[".mat-header-cell[_ngcontent-%COMP%]{font-size:11pt;font-weight:700}.mat-table[_ngcontent-%COMP%]   .mat-column-Clave[_ngcontent-%COMP%]{flex:0 0 12%;text-align:left!important}.mat-table[_ngcontent-%COMP%]   .mat-column-IdArticulo[_ngcontent-%COMP%]{flex:0 0 7%;text-align:left!important}.mat-table[_ngcontent-%COMP%]   .mat-column-Descripcion[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px}.mat-table[_ngcontent-%COMP%]   .mat-column-Precio[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-column-Tipo[_ngcontent-%COMP%]{flex:0 0 10%;text-align:center!important}.mat-table[_ngcontent-%COMP%]   .mat-column-Precio[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-column-Vista[_ngcontent-%COMP%]{justify-content:center!important}.mat-table[_ngcontent-%COMP%]   .mat-column-Vista[_ngcontent-%COMP%]{flex:0 0 4.5%}"]}),t}(),te=a(82573),ne=a(42693),re=a(529),ae=function(){var t=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getProforma",value:function(e,t,n,r){var a=(new ne.LE).set("nombre",t).set("pagina",n).set("num_registros",r);return""!==e&&(a=a.set("servicio",e)),this.http.get("".concat(re.N.host,"/proforma"),{params:a}).pipe((0,p.U)(function(e){return e}))}},{key:"getClaveProforma",value:function(e){return this.http.get("".concat(re.N.host,"/proforma/").concat(e)).pipe((0,p.U)(function(e){return e}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275inject"](ne.eN))},t.\u0275prov=f["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),oe=a(59241),ie=a(36420);function le(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-header"),f["\u0275\u0275elementStart"](2,"mat-card-title",5),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"mat-card-subtitle"),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](6,"mat-divider"),f["\u0275\u0275elementStart"](7,"mat-card-content"),f["\u0275\u0275elementStart"](8,"div",6),f["\u0275\u0275elementStart"](9,"div",7),f["\u0275\u0275elementStart"](10,"p",8),f["\u0275\u0275text"](11," Id Articulo: "),f["\u0275\u0275elementStart"](12,"strong"),f["\u0275\u0275text"](13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"p"),f["\u0275\u0275text"](15," Clave Cuadro Basico: "),f["\u0275\u0275elementStart"](16,"strong"),f["\u0275\u0275text"](17),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](18,"p"),f["\u0275\u0275text"](19," Presentacion: "),f["\u0275\u0275elementStart"](20,"strong"),f["\u0275\u0275text"](21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](22,"p"),f["\u0275\u0275text"](23," Nivel de Atencion: "),f["\u0275\u0275elementStart"](24,"strong"),f["\u0275\u0275text"](25),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](26,"p",9),f["\u0275\u0275text"](27," Precio sin IVA:"),f["\u0275\u0275elementStart"](28,"strong"),f["\u0275\u0275text"](29),f["\u0275\u0275pipe"](30,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](31,"p",9),f["\u0275\u0275text"](32," Precio con IVA:"),f["\u0275\u0275elementStart"](33,"strong"),f["\u0275\u0275text"](34),f["\u0275\u0275pipe"](35,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](36,"div",10),f["\u0275\u0275element"](37,"img",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](38,"mat-divider"),f["\u0275\u0275elementStart"](39,"p",12),f["\u0275\u0275text"](40),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](n.clave[0].Descripcion.substring(0,160)),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"]("Servicios: ",n.nombreServicio,""),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](n.clave[0].PreiIdArticulo),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](n.clave[0].ClaveCB),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](n.clave[0].Pre.UnidadesMedidas.Unidad),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](n.clave[0].NivelAtn),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](30,9,n.clave[0].Pre.Precio)),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](35,11,1.16*n.clave[0].Pre.Precio)),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",n.clave[0].Descripcion," ")}}var ce=function(){var t=function(){function t(n,r,a,o){var i=this;e(this,t),this._proforma=n,this._servicios=r,this.dialogRef=a,this.data=o,this.servicios=[],this.nombreServicio="",this._proforma.getClaveProforma(o.id).subscribe(function(e){i.clave=e.Data,console.log(i.clave)},function(e){console.log(e)}),this._servicios.getClaveProformaServicios(o.id).subscribe(function(e){i.servicios=e.Data;var t=i.servicios.map(function(e){return e.Descripcion});i.nombreServicio=t.join(),console.log(i.servicios)},function(e){console.log(e)})}return n(t,[{key:"onNoClick",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](ae),f["\u0275\u0275directiveInject"](ie.J),f["\u0275\u0275directiveInject"](d.so),f["\u0275\u0275directiveInject"](d.WI))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-detalle-proforma"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content","","fxLayout","row wrap"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[2,"color","#545454"],[1,"container"],[1,"div-text"],[2,"margin","0 0"],[2,"color","#c90025"],[1,"div-imagen"],["mat-card-image","","src","../../../assets/images/background/sin-imagen.jpg","alt","Photo of a Shiba Inu",1,"imagen"],[2,"color","#3100cb","text-align","justify"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"h1",0),f["\u0275\u0275text"](1,"Detalle clave"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"div",1),f["\u0275\u0275template"](3,le,41,13,"mat-card",2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"div",3),f["\u0275\u0275elementStart"](5,"button",4),f["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),f["\u0275\u0275text"](6,"Regresar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",t.clave))},directives:[d.uh,d.xY,g.xw,i.O5,d.H8,v.lW,h.a8,h.dk,h.n5,h.$j,x.d,h.dn,h.G2],pipes:[i.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%;height:auto;max-height:450px;align-items:center;justify-content:center}.div-imagen[_ngcontent-%COMP%], .div-text[_ngcontent-%COMP%]{width:50%;max-width:50%;height:auto;max-height:430px}.div-imagen[_ngcontent-%COMP%]{justify-content:center;margin:0 auto;overflow:hidden;position:relative}.imagen[_ngcontent-%COMP%]{max-width:100%;max-height:600px;margin:0 auto}"]}),t}();function me(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",24),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275property"]("value",n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.Descripcion," ")}}function se(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",18),f["\u0275\u0275elementStart"](1,"form",19),f["\u0275\u0275elementStart"](2,"mat-form-field"),f["\u0275\u0275elementStart"](3,"mat-label"),f["\u0275\u0275text"](4,"Filtrar por servicio proforma"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](5,"input",20),f["\u0275\u0275elementStart"](6,"mat-autocomplete",21,22),f["\u0275\u0275listener"]("optionSelected",function(){return f["\u0275\u0275restoreView"](n),f["\u0275\u0275nextContext"]().buscarPorGrupo()}),f["\u0275\u0275template"](8,me,2,2,"mat-option",23),f["\u0275\u0275pipe"](9,"async"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var r=f["\u0275\u0275reference"](7),a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("formControl",a.myControl)("matAutocomplete",r),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("displayWith",a.displayFn),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](9,4,a.filteredOptions))}}function ue(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",25),f["\u0275\u0275text"](1,"Id Articulo"),f["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.PreiIdArticulo,"")}}function de(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",25),f["\u0275\u0275text"](1,"Clave Cuadro Basico"),f["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.ClaveCB,"")}}function ge(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",25),f["\u0275\u0275text"](1,"Descripci\xf3n"),f["\u0275\u0275elementEnd"]())}function ve(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.Descripcion.substring(0,160),"")}}function he(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",25),f["\u0275\u0275text"](1," Vista"),f["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275elementStart"](1,"button",26),f["\u0275\u0275listener"]("click",function(){var e=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"]().openDialog(e.PreiIdArticulo)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"visibility"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function Se(e,t){1&e&&f["\u0275\u0275element"](0,"mat-header-row")}function Ce(e,t){1&e&&f["\u0275\u0275element"](0,"mat-row")}var ye,Ee,be=[{path:"",children:[{path:"sai",component:l.x,canActivate:[te.a]},{path:"prei",component:ee,canActivate:[te.a]},{path:"proforma",component:(ye=function(){function t(n,r,a){e(this,t),this._proforma=n,this._serviciosPro=r,this.dialog=a,this.myControl=new s.FormControl,this.control_nombre=new s.FormControl,this.displayedColumns=["IdArticulo","ClaveCuadroBasico","Descripcion","Vista"],this.cargando=!1,this.options=[],this.lastFilter="",this.tamanioPagina=20,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.serviceProforma=""}return n(t,[{key:"openDialog",value:function(e){this.dialog.open(ce,{height:"auto",width:"auto",data:{id:e}}).afterClosed().subscribe(function(e){})}},{key:"ngOnInit",value:function(){var e=this;this.llenarTabla(),this.llenarSelect(),this.filteredOptions=this.myControl.valueChanges.pipe((0,u.O)(""),(0,p.U)(function(e){return"string"==typeof e?e:e.Descripcion}),(0,p.U)(function(t){return t?e._filter(t):e.options.slice()})),this.paginator.page.subscribe(function(t){t&&(e.paginaActual=t.pageIndex+1,e.tamanioPagina=t.pageSize,e.llenarTabla())}),this.myControl.valueChanges.subscribe(function(t){console.log(t),""===t&&e.buscarPorGrupo()})}},{key:"llenarTabla",value:function(){var e=this;this._proforma.getProforma(this.serviceProforma,null!==this.control_nombre.value?this.control_nombre.value:"",this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(function(t){e.dataSource=new m.by,e.dataSource.data=t.Data.registros,e.totalRegistros=t.Data.total,e.cargando=!0,e.datosProforma=t.Data,console.log(e.datosProforma)},function(e){console.log(e)})}},{key:"llenarSelect",value:function(){var e=this;this._serviciosPro.getServiciosProf().subscribe(function(t){e.options=t.Data},function(e){console.log(e)})}},{key:"buscarPorNombre",value:function(){this.paginator.firstPage(),this.llenarTabla()}},{key:"buscarPorGrupo",value:function(){this.serviceProforma=""!==this.myControl.value?this.myControl.value.Id:"0",this.control_nombre.reset(),this.paginator.firstPage(),this.llenarTabla()}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.options.filter(function(e){return e.Descripcion.toLowerCase().includes(t)})}},{key:"displayFn",value:function(e){return e?e.Descripcion:""}}]),t}(),ye.\u0275fac=function(e){return new(e||ye)(f["\u0275\u0275directiveInject"](ae),f["\u0275\u0275directiveInject"](ie.J),f["\u0275\u0275directiveInject"](d.uw))},ye.\u0275cmp=f["\u0275\u0275defineComponent"]({type:ye,selectors:[["app-proforma"]],viewQuery:function(e,t){var n;1&e&&(f["\u0275\u0275viewQuery"](y.NW,7),f["\u0275\u0275viewQuery"](oe.YE,7)),2&e&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.sort=n.first))},decls:33,vars:11,consts:[[1,"bg-light","p-10","p-r-20","p-l-20"],["fxLayout","row wrap"],["fxFlex","55","fxFlexAlign","center",4,"ngIf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Buscar","autocomplete","off",3,"formControl","keyup.enter"],[3,"hidden"],["mode","query"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","IdArticulo"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","ClaveCuadroBasico"],["matColumnDef","Descripcion"],["matColumnDef","Vista"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["fxFlex","55","fxFlexAlign","center"],[1,"example-form"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-sort-header",""],["mat-icon-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-content"),f["\u0275\u0275elementStart"](2,"div",0),f["\u0275\u0275elementStart"](3,"div",1),f["\u0275\u0275template"](4,se,10,6,"div",2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"div",1),f["\u0275\u0275elementStart"](6,"div",3),f["\u0275\u0275elementStart"](7,"mat-card"),f["\u0275\u0275elementStart"](8,"mat-card-content"),f["\u0275\u0275elementStart"](9,"mat-card-title"),f["\u0275\u0275text"](10,"Proforma"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"div",0),f["\u0275\u0275elementStart"](12,"mat-form-field"),f["\u0275\u0275elementStart"](13,"input",4),f["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"div",5),f["\u0275\u0275element"](15,"mat-progress-bar",6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"div",7),f["\u0275\u0275elementStart"](17,"mat-table",8),f["\u0275\u0275elementContainerStart"](18,9),f["\u0275\u0275template"](19,ue,2,0,"mat-header-cell",10),f["\u0275\u0275template"](20,pe,2,1,"mat-cell",11),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](21,12),f["\u0275\u0275template"](22,de,2,0,"mat-header-cell",10),f["\u0275\u0275template"](23,fe,2,1,"mat-cell",11),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](24,13),f["\u0275\u0275template"](25,ge,2,0,"mat-header-cell",10),f["\u0275\u0275template"](26,ve,2,1,"mat-cell",11),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](27,14),f["\u0275\u0275template"](28,he,2,0,"mat-header-cell",10),f["\u0275\u0275template"](29,xe,4,0,"mat-cell",11),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](30,Se,1,0,"mat-header-row",15),f["\u0275\u0275template"](31,Ce,1,0,"mat-row",16),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](32,"mat-paginator",17),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",t.options.length>0),f["\u0275\u0275advance"](9),f["\u0275\u0275property"]("formControl",t.control_nombre),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",t.cargando),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("dataSource",t.dataSource),f["\u0275\u0275advance"](13),f["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[h.a8,h.dn,g.xw,i.O5,g.yH,h.n5,E.KE,b.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,w.pW,m.BZ,oe.YE,m.w1,m.fO,m.Dz,m.as,m.nj,y.NW,g.XD,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.NgForm,E.hX,_.ZL,_.XC,i.sg,P.ey,m.ge,oe.nU,m.ev,v.lW,I.Hw,m.XQ,m.Gk],pipes:[i.Ov],styles:[""]}),ye),canActivate:[te.a]}],canActivate:[te.a]}],_e=a(8340),we=a(77154),Pe=a(60126),Ie=a(75425),De=((Ee=function t(){e(this,t)}).\u0275fac=function(e){return new(e||Ee)},Ee.\u0275mod=f["\u0275\u0275defineNgModule"]({type:Ee}),Ee.\u0275inj=f["\u0275\u0275defineInjector"]({providers:[c.X],imports:[[i.ez,_e.q,o.Bz.forChild(be),Ie.m,s.FormsModule,s.ReactiveFormsModule,we.o9,Pe.Xd]]}),Ee)}}])}();