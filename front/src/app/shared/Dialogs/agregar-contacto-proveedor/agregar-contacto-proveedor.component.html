<h1 mat-dialog-title>{{titulo}}</h1>
<div mat-dialog-content>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="formulario_conntacto">
        <div fxLayout="row wrap" fxLayoutAlign="space-around center">
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Nombre del Contacto</mat-label>
              <input matInput placeholder="Nombre y apellidos"
                     formControlName="NombreCompleto" autocomplete="off" style="text-transform: capitalize"
                     required>
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['NombreCompleto'].hasError('pattern') && formulario_conntacto.controls['NombreCompleto'].touched"
              class="text-danger support-text">Nombre invalido.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Departamento o Area</mat-label>
              <input matInput placeholder="Departamento o Area" formControlName="Departamento" autocomplete="off"
                     required style="text-transform: uppercase">
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['Departamento'].hasError('pattern') && formulario_conntacto.controls['Departamento'].touched"
              class="text-danger support-text">Nombre invalido.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Cargo</mat-label>
              <input matInput placeholder="Cargo" formControlName="Cargo" autocomplete="off" required
                     style="text-transform: uppercase">
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['Cargo'].hasError('pattern') && formulario_conntacto.controls['Cargo'].touched"
              class="text-danger support-text">Nombre invalido.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Telefono</mat-label>
              <input matInput #inputTel placeholder="Telefono" formControlName="Telefono" autocomplete="off" maxlength="10"
                     minlength="10">
              <mat-icon matSuffix>phone</mat-icon>
              <mat-hint align="end">{{inputTel.value?.length || 0}}/10</mat-hint>
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['Telefono'].hasError('pattern') && formulario_conntacto.controls['Telefono'].touched"
              class="text-danger support-text">Solo numeros.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Extension</mat-label>
              <input matInput placeholder="Extension" formControlName="Extension" autocomplete="off" maxlength="5">
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['Extension'].hasError('pattern') && formulario_conntacto.controls['Extension'].touched"
              class="text-danger support-text">Solo numeros.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Celular</mat-label>
              <input #input matInput placeholder="Celular" formControlName="Celular" autocomplete="off" maxlength="10"
                     minlength="10">
              <mat-icon matSuffix>phone</mat-icon>
              <mat-hint align="end">{{input.value?.length || 0}}/10</mat-hint>
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['Celular'].hasError('pattern') && formulario_conntacto.controls['Celular'].touched"
              class="text-danger support-text">Solo numeros.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Correo</mat-label>
              <input matInput placeholder="Correo" formControlName="Correo" autocomplete="off"
                     style="text-transform: lowercase">
            </mat-form-field>
            <small
              *ngIf="formulario_conntacto.controls['Correo'].hasError('email') && formulario_conntacto.controls['Correo'].touched"
              class="text-danger support-text">
              Introduce un correo Valido.
            </small>
          </div>
          <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Asunto</mat-label>
              <input matInput placeholder="Asunto" formControlName="Asunto" autocomplete="off"
                     style="text-transform: capitalize">
            </mat-form-field>
          </div>
          <div fxFlex.gt-sm=" 30" fxFlex.gt-xs="100" fxFlex="100">
            <mat-form-field appearance="outline">
              <mat-label>Comentarios</mat-label>
              <textarea matInput placeholder="Comentarios" formControlName="Comentarios"
                        autocomplete="off"></textarea>
            </mat-form-field>
          </div>
          <div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100">
            <label>* Campos requeridos</label>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
<div mat-dialog-actions fxLayout="row wrap" fxLayoutAlign="space-around center">
  <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100">
    <button mat-flat-button color="warn" (click)="cerrarDialog()">
      Cancelar
    </button>
  </div>
  <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100" *ngIf="!data.editar">
    <button mat-flat-button color="primary"
            [disabled]="formulario_conntacto.invalid" (click)="agregarContacto()">Agregar
    </button>
  </div>
  <div fxFlex.gt-sm="30" fxFlex.gt-xs="100" fxFlex="100" *ngIf="data.editar">
    <button mat-flat-button color="primary"
            [disabled]="formulario_conntacto.invalid || formulario_conntacto.pristine" (click)="EditarContacto()">
      Guardar
    </button>
  </div>
</div>

