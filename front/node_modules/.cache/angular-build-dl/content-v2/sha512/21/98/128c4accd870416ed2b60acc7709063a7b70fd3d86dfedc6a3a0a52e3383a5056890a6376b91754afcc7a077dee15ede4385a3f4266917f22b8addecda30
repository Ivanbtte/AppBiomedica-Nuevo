!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[916],{40916:function(t,n,l){"use strict";l.r(n),l.d(n,{ValidacionSolicitudesModule:function(){return Ct}});var o=l(61116),i=l(8340),r=l(29996),d=l(75425),c=l(82573),m=l(15452),s=l(28736),u=l(39199),p=l(92935),f=l(35366),v=l(84369),S=function(){var t=function(){function t(a,n){e(this,t),this.dialogRef=a,this.data=n}return a(t,[{key:"onNoClick",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](p.so),f["\u0275\u0275directiveInject"](p.WI))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-filtros-solicitud"]],decls:5,vars:0,consts:[["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"p"),f["\u0275\u0275text"](1," filtros-solicitud works!\n"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"div"),f["\u0275\u0275elementStart"](3,"button",0),f["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),f["\u0275\u0275text"](4,"Aplicar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())},directives:[v.lW],styles:[""]}),t}(),x=l(22797),C=l(59241),h=l(77307);function E(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Nombre"),f["\u0275\u0275elementEnd"]())}function g(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Usuario.Persona.Nombre,"")}}function b(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Tipo"),f["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.TipoSolicitud.Tipo,"")}}function y(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Unidad M."),f["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.UnidadMed.DenominacionUni,"")}}function D(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Estatus"),f["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Estatus.Status,"")}}function T(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Revisar"),f["\u0275\u0275elementEnd"]())}var F=function(e){return["/requerimientos/revision/validar",e]};function j(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275elementStart"](1,"button",14),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"visibility"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("routerLink",f["\u0275\u0275pureFunction1"](1,F,a.Id))}}function U(e,t){1&e&&f["\u0275\u0275element"](0,"mat-footer-cell")}function P(e,t){1&e&&f["\u0275\u0275element"](0,"mat-header-row")}function B(e,t){1&e&&f["\u0275\u0275element"](0,"mat-row")}var R=function(){var t=function(){function t(a,n){e(this,t),this._solicitudes=a,this.dialog=n,this.displayedColumns=["Nombre","TipoSolicitud","UnidadMedi","Estatus","Validar"],this.resultado=[]}return a(t,[{key:"ngOnInit",value:function(){this.consultarSolicitudes()}},{key:"consultarSolicitudes",value:function(){var e=this;this._solicitudes.ConsultarTodasSolicitudes("","true").subscribe(function(t){e.resultado=t.Data,e.dataSource=new u.by,e.dataSource.data=e.resultado,console.log(e.resultado)})}},{key:"openDialog",value:function(){this.dialog.open(S,{height:"auto",width:"auto",disableClose:!0,data:{datos:""}}).afterClosed().subscribe(function(e){})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](s.o),f["\u0275\u0275directiveInject"](p.uw))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-validar"]],decls:24,vars:4,consts:[[1,"p-20"],[1,"responsive-table"],["matSort","",2,"border-style","solid","border-width","1px","border-color","#e0e0e0",3,"dataSource"],["matColumnDef","Nombre"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","TipoSolicitud"],["matColumnDef","UnidadMedi"],["matColumnDef","Estatus"],["matColumnDef","Validar"],[4,"matFooterCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-button","","value","left","color","primary",3,"routerLink"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-title",0),f["\u0275\u0275text"](2,"Validaci\xf3n de solicitudes"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"mat-card-content"),f["\u0275\u0275elementStart"](4,"div",1),f["\u0275\u0275elementStart"](5,"mat-table",2),f["\u0275\u0275elementContainerStart"](6,3),f["\u0275\u0275template"](7,E,2,0,"mat-header-cell",4),f["\u0275\u0275template"](8,g,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](9,6),f["\u0275\u0275template"](10,b,2,0,"mat-header-cell",4),f["\u0275\u0275template"](11,I,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](12,7),f["\u0275\u0275template"](13,y,2,0,"mat-header-cell",4),f["\u0275\u0275template"](14,w,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](15,8),f["\u0275\u0275template"](16,D,2,0,"mat-header-cell",4),f["\u0275\u0275template"](17,k,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](18,9),f["\u0275\u0275template"](19,T,2,0,"mat-header-cell",4),f["\u0275\u0275template"](20,j,4,3,"mat-cell",5),f["\u0275\u0275template"](21,U,1,0,"mat-footer-cell",10),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](22,P,1,0,"mat-header-row",11),f["\u0275\u0275template"](23,B,1,0,"mat-row",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("dataSource",t.dataSource),f["\u0275\u0275advance"](17),f["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns))},directives:[x.a8,x.n5,x.dn,u.BZ,C.YE,u.w1,u.fO,u.Dz,u.mD,u.as,u.nj,u.ge,C.nU,u.ev,v.lW,r.rH,h.Hw,u.yh,u.XQ,u.Gk],styles:[""]}),t}(),M=l(36911),_=l(22501),$=l.n(_),A=l(90911),H=l(35965),L=l(13070),O=l(13841),z=l(87064);function V(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",9),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275property"]("value",a.Id),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Status," ")}}var N=function(){var t=function(){function t(a,n,l,o){var i=this;e(this,t),this.dialogRef=a,this.data=n,this._estatus=l,this._solicitudes=o,this.valor=0,this.usuarioLog=(0,A.Z)(localStorage.getItem("token")),this.resultado=n,console.log(this.resultado),this._estatus.ConsultaEstatus().subscribe(function(e){i.resultad=e.Data,console.log(i.resultad)})}return a(t,[{key:"valorSeleccionado",value:function(e){this.valor=e}},{key:"actualizarSolicitud",value:function(){var e=this;$().fire({title:"Confirmaci\xf3n",text:"Est\xe1s seguro de cambiar el estatus",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Si, cambiar"}).then(function(t){t.value&&e._solicitudes.Actualizarolicitud(e.resultado.Id,"aprobada","",e.valor.toString(),e.usuarioLog.UsuarioId,{Id:e.resultado.Id,UsuarioId:e.resultado.UsuarioId,UnidadMedId:e.resultado.UnidadMedId,TipoSolicitudId:e.resultado.TipoSolicitudId,EstatusId:e.resultado.EstatusId,FechaCreacion:e.resultado.FechaCreacion,Total:e.resultado.Total,Correo:e.resultado.Correo,Estado:e.resultado.Estado}).subscribe(function(t){$().fire({icon:"success",title:"Correcto",text:t.Mensaje}),e.onNoClick()})})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](p.so),f["\u0275\u0275directiveInject"](p.WI),f["\u0275\u0275directiveInject"](M.K),f["\u0275\u0275directiveInject"](s.o))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-cambiar-estatus"]],decls:18,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","","fxLayout","row wrap"],[2,"color","#c90025"],["appearance","outline"],[2,"max-width","90%",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"h1",0),f["\u0275\u0275text"](1,"Busqueda Avanzada"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"div",1),f["\u0275\u0275elementStart"](3,"mat-card"),f["\u0275\u0275elementStart"](4,"mat-card-header"),f["\u0275\u0275elementStart"](5,"mat-card-title",2),f["\u0275\u0275text"](6,"Selecciona lo que deseas buscar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"mat-card-content"),f["\u0275\u0275elementStart"](8,"mat-form-field",3),f["\u0275\u0275elementStart"](9,"mat-label"),f["\u0275\u0275text"](10,"Selecciona un estatus"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"mat-select",4),f["\u0275\u0275listener"]("valueChange",function(e){return t.valor=e})("selectionChange",function(){return t.valorSeleccionado(t.valor)}),f["\u0275\u0275template"](12,V,2,2,"mat-option",5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"button",6),f["\u0275\u0275listener"]("click",function(){return t.actualizarSolicitud()}),f["\u0275\u0275text"](14,"Cambiar Estado"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"div",7),f["\u0275\u0275elementStart"](16,"button",8),f["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),f["\u0275\u0275text"](17,"Cerrar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](11),f["\u0275\u0275property"]("value",t.valor),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",t.resultad))},directives:[p.uh,p.xY,H.xw,x.a8,x.dk,x.n5,x.dn,L.KE,L.hX,O.gD,o.sg,v.lW,p.H8,z.ey],styles:[""]}),t}();function W(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Nombre"),f["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Usuario.Persona.Nombre,"")}}function G(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Tipo"),f["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.TipoSolicitud.Tipo,"")}}function Z(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Unidad M."),f["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.UnidadMed.DenominacionUni,"")}}function Q(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Estatus"),f["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Estatus.Status,"")}}function J(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",13),f["\u0275\u0275text"](1,"Actualizar Estatus"),f["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e){var a=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275elementStart"](1,"button",14),f["\u0275\u0275listener"]("click",function(){var e=f["\u0275\u0275restoreView"](a).$implicit;return f["\u0275\u0275nextContext"]().cambiarEstatus(e)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"edit"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function te(e,t){1&e&&f["\u0275\u0275element"](0,"mat-footer-cell")}function ae(e,t){1&e&&f["\u0275\u0275element"](0,"mat-header-row")}function ne(e,t){1&e&&f["\u0275\u0275element"](0,"mat-row")}var le=function(){var t=function(){function t(a,n){e(this,t),this._solicitudes=a,this.dialog=n,this.displayedColumns=["Nombre","TipoSolicitud","UnidadMedi","Estatus","Validar2"],this.resultado=[]}return a(t,[{key:"ngOnInit",value:function(){this.consultarSolicitudes()}},{key:"consultarSolicitudes",value:function(){var e=this;this._solicitudes.ConsultarTodasSolicitudes("","false").subscribe(function(t){e.resultado=t.Data,e.dataSource=new u.by,e.dataSource.data=e.resultado,console.log(e.resultado)})}},{key:"cambiarEstatus",value:function(e){var t=this;this.dialog.open(N,{height:"auto",width:"auto",disableClose:!0,data:e}).afterClosed().subscribe(function(e){t.consultarSolicitudes()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](s.o),f["\u0275\u0275directiveInject"](p.uw))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-ver"]],decls:24,vars:4,consts:[[1,"p-20"],[1,"responsive-table"],["matSort","",2,"border-style","solid","border-width","1px","border-color","#e0e0e0",3,"dataSource"],["matColumnDef","Nombre"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","TipoSolicitud"],["matColumnDef","UnidadMedi"],["matColumnDef","Estatus"],["matColumnDef","Validar2"],[4,"matFooterCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-button","","value","left","color","primary",3,"click"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-title",0),f["\u0275\u0275text"](2,"Solicitudes Validadas"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"mat-card-content"),f["\u0275\u0275elementStart"](4,"div",1),f["\u0275\u0275elementStart"](5,"mat-table",2),f["\u0275\u0275elementContainerStart"](6,3),f["\u0275\u0275template"](7,W,2,0,"mat-header-cell",4),f["\u0275\u0275template"](8,q,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](9,6),f["\u0275\u0275template"](10,G,2,0,"mat-header-cell",4),f["\u0275\u0275template"](11,X,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](12,7),f["\u0275\u0275template"](13,Z,2,0,"mat-header-cell",4),f["\u0275\u0275template"](14,Y,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](15,8),f["\u0275\u0275template"](16,Q,2,0,"mat-header-cell",4),f["\u0275\u0275template"](17,K,2,1,"mat-cell",5),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](18,9),f["\u0275\u0275template"](19,J,2,0,"mat-header-cell",4),f["\u0275\u0275template"](20,ee,4,0,"mat-cell",5),f["\u0275\u0275template"](21,te,1,0,"mat-footer-cell",10),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](22,ae,1,0,"mat-header-row",11),f["\u0275\u0275template"](23,ne,1,0,"mat-row",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("dataSource",t.dataSource),f["\u0275\u0275advance"](17),f["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns))},directives:[x.a8,x.n5,x.dn,u.BZ,C.YE,u.w1,u.fO,u.Dz,u.mD,u.as,u.nj,u.ge,C.nU,u.ev,v.lW,h.Hw,u.yh,u.XQ,u.Gk],styles:[""]}),t}(),oe=l(93721),ie=l(84992),re=l(55424);function de(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",19),f["\u0275\u0275elementStart"](1,"div",20),f["\u0275\u0275elementStart"](2,"span"),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"div",21),f["\u0275\u0275elementStart"](5,"span"),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"div",22),f["\u0275\u0275elementStart"](8,"span"),f["\u0275\u0275text"](9,"Servicio que solicita"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](10,"br"),f["\u0275\u0275elementStart"](11,"strong"),f["\u0275\u0275text"](12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](13,"br"),f["\u0275\u0275elementStart"](14,"span"),f["\u0275\u0275text"](15,"Precio"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](16,"br"),f["\u0275\u0275elementStart"](17,"strong"),f["\u0275\u0275text"](18),f["\u0275\u0275pipe"](19,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](20,"div",22),f["\u0275\u0275elementStart"](21,"span"),f["\u0275\u0275text"](22,"Cantidad Solictada"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](23,"br"),f["\u0275\u0275elementStart"](24,"strong"),f["\u0275\u0275text"](25),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](26,"br"),f["\u0275\u0275elementStart"](27,"span"),f["\u0275\u0275text"](28,"Total"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](29,"br"),f["\u0275\u0275elementStart"](30,"strong"),f["\u0275\u0275text"](31),f["\u0275\u0275pipe"](32,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](33,"div",22),f["\u0275\u0275elementStart"](34,"span"),f["\u0275\u0275text"](35,"Cantidad Aprobada"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](36,"br"),f["\u0275\u0275elementStart"](37,"strong"),f["\u0275\u0275text"](38),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](39,"br"),f["\u0275\u0275elementStart"](40,"span"),f["\u0275\u0275text"](41,"Total"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](42,"br"),f["\u0275\u0275elementStart"](43,"strong"),f["\u0275\u0275text"](44),f["\u0275\u0275pipe"](45,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"]("Clave: ",a.objClave.ClaveId,""),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](a.objClave.Descripcion.substring(0,100)),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](a.objClave.ServiciosProforma.Descripcion),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](19,8,a.objClave.Precio)),f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate"](a.objClave.CantidadSolicitada),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](32,10,a.objClave.Precio*a.objClave.CantidadSolicitada)),f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate"](a.objClave.CantidadAprobada),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](45,12,a.objClave.Precio*a.objClave.CantidadAprobada))}}function ce(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"h4",28),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"]("Presupuesto delegacional: ",f["\u0275\u0275pipeBind1"](2,1,a.presupuestoDelegacional.Presupuesto),"")}}function me(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"h4"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"]("Presupuesto restante: ",f["\u0275\u0275pipeBind1"](2,1,a.presupuestoDelegacional.Presupuesto-a.presupuestoGenera),"")}}function se(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",29),f["\u0275\u0275elementStart"](1,"a",16),f["\u0275\u0275elementStart"](2,"mat-card",30),f["\u0275\u0275elementStart"](3,"div",12),f["\u0275\u0275elementStart"](4,"h4",13),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"small"),f["\u0275\u0275text"](8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](6,2,a.Total)),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](a.Unidad)}}function ue(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",23),f["\u0275\u0275template"](1,ce,3,3,"h4",24),f["\u0275\u0275template"](2,me,3,3,"h4",25),f["\u0275\u0275elementStart"](3,"div",26),f["\u0275\u0275template"](4,se,9,4,"div",27),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",a.presupuestoDelegacional),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",a.presupuestoDelegacional),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",a.presupuestoPorSolici)}}function pe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",32),f["\u0275\u0275elementStart"](1,"a",16),f["\u0275\u0275elementStart"](2,"mat-card",11),f["\u0275\u0275elementStart"](3,"div",12),f["\u0275\u0275elementStart"](4,"h2",13),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"small"),f["\u0275\u0275text"](7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](a.cant),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](a.nombre)}}function fe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",23),f["\u0275\u0275elementStart"](1,"h4"),f["\u0275\u0275text"](2,"Cantidad solicitada por unidad m\xe9dica"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"div",26),f["\u0275\u0275template"](4,pe,8,2,"div",31),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngForOf",a.totalPorUnidades)}}function ve(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",34),f["\u0275\u0275elementStart"](1,"a",16),f["\u0275\u0275elementStart"](2,"mat-card",14),f["\u0275\u0275elementStart"](3,"div",12),f["\u0275\u0275elementStart"](4,"h2",13),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"strong"),f["\u0275\u0275text"](7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](8,"br"),f["\u0275\u0275elementStart"](9,"small"),f["\u0275\u0275text"](10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](a.CantidadSolicitada),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](a.ServiciosProforma.Descripcion),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](a.Solicitud.UnidadMed.DenominacionUni)}}function Se(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",23),f["\u0275\u0275elementStart"](1,"h4"),f["\u0275\u0275text"](2,"Cantidad solicitada el el mismo servicio en otras unidades"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"div",26),f["\u0275\u0275template"](4,ve,11,3,"div",33),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngForOf",a.totalporSercvicio)}}function xe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",29),f["\u0275\u0275elementStart"](1,"a",16),f["\u0275\u0275elementStart"](2,"mat-card",15),f["\u0275\u0275elementStart"](3,"div",12),f["\u0275\u0275elementStart"](4,"h2",13),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"strong"),f["\u0275\u0275text"](7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](8,"br"),f["\u0275\u0275elementStart"](9,"small"),f["\u0275\u0275text"](10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](a.CantidadSolicitada),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](a.ServiciosProforma.Descripcion),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](a.Solicitud.UnidadMed.DenominacionUni)}}function Ce(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",23),f["\u0275\u0275elementStart"](1,"h4"),f["\u0275\u0275text"](2,"Cantidad solicitada en esta solicitud"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"div",26),f["\u0275\u0275template"](4,xe,11,3,"div",27),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngForOf",a.totalPorSolicitud)}}var he=function(){var t=function(){function t(a,n,l,o,i,r){e(this,t),this.dialogRef=a,this.data=n,this._conceptosSolicitud=l,this._solicitudes=o,this._presupuesto=i,this.dialog=r,this.clave=[],this.analizarclaveEstado=!1,this.desgloceUnidad=!1,this.desgloceServicio=!1,this.desgloceSolicitud=!1,this.usuarioLog=(0,A.Z)(localStorage.getItem("token")),this.consultaPresupuestoBD(),this.objClave=this.data.clave,console.log(this.data),console.log(this.objClave),this.consultarClave(),this.consultarTodasSolicitudes()}return a(t,[{key:"consultarClave",value:function(){var e=this;this._conceptosSolicitud.ConsultarClaves("",this.objClave.ClaveId,"","","").subscribe(function(t){e.clave=t.Data,console.log(t.Data),e.totalClave=e.clave.map(function(e){return e.CantidadSolicitada}).reduce(function(e,t){return e+t}),console.log("la misma clave",e.totalClave),e.cantidadTotalPorSErvicio(e.clave,e.objClave.ServiciosProformaId),e.cantidadTotalEstasolicitud(e.clave,e.objClave.SolicitudId),e.verUnidadClave(e.clave)})}},{key:"consultarTodasSolicitudes",value:function(){var e=this;this._solicitudes.ConsultarTodasSolicitudes("","true").subscribe(function(t){console.log(t.Data),e.calcularPresupues(t.Data)})}},{key:"consultaPresupuestoBD",value:function(){var e=this;this._presupuesto.ConsultaPresupuesto().subscribe(function(t){e.presupuestoDelegacional=t.Data,console.log(e.presupuestoDelegacional)})}},{key:"calcularPresupues",value:function(e){this.presupuestoPorSolici=e.map(function(e){return{Unidad:e.UnidadMed.DenominacionUni,Total:e.Total}}),console.log(this.presupuestoPorSolici),this.presupuestoGenera=e.map(function(e){return e.Total}).reduce(function(e,t){return e+t})}},{key:"cantidadTotalEstasolicitud",value:function(e,t){var a=e.filter(function(e){return e.SolicitudId===t});console.log("filter",a),this.totalPorSolicitud=a,this.totalSolicitud=a.map(function(e){return e.CantidadSolicitada}).reduce(function(e,t){return e+t}),console.log("total en esta solicitud",this.totalSolicitud)}},{key:"verUnidadClave",value:function(e){e.map(function(e){return{unidad:e.Solicitud.UnidadMed.DenominacionUni,cantidad:e.CantidadSolicitada}}),console.log(this.totalPorUnidades)}},{key:"cantidadTotalPorSErvicio",value:function(e,t){var a=e.filter(function(e){return console.log(e.ServiciosProformaId,"  ",t),e.ServiciosProformaId===t});this.totalporSercvicio=a,console.log(a),this.TotalPorServio=a.map(function(e){return e.CantidadSolicitada}).reduce(function(e,t){return e+t}),console.log(this.TotalPorServio)}},{key:"validarCantidad",value:function(){var e=this;$().fire({title:"Confirmaci\xf3n",text:"Est\xe1s seguro de aprobar esta clave",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Si, aprobar"}).then(function(t){t.value&&(e.objClave.Total=e.objClave.Precio*e.objClave.CantidadSolicitada,e._conceptosSolicitud.ActualizarClave(e.objClave.Id,"","","","true",{SolicitudId:e.objClave.SolicitudId,ClaveId:e.objClave.ClaveId,Descripcion:e.objClave.Descripcion,CantidadSolicitada:e.objClave.CantidadSolicitada,Precio:e.objClave.Precio,Total:e.objClave.Total,ServiciosProformaId:e.objClave.ServiciosProformaId,EstatusId:e.objClave.EstatusId,Fecha:e.objClave.Fecha}).subscribe(function(t){console.log(t.Data),$().fire({icon:"success",title:"Correcto",text:t.Mensaje}),e.onNoClick()}))})}},{key:"openDialogCantidad",value:function(e){var t=this;this.dialog.open(re.v,{height:"auto",width:"65%",disableClose:!0,data:{clave:e,editar:!1,agregar:!1,aprobar:!0}}).afterClosed().subscribe(function(e){e&&(console.log("entreee"),t.consultarLaClave(t.objClave.Id),t.consultarClave(),t.consultarTodasSolicitudes())})}},{key:"consultarLaClave",value:function(e){var t=this;this._conceptosSolicitud.ConsultarUnaClaves(e).subscribe(function(e){console.log(e.Data),t.objClave=e.Data})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](p.so),f["\u0275\u0275directiveInject"](p.WI),f["\u0275\u0275directiveInject"](oe.z),f["\u0275\u0275directiveInject"](s.o),f["\u0275\u0275directiveInject"](ie.H),f["\u0275\u0275directiveInject"](p.uw))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-consultas-analiticas"]],decls:56,vars:9,consts:[[1,"p-20"],["fxLayout","row wrap","fxLayoutAlign","space-around",2,"width","100%"],["mat-raised-button","","fxflex","30","color","primary",3,"click"],["aria-label","Example icon-button with a heart icon"],["fxflex","30","mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"],[2,"width","100%","height","auto"],["fxLayout","row","fxLayoutAlign","space-between none","class","p-10","style","width: 100%; height: max-content;border-style: solid; border-width: 1px",4,"ngIf"],["fxLayout","row wrap"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],["href","javascript:void",3,"click"],[1,"bg-inverse","text-white","text-center"],[1,"p-10"],[1,"m-0"],[1,"bg-megna","text-white","text-center"],[1,"text-white","text-center",2,"background","#c62828"],["href","javascript:void"],["fxLayout","row wrap","fxLayoutAlign","space-between",2,"width","100%"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between none",1,"p-10",2,"width","100%","height","max-content","border-style","solid","border-width","1px"],["fxFlex","20"],["fxFlex","24"],["fxFlex","18",2,"text-align","center"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["style","color: darkred",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between none",1,"p-10"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100",4,"ngFor","ngForOf"],[2,"color","darkred"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],[1,"text-white","text-center",2,"background","#1e88e5"],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100",4,"ngFor","ngForOf"],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","90",4,"ngFor","ngForOf"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","90"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-title",0),f["\u0275\u0275text"](2,"M\xf3dulo de an\xe1lisis de solicitudes"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"div",1),f["\u0275\u0275elementStart"](4,"button",2),f["\u0275\u0275listener"]("click",function(){return t.openDialogCantidad(t.objClave)}),f["\u0275\u0275elementStart"](5,"mat-icon",3),f["\u0275\u0275text"](6,"border_color"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](7," Editar Cantidad "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"button",4),f["\u0275\u0275listener"]("click",function(){return t.validarCantidad()}),f["\u0275\u0275elementStart"](9,"mat-icon",3),f["\u0275\u0275text"](10,"done_outline"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](11," Validar Cantidad "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"button",5),f["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),f["\u0275\u0275elementStart"](13,"mat-icon",3),f["\u0275\u0275text"](14,"close"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](15," Cerrar "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"mat-card-content",6),f["\u0275\u0275template"](17,de,46,14,"div",7),f["\u0275\u0275elementStart"](18,"div",8),f["\u0275\u0275elementStart"](19,"div",9),f["\u0275\u0275elementStart"](20,"a",10),f["\u0275\u0275listener"]("click",function(){return t.desgloceUnidad=!t.desgloceUnidad}),f["\u0275\u0275elementStart"](21,"mat-card",11),f["\u0275\u0275elementStart"](22,"div",12),f["\u0275\u0275elementStart"](23,"h2",13),f["\u0275\u0275text"](24),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](25,"small"),f["\u0275\u0275text"](26,"Cantidad total solicitada por todas las unidades m\xe9dicas"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"div",9),f["\u0275\u0275elementStart"](28,"a",10),f["\u0275\u0275listener"]("click",function(){return t.desgloceServicio=!t.desgloceServicio}),f["\u0275\u0275elementStart"](29,"mat-card",14),f["\u0275\u0275elementStart"](30,"div",12),f["\u0275\u0275elementStart"](31,"h2",13),f["\u0275\u0275text"](32),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](33,"small"),f["\u0275\u0275text"](34,"Cantidad total solicitada por este servicio en otras unidades"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](35,"div",9),f["\u0275\u0275elementStart"](36,"a",10),f["\u0275\u0275listener"]("click",function(){return t.desgloceSolicitud=!t.desgloceSolicitud}),f["\u0275\u0275elementStart"](37,"mat-card",15),f["\u0275\u0275elementStart"](38,"div",12),f["\u0275\u0275elementStart"](39,"h2",13),f["\u0275\u0275text"](40),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"small"),f["\u0275\u0275text"](42,"Cantidad total solicitada en esta solicitud"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](43,"div",9),f["\u0275\u0275elementStart"](44,"a",16),f["\u0275\u0275elementStart"](45,"mat-card",14),f["\u0275\u0275elementStart"](46,"div",12),f["\u0275\u0275elementStart"](47,"h2",13),f["\u0275\u0275text"](48),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](49,"small"),f["\u0275\u0275text"](50,"Cantidad solicitada"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](51,"div",17),f["\u0275\u0275template"](52,ue,5,3,"div",18),f["\u0275\u0275template"](53,fe,5,1,"div",18),f["\u0275\u0275template"](54,Se,5,1,"div",18),f["\u0275\u0275template"](55,Ce,5,1,"div",18),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](17),f["\u0275\u0275property"]("ngIf",t.objClave),f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate"](t.totalClave),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](t.TotalPorServio),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](t.totalSolicitud),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](t.objClave.CantidadSolicitada),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.desgloceUnidad),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.desgloceServicio),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.desgloceSolicitud))},directives:[x.a8,x.n5,H.xw,H.Wh,v.lW,h.Hw,x.dn,o.O5,H.yH,o.sg],pipes:[o.H9],styles:[""]}),t}(),Ee=l(40994);function ge(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",7),f["\u0275\u0275elementStart"](1,"h3",8),f["\u0275\u0275elementStart"](2,"strong"),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](a.resultado.TipoSolicitud.Tipo)}}function be(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",1),f["\u0275\u0275elementStart"](1,"div",9),f["\u0275\u0275elementStart"](2,"h4",10),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"div",11),f["\u0275\u0275elementStart"](5,"span"),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"span"),f["\u0275\u0275text"](8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"span"),f["\u0275\u0275text"](10),f["\u0275\u0275pipe"](11,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"div",12),f["\u0275\u0275elementStart"](13,"h4",13),f["\u0275\u0275text"](14,"Solicitante"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"div",11),f["\u0275\u0275elementStart"](16,"span"),f["\u0275\u0275text"](17),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](18,"span"),f["\u0275\u0275text"](19),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](20,"span"),f["\u0275\u0275text"](21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"]("Unidad M\xe9dica: ",a.resultado.UnidadMed.DenominacionUni,""),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"]("Estado: ",a.resultado.Estatus.Status,""),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"]("Fecha de solicitud: ",a.resultado.FechaCreacion,""),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"]("Total solicitado: ",f["\u0275\u0275pipeBind1"](11,8,a.resultado.Total),""),f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate2"]("",a.resultado.Usuario.Persona.Nombre," ",a.resultado.Usuario.Persona.ApellidoPat,""),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](a.resultado.Correo),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"]("Matricula: ",a.resultado.Usuario.Persona.Matricula,"")}}function Ie(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-card-content"),f["\u0275\u0275template"](1,ge,4,1,"div",5),f["\u0275\u0275template"](2,be,22,10,"div",6),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",a.resultado),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",a.resultado)}}function ye(e,t){if(1&e){var a=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",2),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](a),f["\u0275\u0275nextContext"]().aprobarSolicitud()}),f["\u0275\u0275elementStart"](1,"mat-icon"),f["\u0275\u0275text"](2,"done"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](3," Aprobar Solicitud "),f["\u0275\u0275elementEnd"]()}}function we(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Validado"),f["\u0275\u0275elementEnd"]())}function De(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275element"](1,"mat-checkbox",33),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("checked",n.comprobarValidados(a))}}function ke(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Clave Cuadro Basico"),f["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.ClaveId,"")}}function Fe(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Descripci\xf3n"),f["\u0275\u0275elementEnd"]())}function je(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Descripcion.substring(0,160),"")}}function Ue(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Servicio"),f["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.ServiciosProforma.Descripcion,"")}}function Be(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Precio"),f["\u0275\u0275elementEnd"]())}function Re(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,a.Precio),"")}}function Me(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Cantidad Solicitada"),f["\u0275\u0275elementEnd"]())}function _e(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](a.CantidadSolicitada)}}function $e(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Cantidad Aprobada"),f["\u0275\u0275elementEnd"]())}function Ae(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](a.CantidadAprobada)}}function He(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"C P M"),f["\u0275\u0275elementEnd"]())}function Le(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"number"),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind2"](2,1,a.CantidadSolicitada/12,"1.0-0"))}}function Oe(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Total"),f["\u0275\u0275elementEnd"]())}function ze(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,a.Total),"")}}function Ve(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Analizar"),f["\u0275\u0275elementEnd"]())}function Ne(e,t){if(1&e){var a=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275elementStart"](1,"button",34),f["\u0275\u0275listener"]("click",function(){var e=f["\u0275\u0275restoreView"](a).$implicit;return f["\u0275\u0275nextContext"](2).consultasAnaliticas(e)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"scatter_plot"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function We(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",32),f["\u0275\u0275text"](1,"Eliminar"),f["\u0275\u0275elementEnd"]())}function qe(e,t){if(1&e){var a=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275elementStart"](1,"button",35),f["\u0275\u0275listener"]("click",function(){var e=f["\u0275\u0275restoreView"](a).$implicit;return f["\u0275\u0275nextContext"](2).eliminarClave(e)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"remove_circle_outline"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function Ge(e,t){1&e&&f["\u0275\u0275element"](0,"mat-header-row")}function Xe(e,t){1&e&&f["\u0275\u0275element"](0,"mat-row")}function Ze(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",14),f["\u0275\u0275elementStart"](1,"mat-table",15),f["\u0275\u0275elementContainerStart"](2,16),f["\u0275\u0275template"](3,we,2,0,"mat-header-cell",17),f["\u0275\u0275template"](4,De,2,1,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](5,19),f["\u0275\u0275template"](6,ke,2,0,"mat-header-cell",17),f["\u0275\u0275template"](7,Te,2,1,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](8,20),f["\u0275\u0275template"](9,Fe,2,0,"mat-header-cell",17),f["\u0275\u0275template"](10,je,2,1,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](11,21),f["\u0275\u0275template"](12,Ue,2,0,"mat-header-cell",17),f["\u0275\u0275template"](13,Pe,2,1,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](14,22),f["\u0275\u0275template"](15,Be,2,0,"mat-header-cell",17),f["\u0275\u0275template"](16,Re,3,3,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](17,23),f["\u0275\u0275template"](18,Me,2,0,"mat-header-cell",17),f["\u0275\u0275template"](19,_e,2,1,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](20,24),f["\u0275\u0275template"](21,$e,2,0,"mat-header-cell",17),f["\u0275\u0275template"](22,Ae,2,1,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](23,25),f["\u0275\u0275template"](24,He,2,0,"mat-header-cell",17),f["\u0275\u0275template"](25,Le,3,4,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](26,26),f["\u0275\u0275template"](27,Oe,2,0,"mat-header-cell",17),f["\u0275\u0275template"](28,ze,3,3,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](29,27),f["\u0275\u0275template"](30,Ve,2,0,"mat-header-cell",17),f["\u0275\u0275template"](31,Ne,4,0,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](32,28),f["\u0275\u0275template"](33,We,2,0,"mat-header-cell",17),f["\u0275\u0275template"](34,qe,4,0,"mat-cell",18),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](35,Ge,1,0,"mat-header-row",29),f["\u0275\u0275template"](36,Xe,1,0,"mat-row",30),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"h4",31),f["\u0275\u0275text"](38),f["\u0275\u0275pipe"](39,"currency"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){var a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("dataSource",a.dataSource),f["\u0275\u0275advance"](34),f["\u0275\u0275property"]("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",a.displayedColumns),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](39,5,a.totalSolicitud))}}var Ye=function(){var t=function(){function t(a,n,l,o,i){e(this,t),this._route=a,this._conceptosSolicitud=n,this._solicitudes=l,this.dialog=o,this._router=i,this.conceptosBase=[],this.informacion=!0,this.textBtnInf="Solicitud",this.displayedColumns=["Validado","Clave","Descripcion","Servicio","Precio","Cantidades","Aprobada","CPM","Total","Editar"],this.usuarioLog=(0,A.Z)(localStorage.getItem("token"))}return a(t,[{key:"ngOnInit",value:function(){this.id=this._route.snapshot.paramMap.get("id"),this.consultarSolicitudes()}},{key:"consultarSolicitudes",value:function(){var e=this;this._solicitudes.ConsultarSolicitud("","",this.id).subscribe(function(t){e.resultado=t.Data,e.solicitudResultado=t.Data,console.log(e.resultado),console.log(e.solicitudResultado)}),this.llenarTablaSolicitudes()}},{key:"llenarTablaSolicitudes",value:function(){var e=this;this._conceptosSolicitud.ConsultarClaves(this.id,"","","","").subscribe(function(t){console.log(t.Data),e.conceptosBase=t.Data,0===e.conceptosBase.length?e._solicitudes.Actualizarolicitud(e.resultado.Id,"aprobada","","6",e.usuarioLog.UsuarioId,{Id:e.resultado.Id,UsuarioId:e.resultado.UsuarioId,UnidadMedId:e.resultado.UnidadMedId,TipoSolicitudId:e.resultado.TipoSolicitudId,EstatusId:e.resultado.EstatusId,FechaCreacion:e.resultado.FechaCreacion,Total:e.resultado.Total,Correo:e.resultado.Correo,Estado:e.resultado.Estado}).subscribe(function(t){$().fire({icon:"success",title:"Correcto",text:"Solicitud Aprobada"}),e._router.navigate(["/requerimientos/revision"])}):(e.dataSource=new u.by,e.dataSource.data=e.conceptosBase,e.totalSolicitud=e.calcularIva(),e.subtotal=e.getTotalCost(),e.iva=e.getTotal()),console.log(e.conceptosBase)})}},{key:"filtroNoAprobadas",value:function(e){return e.filter(function(e){return 0===e.CantidadAprobada})}},{key:"revisarSolicitud",value:function(){var e=this;2===this.resultado.EstatusId&&(console.log("soy esttus 2"),this._solicitudes.Actualizarolicitud("","Solicitud Revisada","","3",this.usuarioLog.UsuarioId,{Id:this.solicitudResultado.Id,UsuarioId:this.solicitudResultado.UsuarioId,UnidadMedId:this.solicitudResultado.UnidadMedId,TipoSolicitudId:this.solicitudResultado.TipoSolicitudId,EstatusId:this.solicitudResultado.EstatusId,FechaCreacion:this.solicitudResultado.FechaCreacion,Total:this.solicitudResultado.Total,Correo:this.solicitudResultado.Correo,Estado:this.solicitudResultado.Estado}).subscribe(function(t){console.log(t.Data),e.consultarSolicitudes()})),this.informacion=!this.informacion,this.textBtnInf=this.informacion?"Solicitud":"Informaci\xf3n"}},{key:"aprobarSolicitud",value:function(){var e=this;$().fire({title:"Confirmaci\xf3n",text:"Est\xe1s seguro de aprobar esta solicitud",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Si, aprobar"}).then(function(t){t.value&&e._solicitudes.Actualizarolicitud(e.resultado.Id,"aprobada","","6",e.usuarioLog.UsuarioId,{Id:e.resultado.Id,UsuarioId:e.resultado.UsuarioId,UnidadMedId:e.resultado.UnidadMedId,TipoSolicitudId:e.resultado.TipoSolicitudId,EstatusId:e.resultado.EstatusId,FechaCreacion:e.resultado.FechaCreacion,Total:e.resultado.Total,Correo:e.resultado.Correo,Estado:e.resultado.Estado}).subscribe(function(t){$().fire({icon:"success",title:"Correcto",text:t.Mensaje}),e._router.navigate(["/requerimientos/revision"])})})}},{key:"consultasAnaliticas",value:function(e){var t=this;this.dialog.open(he,{height:"95%",width:"95%",disableClose:!0,data:{idSolicitud:this.id,clave:e,clavesSolicitud:this.conceptosBase}}).afterClosed().subscribe(function(e){t.llenarTablaSolicitudes()})}},{key:"comprobarValidados",value:function(e){return!0===e.Estado}},{key:"getTotalCost",value:function(){return this.conceptosBase.map(function(e){return e.Total}).reduce(function(e,t){return e+t})}},{key:"calcularIva",value:function(){return 1.16*this.getTotalCost()}},{key:"getTotal",value:function(){return this.calcularIva()-this.getTotalCost()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](r.gz),f["\u0275\u0275directiveInject"](oe.z),f["\u0275\u0275directiveInject"](s.o),f["\u0275\u0275directiveInject"](p.uw),f["\u0275\u0275directiveInject"](r.F0))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["app-detalle-validar"]],decls:10,vars:4,consts:[[4,"ngIf"],["fxLayout","row wrap"],["mat-button","","value","left","fxflex","30","color","primary",2,"width","max-content",3,"click"],["mat-button","","value","left","fxflex","30","color","primary","style","width: max-content",3,"click",4,"ngIf"],["class","responsive-table",4,"ngIf"],["class","mb-1",4,"ngIf"],["fxLayout","row wrap",4,"ngIf"],[1,"mb-1"],[1,"m-0"],["fxFlex.gt-xs","50","fxFlex","100"],[1,"text-danger","font-bold","m-0"],["fxLayout","column"],["fxFlex.gt-xs","50","fxFlex","100",1,"text-right"],[1,"font-bold","m-0"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","Validado"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Clave"],["matColumnDef","Descripcion"],["matColumnDef","Servicio"],["matColumnDef","Precio"],["matColumnDef","Cantidades"],["matColumnDef","Aprobada"],["matColumnDef","CPM"],["matColumnDef","Total"],["matColumnDef","Editar"],["matColumnDef","Eliminar"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[1,"font-medium",2,"width","max-content","align-content","end"],["mat-sort-header",""],[2,"pointer-events","none","color","#1976d2",3,"checked"],["mat-button","","value","left","color","primary",3,"click"],["mat-button","","value","left","color","warn",3,"click"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275template"](1,Ie,3,2,"mat-card-content",0),f["\u0275\u0275elementStart"](2,"mat-card-content"),f["\u0275\u0275elementStart"](3,"div",1),f["\u0275\u0275elementStart"](4,"button",2),f["\u0275\u0275listener"]("click",function(){return t.revisarSolicitud()}),f["\u0275\u0275elementStart"](5,"mat-icon"),f["\u0275\u0275text"](6,"visibility"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](7),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](8,ye,4,0,"button",3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](9,Ze,40,7,"div",4),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.informacion),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate1"](" ",t.textBtnInf," "),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.informacion),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.informacion))},directives:[x.a8,o.O5,x.dn,H.xw,v.lW,h.Hw,H.yH,u.BZ,C.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,C.nU,u.ev,Ee.oG,u.XQ,u.Gk],pipes:[o.H9,o.JJ],styles:[""]}),t}();function Qe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-option",18),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275property"]("value",a.id),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.servicio," ")}}function Ke(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Clave Cuadro Basico"),f["\u0275\u0275elementEnd"]())}function Je(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.ClaveId,"")}}function et(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Descripci\xf3n"),f["\u0275\u0275elementEnd"]())}function tt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.Descripcion.substring(0,160),"")}}function at(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Servicio"),f["\u0275\u0275elementEnd"]())}function nt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",a.ServiciosProforma.Descripcion,"")}}function lt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Unidad Medica"),f["\u0275\u0275elementEnd"]())}function ot(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](a.Solicitud.UnidadMed.DenominacionUni)}}function it(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Precio"),f["\u0275\u0275elementEnd"]())}function rt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,a.Precio),"")}}function dt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Cantidad Aprobada"),f["\u0275\u0275elementEnd"]())}function ct(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](a.CantidadAprobada)}}function mt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-header-cell",19),f["\u0275\u0275text"](1,"Total"),f["\u0275\u0275elementEnd"]())}function st(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"mat-cell"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"currency"),f["\u0275\u0275elementEnd"]()),2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,a.Total),"")}}function ut(e,t){1&e&&f["\u0275\u0275element"](0,"mat-header-row")}function pt(e,t){1&e&&f["\u0275\u0275element"](0,"mat-row")}var ft,vt,St=[{path:"",children:[{path:"revision",component:R},{path:"validado",component:le},{path:"final",component:(ft=function(){function t(a){e(this,t),this._conceptosSolicitud=a,this.displayedColumns=["Clave","Descripcion","Servicio","Unidad","Precio","Aprobada","Total"],this.valorServicio=""}return a(t,[{key:"ngOnInit",value:function(){this.llenarTabla()}},{key:"llenarTabla",value:function(){var e=this;this._conceptosSolicitud.ConsultarClaves("","","","true",this.valorServicio).subscribe(function(t){console.log(t.Data),e.datosClaves=t.Data,e.dataSource=new u.by,e.dataSource.data=t.Data,e.agruparServicios(e.datosClaves)})}},{key:"valorSelecServicios",value:function(e){var t=this;console.log(e),this._conceptosSolicitud.ConsultarClaves("","","","true",this.valorServicio).subscribe(function(e){t.dataSource=new u.by,t.dataSource.data=e.Data})}},{key:"agruparServicios",value:function(e){e.map(function(e){return{id:e.ServiciosProformaId,servicio:e.ServiciosProforma.Descripcion}})}}]),t}(),ft.\u0275fac=function(e){return new(e||ft)(f["\u0275\u0275directiveInject"](oe.z))},ft.\u0275cmp=f["\u0275\u0275defineComponent"]({type:ft,selectors:[["app-solicitud-final"]],decls:34,vars:6,consts:[[1,"p-20"],["fxLayout","row wrap"],["appearance","outline","fxFlex","55"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","Clave"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Descripcion"],["matColumnDef","Servicio"],["matColumnDef","Unidad"],["matColumnDef","Precio"],["matColumnDef","Aprobada"],["matColumnDef","Total"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-sort-header",""]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"mat-card"),f["\u0275\u0275elementStart"](1,"mat-card-title",0),f["\u0275\u0275text"](2,"Solicitudes Final"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"mat-card-content",1),f["\u0275\u0275elementStart"](4,"mat-form-field",2),f["\u0275\u0275elementStart"](5,"mat-label"),f["\u0275\u0275text"](6,"Filtrar por servicio"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"mat-select",3),f["\u0275\u0275listener"]("valueChange",function(e){return t.valorServicio=e})("selectionChange",function(){return t.valorSelecServicios(t.valorServicio)}),f["\u0275\u0275template"](8,Qe,2,2,"mat-option",4),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"div",5),f["\u0275\u0275elementStart"](10,"mat-table",6),f["\u0275\u0275elementContainerStart"](11,7),f["\u0275\u0275template"](12,Ke,2,0,"mat-header-cell",8),f["\u0275\u0275template"](13,Je,2,1,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](14,10),f["\u0275\u0275template"](15,et,2,0,"mat-header-cell",8),f["\u0275\u0275template"](16,tt,2,1,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](17,11),f["\u0275\u0275template"](18,at,2,0,"mat-header-cell",8),f["\u0275\u0275template"](19,nt,2,1,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](20,12),f["\u0275\u0275template"](21,lt,2,0,"mat-header-cell",8),f["\u0275\u0275template"](22,ot,2,1,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](23,13),f["\u0275\u0275template"](24,it,2,0,"mat-header-cell",8),f["\u0275\u0275template"](25,rt,3,3,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](26,14),f["\u0275\u0275template"](27,dt,2,0,"mat-header-cell",8),f["\u0275\u0275template"](28,ct,2,1,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](29,15),f["\u0275\u0275template"](30,mt,2,0,"mat-header-cell",8),f["\u0275\u0275template"](31,st,3,3,"mat-cell",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](32,ut,1,0,"mat-header-row",16),f["\u0275\u0275template"](33,pt,1,0,"mat-row",17),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](7),f["\u0275\u0275property"]("value",t.valorServicio),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",t.serviciosSelect),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("dataSource",t.dataSource),f["\u0275\u0275advance"](22),f["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns))},directives:[x.a8,x.n5,x.dn,H.xw,L.KE,H.yH,L.hX,O.gD,o.sg,u.BZ,C.YE,u.w1,u.fO,u.Dz,u.as,u.nj,z.ey,u.ge,C.nU,u.ev,u.XQ,u.Gk],pipes:[o.H9],styles:[""]}),ft)},{path:"revision/validar/:id",component:Ye}],canActivate:[c.a,m.X]}],xt=l(77154),Ct=((vt=function t(){e(this,t)}).\u0275fac=function(e){return new(e||vt)},vt.\u0275mod=f["\u0275\u0275defineNgModule"]({type:vt}),vt.\u0275inj=f["\u0275\u0275defineInjector"]({imports:[[o.ez,i.q,r.Bz.forChild(St),d.m,xt.o9]]}),vt)}}])}();