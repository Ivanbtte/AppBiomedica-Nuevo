(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[518],{10518:function(e,t,n){"use strict";n.r(t),n.d(t,{CatalogosModule:function(){return ye}});var o=n(29996),r=n(61116),a=n(77361),i=n(18240),l=n(39199),c=n(31041),s=n(56238),m=n(79996),p=n(92935),d=n(35366),u=n(35965),f=n(84369),g=n(22797),h=n(36278);function v(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-card"),d["\u0275\u0275elementStart"](1,"mat-card-header"),d["\u0275\u0275elementStart"](2,"mat-card-title",5),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](4,"mat-divider"),d["\u0275\u0275elementStart"](5,"mat-card-content"),d["\u0275\u0275elementStart"](6,"div",6),d["\u0275\u0275elementStart"](7,"div",7),d["\u0275\u0275elementStart"](8,"p",8),d["\u0275\u0275text"](9," Id Articulo: "),d["\u0275\u0275elementStart"](10,"strong"),d["\u0275\u0275text"](11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"p"),d["\u0275\u0275text"](13," Clave Cuadro Basico: "),d["\u0275\u0275elementStart"](14,"strong"),d["\u0275\u0275text"](15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"p"),d["\u0275\u0275text"](17," Presentacion: "),d["\u0275\u0275elementStart"](18,"strong"),d["\u0275\u0275text"](19),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"p",9),d["\u0275\u0275text"](21," Precio sin IVA:"),d["\u0275\u0275elementStart"](22,"strong"),d["\u0275\u0275text"](23),d["\u0275\u0275pipe"](24,"currency"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"p",9),d["\u0275\u0275text"](26," Precio con IVA:"),d["\u0275\u0275elementStart"](27,"strong"),d["\u0275\u0275text"](28),d["\u0275\u0275pipe"](29,"currency"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"div",10),d["\u0275\u0275element"](31,"img",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](32,"mat-divider"),d["\u0275\u0275elementStart"](33,"p",12),d["\u0275\u0275text"](34),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.clave.Descripcion.substring(0,160)),d["\u0275\u0275advance"](8),d["\u0275\u0275textInterpolate"](e.clave.IdArticulo),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](e.claveCuadro),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](e.clave.UnidadesMedidas.Unidad),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](24,7,e.clave.Precio)),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](29,9,1.16*e.clave.Precio)),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate1"](" ",e.clave.Descripcion," ")}}let x=(()=>{class e{constructor(e,t,n){this._prei=e,this.dialogRef=t,this.data=n,this.claveCuadro="",this._prei.getClavePrei(n.id,"").subscribe(e=>{this.clave=e.Data,this.claveCuadro=this.clave.Grupo+"."+this.clave.Generico+"."+this.clave.Especifico+"."+this.clave.Diferenciador+"."+this.clave.Variable},e=>{console.log(e)})}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](i.X),d["\u0275\u0275directiveInject"](p.so),d["\u0275\u0275directiveInject"](p.WI))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-detalle-dialog"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content","","fxLayout","row wrap"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[2,"color","#545454"],[1,"container"],[1,"div-text"],[2,"margin","0 0"],[2,"color","#c90025"],[1,"div-imagen"],["mat-card-image","","src","../../../assets/images/background/sin-imagen.jpg","alt","Photo of a Shiba Inu",1,"imagen"],[2,"color","#3100cb","text-align","justify"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h1",0),d["\u0275\u0275text"](1,"Detalle clave"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275template"](3,v,35,11,"mat-card",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",3),d["\u0275\u0275elementStart"](5,"button",4),d["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),d["\u0275\u0275text"](6,"Regresar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.clave))},directives:[p.uh,p.xY,u.xw,r.O5,p.H8,f.lW,g.a8,g.dk,g.n5,h.d,g.dn,g.G2],pipes:[r.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%;height:auto;max-height:450px;align-items:center;justify-content:center}.div-imagen[_ngcontent-%COMP%], .div-text[_ngcontent-%COMP%]{width:50%;max-width:50%;height:auto;max-height:430px}.div-imagen[_ngcontent-%COMP%]{justify-content:center;margin:0 auto;overflow:hidden;position:relative}.imagen[_ngcontent-%COMP%]{max-width:100%;max-height:600px;margin:0 auto}"]}),e})();var S=n(5609),C=n(13070),E=n(9550),b=n(79961),_=n(27701),y=n(87064),w=n(77307);function P(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",39),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.Grupo," ")}}function I(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",34),d["\u0275\u0275elementStart"](1,"form",35),d["\u0275\u0275elementStart"](2,"mat-form-field",7),d["\u0275\u0275elementStart"](3,"mat-label"),d["\u0275\u0275text"](4,"Selecciona un tema de b\xfasqueda"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"input",36),d["\u0275\u0275elementStart"](6,"mat-autocomplete",37,38),d["\u0275\u0275listener"]("optionSelected",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().buscarPorTema()}),d["\u0275\u0275template"](8,P,2,2,"mat-option",11),d["\u0275\u0275pipe"](9,"async"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](7),t=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("formControl",t.myControl)("matAutocomplete",e),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("displayWith",t.displayFn),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](9,4,t.filteredOptions))}}function D(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",39),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e," ")}}function A(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",42),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).borrarGrupo()}),d["\u0275\u0275elementStart"](1,"mat-icon"),d["\u0275\u0275text"](2,"close"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function F(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-icon",43),d["\u0275\u0275text"](1,"filter_list"),d["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"mat-form-field",7),d["\u0275\u0275elementStart"](1,"mat-label"),d["\u0275\u0275text"](2,"Grupo"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](3,"input",40),d["\u0275\u0275elementStart"](4,"mat-autocomplete",9,41),d["\u0275\u0275listener"]("optionSelected",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().buscarPorGrupo()}),d["\u0275\u0275template"](6,D,2,2,"mat-option",11),d["\u0275\u0275pipe"](7,"async"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,A,3,0,"button",12),d["\u0275\u0275template"](9,F,2,0,"mat-icon",13),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](5),t=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("formControl",t.control_grupo)("matAutocomplete",e),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](7,5,t.filteredGrupos)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.control_grupo.value),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.control_grupo.value)}}function G(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",39),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e," ")}}function k(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",42),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().borrarGenerico()}),d["\u0275\u0275elementStart"](1,"mat-icon"),d["\u0275\u0275text"](2,"close"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function V(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-icon",43),d["\u0275\u0275text"](1,"filter_list"),d["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",39),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e," ")}}function N(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-icon",43),d["\u0275\u0275text"](1,"filter_list"),d["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",42),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().borrarEspecifico()}),d["\u0275\u0275elementStart"](1,"mat-icon"),d["\u0275\u0275text"](2,"close"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function j(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell"),d["\u0275\u0275text"](1,"Clave Cuadro B\xe1sico"),d["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate5"](" ",e.Grupo,".",e.Generico,".",e.Especifico,".",e.Diferenciador,".",e.Variable," ")}}function L(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell"),d["\u0275\u0275text"](1,"Id Articulo"),d["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](e.IdArticulo)}}function U(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell"),d["\u0275\u0275text"](1," Descripci\xf3n"),d["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.regresaDescripcion(e.Descripcion),"")}}function W(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell"),d["\u0275\u0275text"](1,"Tipo de Presentaci\xf3n"),d["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.UnidadesMedidas.Unidad,"")}}function T(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell"),d["\u0275\u0275text"](1,"Precio con IVA"),d["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"currency"),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,1.16*e.Precio),"")}}function Q(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell"),d["\u0275\u0275text"](1," Vista"),d["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275elementStart"](1,"button",44),d["\u0275\u0275listener"]("click",function(){const t=d["\u0275\u0275restoreView"](e).$implicit;return d["\u0275\u0275nextContext"]().openDialog(t.Id)}),d["\u0275\u0275elementStart"](2,"mat-icon"),d["\u0275\u0275text"](3,"visibility"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function Y(e,t){1&e&&d["\u0275\u0275element"](0,"mat-header-row")}function Z(e,t){1&e&&d["\u0275\u0275element"](0,"mat-row")}let J=(()=>{class e{constructor(e,t){this._prei=e,this.dialog=t,this.myControl=new c.FormControl,this.control_nombre=new c.FormControl,this.control_grupo=new c.FormControl,this.control_generico=new c.FormControl,this.control_especifico=new c.FormControl,this.displayedColumns=["Clave","IdArticulo","Descripcion","Tipo","Precio","Vista"],this.cargando=!1,this.cuadro_id="",this.grupo_id="",this.generico_id="",this.especifico_id="",this.options=[],this.lastFilter="",this.tamanioPagina=50,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.arreglo_grupos=[],this.arreglo_genericos=[],this.arreglo_especificos=[],this.lastFilterGrupos="",this.lastFilterGenerico="",this.lastFilterEspecifico=""}ngOnInit(){this.cargarSelect(),this.llenarArreglo(),this.consultarGrupo(),this.control_grupo.valueChanges.subscribe(e=>{""===e&&this.borrarGrupo()}),this.control_generico.valueChanges.subscribe(e=>{""===e&&this.borrarGenerico()}),this.control_especifico.valueChanges.subscribe(e=>{""===e&&this.borrarEspecifico()}),this.myControl.valueChanges.subscribe(e=>{console.log(e),""===e&&this.buscarPorTema()}),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(e=>{e&&(this.paginaActual=e.pageIndex+1,this.tamanioPagina=e.pageSize,this.llenarArreglo())}),this.filteredOptions=this.myControl.valueChanges.pipe((0,s.O)(""),(0,m.U)(e=>"string"==typeof e?e:e.Grupo),(0,m.U)(e=>e?this._filter2(e):this.options.slice()))}openDialog(e){this.dialog.open(x,{height:"auto",width:"auto",data:{id:e}}).afterClosed().subscribe(e=>{})}cargaAutoCompleteGenerico(){this.filteredGenerico=this.control_generico.valueChanges.pipe((0,s.O)(""),(0,m.U)(e=>"string"==typeof e?e:this.lastFilterGenerico),(0,m.U)(e=>this._filter_generico(e)))}cargaAutoCompleteEspecifico(){this.filteredEspecifico=this.control_especifico.valueChanges.pipe((0,s.O)(""),(0,m.U)(e=>"string"==typeof e?e:this.lastFilterEspecifico),(0,m.U)(e=>this._filter_especifico(e)))}cargaAutocompleteGrupo(){this.filteredGrupos=this.control_grupo.valueChanges.pipe((0,s.O)(""),(0,m.U)(e=>"string"==typeof e?e:this.lastFilterGrupos),(0,m.U)(e=>this._filter_grupos(e)))}cargarSelect(){this._prei.getCuadroBasico().subscribe(e=>{this.options=e.Data},e=>{console.log(e)})}consultarGrupo(){this._prei.consultarFiltrosPrei("","",!0).subscribe(e=>{this.arreglo_grupos=e.Data.map(e=>e.Grupo),this.cargaAutocompleteGrupo(),console.log(this.arreglo_grupos)})}consultarGenerico(e){this._prei.consultarFiltrosPrei(e,"",!1).subscribe(e=>{this.arreglo_genericos=e.Data.map(e=>e.Generico),console.log(this.arreglo_genericos),this.cargaAutoCompleteGenerico()})}consultaEspecifico(e,t){this._prei.consultarFiltrosPrei(e,t,!1).subscribe(e=>{this.arreglo_especificos=e.Data.map(e=>e.Especifico),console.log(this.arreglo_especificos),this.cargaAutoCompleteEspecifico()})}buscarPorNombre(){this.paginator.firstPage(),this.llenarArreglo()}buscarPorTema(){this.cuadro_id=""!==this.myControl.value?this.myControl.value.Id:"0",this.paginator.firstPage(),this.control_nombre.reset(),this.grupo_id="",this.control_grupo.reset(),this.generico_id="",this.control_generico.reset(),this.especifico_id="",this.control_especifico.reset(),this.llenarArreglo(),this.consultarGrupo()}buscarPorGrupo(){this.grupo_id=null!==this.control_grupo.value?this.control_grupo.value:0,this.cuadro_id="",this.myControl.reset(),this.generico_id="",this.control_generico.reset(),this.especifico_id="",this.control_nombre.reset(),this.paginator.firstPage(),this.llenarArreglo(),this.consultarGenerico(this.grupo_id)}buscarPorGenerico(){null!==this.control_generico.value&&(console.log("buscando por generico"),this.generico_id=this.control_generico.value,this.control_nombre.reset(),this.paginator.firstPage(),this.llenarArreglo(),this.consultaEspecifico(this.grupo_id,this.generico_id))}buscarPorEspecifico(){null!==this.control_especifico.value&&(this.especifico_id=this.control_especifico.value,this.control_nombre.reset(),this.paginator.firstPage(),this.llenarArreglo())}llenarArreglo(){this._prei.getPrei(this.cuadro_id,null!==this.control_nombre.value?this.control_nombre.value:"",this.paginaActual.toString(),this.tamanioPagina.toString(),this.grupo_id,this.generico_id,this.especifico_id).subscribe(e=>{this.dataSource=new l.by,this.dataSource.data=e.Data.registros,console.log(e.Data.registros),this.totalRegistros=e.Data.total,this.cargando=!0},e=>{console.log(e)})}_filter2(e){const t=e.toLowerCase();return this.options.filter(e=>e.Grupo.toLowerCase().includes(t))}_filter_grupos(e){return e?(this.lastFilterGrupos=e.toLowerCase(),this.arreglo_grupos.filter(e=>0===e.toLowerCase().indexOf(this.lastFilterGrupos))):this.arreglo_grupos}_filter_generico(e){return e?(this.lastFilterGenerico=e.toLowerCase(),this.arreglo_genericos.filter(e=>0===e.toLowerCase().indexOf(this.lastFilterGenerico))):this.arreglo_genericos}_filter_especifico(e){return e?(this.lastFilterEspecifico=e.toLowerCase(),this.arreglo_especificos.filter(e=>0===e.toLowerCase().indexOf(this.lastFilterEspecifico))):this.arreglo_especificos}displayFn(e){return e&&e.Grupo?e.Grupo:""}borrarGrupo(){this.grupo_id="",this.generico_id="",this.especifico_id="",this.control_grupo.reset(),this.control_generico.reset(),this.control_especifico.reset(),this.control_nombre.reset(),this.llenarArreglo(),this.consultarGrupo()}borrarGenerico(){this.generico_id="",this.especifico_id="",this.control_generico.reset(),this.control_especifico.reset(),this.control_nombre.reset(),this.llenarArreglo()}borrarEspecifico(){this.especifico_id="",this.control_especifico.reset(),this.control_nombre.reset(),this.llenarArreglo()}regresaDescripcion(e){return e.split(".",1).toString()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](i.X),d["\u0275\u0275directiveInject"](p.uw))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-prei"]],viewQuery:function(e,t){if(1&e&&d["\u0275\u0275viewQuery"](S.NW,7),2&e){let e;d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},decls:67,vars:28,consts:[[1,"bg-light","p-10","p-r-20","p-l-20"],[1,"font-bold","centerText",2,"color","#003366"],["fxLayout","row wrap","fxLayoutAlign","space-between start"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","10","fxFlex.gt-xs","100","fxFlex","100"],["appearance","standard",4,"ngIf"],["fxFlex.gt-sm","12","fxFlex.gt-xs","100","fxFlex","100",1,"m-l-15"],["appearance","standard"],["type","text","placeholder","Gen\xe9rico","aria-label","Number","matInput","","maxlength","3","autocomplete","off",3,"formControl","matAutocomplete","matAutocompleteDisabled","keyup.enter"],["autoActiveFirstOption","",3,"optionSelected"],["auto2","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","",4,"ngIf"],["type","text","placeholder","Especifico","matInput","","autocomplete","off","maxlength","4",3,"formControl","matAutocomplete","matAutocompleteDisabled","keyup.enter"],["auto3","matAutocomplete"],["fxLayout","row wrap"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Escribe la descripcion","autocomplete","off",3,"formControl","keyup.enter"],[3,"hidden"],["mode","query"],[1,"responsive-table"],[3,"dataSource"],["matColumnDef","Clave"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IdArticulo"],["matColumnDef","Descripcion"],["matColumnDef","Tipo"],["matColumnDef","Precio"],["matColumnDef","Vista"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100"],[1,"example-form"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value"],["type","text","placeholder","Grupo","aria-label","Number","matInput","","maxlength","3",3,"formControl","matAutocomplete"],["auto1","matAutocomplete"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSuffix",""],["mat-icon-button","","color","primary",3,"click"]],template:function(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-card"),d["\u0275\u0275elementStart"](1,"mat-card-content"),d["\u0275\u0275elementStart"](2,"div",0),d["\u0275\u0275elementStart"](3,"mat-card-title",1),d["\u0275\u0275text"](4,"Filtros por clave de cuadro b\xe1sico "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",2),d["\u0275\u0275template"](6,I,10,6,"div",3),d["\u0275\u0275elementStart"](7,"div",4),d["\u0275\u0275template"](8,O,10,7,"mat-form-field",5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",6),d["\u0275\u0275elementStart"](10,"mat-form-field",7),d["\u0275\u0275elementStart"](11,"mat-label"),d["\u0275\u0275text"](12,"Gen\xe9rico"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"input",8),d["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorGenerico()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"mat-autocomplete",9,10),d["\u0275\u0275listener"]("optionSelected",function(){return t.buscarPorGenerico()}),d["\u0275\u0275template"](16,G,2,2,"mat-option",11),d["\u0275\u0275pipe"](17,"async"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](18,k,3,0,"button",12),d["\u0275\u0275template"](19,V,2,0,"mat-icon",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"div",6),d["\u0275\u0275elementStart"](21,"mat-form-field",7),d["\u0275\u0275elementStart"](22,"mat-label"),d["\u0275\u0275text"](23,"Especifico"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"input",14),d["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorEspecifico()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"mat-autocomplete",9,15),d["\u0275\u0275listener"]("optionSelected",function(){return t.buscarPorEspecifico()}),d["\u0275\u0275template"](27,M,2,2,"mat-option",11),d["\u0275\u0275pipe"](28,"async"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](29,N,2,0,"mat-icon",13),d["\u0275\u0275template"](30,R,3,0,"button",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"div",16),d["\u0275\u0275elementStart"](32,"div",17),d["\u0275\u0275elementStart"](33,"mat-card"),d["\u0275\u0275elementStart"](34,"mat-card-content"),d["\u0275\u0275elementStart"](35,"mat-card-title"),d["\u0275\u0275text"](36,"Bienes de Inversi\xf3n"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"div",0),d["\u0275\u0275elementStart"](38,"mat-form-field"),d["\u0275\u0275elementStart"](39,"mat-label"),d["\u0275\u0275text"](40,"Buscar por la descripci\xf3n de la clave"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](41,"input",18),d["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](42,"div",19),d["\u0275\u0275element"](43,"mat-progress-bar",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](44,"div",21),d["\u0275\u0275elementStart"](45,"mat-table",22),d["\u0275\u0275elementContainerStart"](46,23),d["\u0275\u0275template"](47,j,2,0,"mat-header-cell",24),d["\u0275\u0275template"](48,B,2,5,"mat-cell",25),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](49,26),d["\u0275\u0275template"](50,L,2,0,"mat-header-cell",24),d["\u0275\u0275template"](51,H,2,1,"mat-cell",25),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](52,27),d["\u0275\u0275template"](53,U,2,0,"mat-header-cell",24),d["\u0275\u0275template"](54,$,2,1,"mat-cell",25),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](55,28),d["\u0275\u0275template"](56,W,2,0,"mat-header-cell",24),d["\u0275\u0275template"](57,z,2,1,"mat-cell",25),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](58,29),d["\u0275\u0275template"](59,T,2,0,"mat-header-cell",24),d["\u0275\u0275template"](60,X,3,3,"mat-cell",25),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](61,30),d["\u0275\u0275template"](62,Q,2,0,"mat-header-cell",24),d["\u0275\u0275template"](63,q,4,0,"mat-cell",25),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275template"](64,Y,1,0,"mat-header-row",31),d["\u0275\u0275template"](65,Z,1,0,"mat-row",32),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](66,"mat-paginator",33),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275reference"](15),n=d["\u0275\u0275reference"](26);d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngIf",t.options.length>0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.arreglo_grupos),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("formControl",t.control_generico)("matAutocomplete",e)("matAutocompleteDisabled",!t.grupo_id),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](17,24,t.filteredGenerico)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.control_generico.value),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.control_generico.value),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("formControl",t.control_especifico)("matAutocomplete",n)("matAutocompleteDisabled",!t.generico_id),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](28,26,t.filteredEspecifico)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",!t.control_especifico.value),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.control_especifico.value),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("formControl",t.control_nombre),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("hidden",t.cargando),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("dataSource",t.dataSource),d["\u0275\u0275advance"](19),d["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0)}},directives:[g.a8,g.dn,g.n5,u.xw,u.Wh,r.O5,u.yH,C.KE,C.hX,E.Nt,c.DefaultValueAccessor,b.ZL,c.MaxLengthValidator,c.NgControlStatus,c.FormControlDirective,b.XC,r.sg,_.pW,l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,S.NW,c["\u0275NgNoValidate"],c.NgControlStatusGroup,c.NgForm,y.ey,f.lW,C.R9,w.Hw,l.ge,l.ev,l.XQ,l.Gk],pipes:[r.Ov,r.H9],styles:[".mat-header-cell[_ngcontent-%COMP%]{font-size:11pt;font-weight:700}.mat-table[_ngcontent-%COMP%]   .mat-column-Clave[_ngcontent-%COMP%]{flex:0 0 12%;text-align:left!important}.mat-table[_ngcontent-%COMP%]   .mat-column-IdArticulo[_ngcontent-%COMP%]{flex:0 0 7%;text-align:left!important}.mat-table[_ngcontent-%COMP%]   .mat-column-Descripcion[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px}.mat-table[_ngcontent-%COMP%]   .mat-column-Precio[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-column-Tipo[_ngcontent-%COMP%]{flex:0 0 10%;text-align:center!important}.mat-table[_ngcontent-%COMP%]   .mat-column-Precio[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-column-Vista[_ngcontent-%COMP%]{justify-content:center!important}.mat-table[_ngcontent-%COMP%]   .mat-column-Vista[_ngcontent-%COMP%]{flex:0 0 4.5%}"]}),e})();var K=n(82573),ee=n(42693),te=n(529);let ne=(()=>{class e{constructor(e){this.http=e}getProforma(e,t,n,o){let r=(new ee.LE).set("nombre",t).set("pagina",n).set("num_registros",o);return""!==e&&(r=r.set("servicio",e)),this.http.get(`${te.N.host}/proforma`,{params:r}).pipe((0,m.U)(e=>e))}getClaveProforma(e){return this.http.get(`${te.N.host}/proforma/${e}`).pipe((0,m.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](ee.eN))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var oe=n(59241),re=n(36420);function ae(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-card"),d["\u0275\u0275elementStart"](1,"mat-card-header"),d["\u0275\u0275elementStart"](2,"mat-card-title",5),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"mat-card-subtitle"),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](6,"mat-divider"),d["\u0275\u0275elementStart"](7,"mat-card-content"),d["\u0275\u0275elementStart"](8,"div",6),d["\u0275\u0275elementStart"](9,"div",7),d["\u0275\u0275elementStart"](10,"p",8),d["\u0275\u0275text"](11," Id Articulo: "),d["\u0275\u0275elementStart"](12,"strong"),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"p"),d["\u0275\u0275text"](15," Clave Cuadro Basico: "),d["\u0275\u0275elementStart"](16,"strong"),d["\u0275\u0275text"](17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"p"),d["\u0275\u0275text"](19," Presentacion: "),d["\u0275\u0275elementStart"](20,"strong"),d["\u0275\u0275text"](21),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"p"),d["\u0275\u0275text"](23," Nivel de Atencion: "),d["\u0275\u0275elementStart"](24,"strong"),d["\u0275\u0275text"](25),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"p",9),d["\u0275\u0275text"](27," Precio sin IVA:"),d["\u0275\u0275elementStart"](28,"strong"),d["\u0275\u0275text"](29),d["\u0275\u0275pipe"](30,"currency"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"p",9),d["\u0275\u0275text"](32," Precio con IVA:"),d["\u0275\u0275elementStart"](33,"strong"),d["\u0275\u0275text"](34),d["\u0275\u0275pipe"](35,"currency"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"div",10),d["\u0275\u0275element"](37,"img",11),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](38,"mat-divider"),d["\u0275\u0275elementStart"](39,"p",12),d["\u0275\u0275text"](40),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.clave[0].Descripcion.substring(0,160)),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("Servicios: ",e.nombreServicio,""),d["\u0275\u0275advance"](8),d["\u0275\u0275textInterpolate"](e.clave[0].PreiIdArticulo),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](e.clave[0].ClaveCB),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](e.clave[0].Pre.UnidadesMedidas.Unidad),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](e.clave[0].NivelAtn),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](30,9,e.clave[0].Pre.Precio)),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](35,11,1.16*e.clave[0].Pre.Precio)),d["\u0275\u0275advance"](6),d["\u0275\u0275textInterpolate1"](" ",e.clave[0].Descripcion," ")}}let ie=(()=>{class e{constructor(e,t,n,o){this._proforma=e,this._servicios=t,this.dialogRef=n,this.data=o,this.servicios=[],this.nombreServicio="",this._proforma.getClaveProforma(o.id).subscribe(e=>{this.clave=e.Data,console.log(this.clave)},e=>{console.log(e)}),this._servicios.getClaveProformaServicios(o.id).subscribe(e=>{this.servicios=e.Data;const t=this.servicios.map(e=>e.Descripcion);this.nombreServicio=t.join(),console.log(this.servicios)},e=>{console.log(e)})}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](ne),d["\u0275\u0275directiveInject"](re.J),d["\u0275\u0275directiveInject"](p.so),d["\u0275\u0275directiveInject"](p.WI))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-detalle-proforma"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content","","fxLayout","row wrap"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[2,"color","#545454"],[1,"container"],[1,"div-text"],[2,"margin","0 0"],[2,"color","#c90025"],[1,"div-imagen"],["mat-card-image","","src","../../../assets/images/background/sin-imagen.jpg","alt","Photo of a Shiba Inu",1,"imagen"],[2,"color","#3100cb","text-align","justify"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"h1",0),d["\u0275\u0275text"](1,"Detalle clave"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275template"](3,ae,41,13,"mat-card",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"div",3),d["\u0275\u0275elementStart"](5,"button",4),d["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),d["\u0275\u0275text"](6,"Regresar"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",t.clave))},directives:[p.uh,p.xY,u.xw,r.O5,p.H8,f.lW,g.a8,g.dk,g.n5,g.$j,h.d,g.dn,g.G2],pipes:[r.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%;height:auto;max-height:450px;align-items:center;justify-content:center}.div-imagen[_ngcontent-%COMP%], .div-text[_ngcontent-%COMP%]{width:50%;max-width:50%;height:auto;max-height:430px}.div-imagen[_ngcontent-%COMP%]{justify-content:center;margin:0 auto;overflow:hidden;position:relative}.imagen[_ngcontent-%COMP%]{max-width:100%;max-height:600px;margin:0 auto}"]}),e})();function le(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",24),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.Descripcion," ")}}function ce(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",18),d["\u0275\u0275elementStart"](1,"form",19),d["\u0275\u0275elementStart"](2,"mat-form-field"),d["\u0275\u0275elementStart"](3,"mat-label"),d["\u0275\u0275text"](4,"Filtrar por servicio proforma"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"input",20),d["\u0275\u0275elementStart"](6,"mat-autocomplete",21,22),d["\u0275\u0275listener"]("optionSelected",function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().buscarPorGrupo()}),d["\u0275\u0275template"](8,le,2,2,"mat-option",23),d["\u0275\u0275pipe"](9,"async"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275reference"](7),t=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("formControl",t.myControl)("matAutocomplete",e),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("displayWith",t.displayFn),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](9,4,t.filteredOptions))}}function se(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell",25),d["\u0275\u0275text"](1,"Id Articulo"),d["\u0275\u0275elementEnd"]())}function me(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.PreiIdArticulo,"")}}function pe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell",25),d["\u0275\u0275text"](1,"Clave Cuadro Basico"),d["\u0275\u0275elementEnd"]())}function de(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.ClaveCB,"")}}function ue(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell",25),d["\u0275\u0275text"](1,"Descripci\xf3n"),d["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.Descripcion.substring(0,160),"")}}function ge(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-header-cell",25),d["\u0275\u0275text"](1," Vista"),d["\u0275\u0275elementEnd"]())}function he(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"mat-cell"),d["\u0275\u0275elementStart"](1,"button",26),d["\u0275\u0275listener"]("click",function(){const t=d["\u0275\u0275restoreView"](e).$implicit;return d["\u0275\u0275nextContext"]().openDialog(t.PreiIdArticulo)}),d["\u0275\u0275elementStart"](2,"mat-icon"),d["\u0275\u0275text"](3,"visibility"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}}function ve(e,t){1&e&&d["\u0275\u0275element"](0,"mat-header-row")}function xe(e,t){1&e&&d["\u0275\u0275element"](0,"mat-row")}const Se=[{path:"",children:[{path:"sai",component:a.x,canActivate:[K.a]},{path:"prei",component:J,canActivate:[K.a]},{path:"proforma",component:(()=>{class e{constructor(e,t,n){this._proforma=e,this._serviciosPro=t,this.dialog=n,this.myControl=new c.FormControl,this.control_nombre=new c.FormControl,this.displayedColumns=["IdArticulo","ClaveCuadroBasico","Descripcion","Vista"],this.cargando=!1,this.options=[],this.lastFilter="",this.tamanioPagina=20,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.serviceProforma=""}openDialog(e){this.dialog.open(ie,{height:"auto",width:"auto",data:{id:e}}).afterClosed().subscribe(e=>{})}ngOnInit(){this.llenarTabla(),this.llenarSelect(),this.filteredOptions=this.myControl.valueChanges.pipe((0,s.O)(""),(0,m.U)(e=>"string"==typeof e?e:e.Descripcion),(0,m.U)(e=>e?this._filter(e):this.options.slice())),this.paginator.page.subscribe(e=>{e&&(this.paginaActual=e.pageIndex+1,this.tamanioPagina=e.pageSize,this.llenarTabla())}),this.myControl.valueChanges.subscribe(e=>{console.log(e),""===e&&this.buscarPorGrupo()})}llenarTabla(){this._proforma.getProforma(this.serviceProforma,null!==this.control_nombre.value?this.control_nombre.value:"",this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(e=>{this.dataSource=new l.by,this.dataSource.data=e.Data.registros,this.totalRegistros=e.Data.total,this.cargando=!0,this.datosProforma=e.Data,console.log(this.datosProforma)},e=>{console.log(e)})}llenarSelect(){this._serviciosPro.getServiciosProf().subscribe(e=>{this.options=e.Data},e=>{console.log(e)})}buscarPorNombre(){this.paginator.firstPage(),this.llenarTabla()}buscarPorGrupo(){this.serviceProforma=""!==this.myControl.value?this.myControl.value.Id:"0",this.control_nombre.reset(),this.paginator.firstPage(),this.llenarTabla()}_filter(e){const t=e.toLowerCase();return this.options.filter(e=>e.Descripcion.toLowerCase().includes(t))}displayFn(e){return e?e.Descripcion:""}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](ne),d["\u0275\u0275directiveInject"](re.J),d["\u0275\u0275directiveInject"](p.uw))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-proforma"]],viewQuery:function(e,t){if(1&e&&(d["\u0275\u0275viewQuery"](S.NW,7),d["\u0275\u0275viewQuery"](oe.YE,7)),2&e){let e;d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.paginator=e.first),d["\u0275\u0275queryRefresh"](e=d["\u0275\u0275loadQuery"]())&&(t.sort=e.first)}},decls:33,vars:11,consts:[[1,"bg-light","p-10","p-r-20","p-l-20"],["fxLayout","row wrap"],["fxFlex","55","fxFlexAlign","center",4,"ngIf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Buscar","autocomplete","off",3,"formControl","keyup.enter"],[3,"hidden"],["mode","query"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","IdArticulo"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","ClaveCuadroBasico"],["matColumnDef","Descripcion"],["matColumnDef","Vista"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["fxFlex","55","fxFlexAlign","center"],[1,"example-form"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-sort-header",""],["mat-icon-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"mat-card"),d["\u0275\u0275elementStart"](1,"mat-card-content"),d["\u0275\u0275elementStart"](2,"div",0),d["\u0275\u0275elementStart"](3,"div",1),d["\u0275\u0275template"](4,ce,10,6,"div",2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",1),d["\u0275\u0275elementStart"](6,"div",3),d["\u0275\u0275elementStart"](7,"mat-card"),d["\u0275\u0275elementStart"](8,"mat-card-content"),d["\u0275\u0275elementStart"](9,"mat-card-title"),d["\u0275\u0275text"](10,"Proforma"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",0),d["\u0275\u0275elementStart"](12,"mat-form-field"),d["\u0275\u0275elementStart"](13,"input",4),d["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",5),d["\u0275\u0275element"](15,"mat-progress-bar",6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",7),d["\u0275\u0275elementStart"](17,"mat-table",8),d["\u0275\u0275elementContainerStart"](18,9),d["\u0275\u0275template"](19,se,2,0,"mat-header-cell",10),d["\u0275\u0275template"](20,me,2,1,"mat-cell",11),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](21,12),d["\u0275\u0275template"](22,pe,2,0,"mat-header-cell",10),d["\u0275\u0275template"](23,de,2,1,"mat-cell",11),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](24,13),d["\u0275\u0275template"](25,ue,2,0,"mat-header-cell",10),d["\u0275\u0275template"](26,fe,2,1,"mat-cell",11),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275elementContainerStart"](27,14),d["\u0275\u0275template"](28,ge,2,0,"mat-header-cell",10),d["\u0275\u0275template"](29,he,4,0,"mat-cell",11),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275template"](30,ve,1,0,"mat-header-row",15),d["\u0275\u0275template"](31,xe,1,0,"mat-row",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](32,"mat-paginator",17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngIf",t.options.length>0),d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("formControl",t.control_nombre),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("hidden",t.cargando),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("dataSource",t.dataSource),d["\u0275\u0275advance"](13),d["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[g.a8,g.dn,u.xw,r.O5,u.yH,g.n5,C.KE,E.Nt,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlDirective,_.pW,l.BZ,oe.YE,l.w1,l.fO,l.Dz,l.as,l.nj,S.NW,u.XD,c["\u0275NgNoValidate"],c.NgControlStatusGroup,c.NgForm,C.hX,b.ZL,b.XC,r.sg,y.ey,l.ge,oe.nU,l.ev,f.lW,w.Hw,l.XQ,l.Gk],pipes:[r.Ov],styles:[""]}),e})(),canActivate:[K.a]}],canActivate:[K.a]}];var Ce=n(8340),Ee=n(77154),be=n(60126),_e=n(75425);let ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({providers:[i.X],imports:[[r.ez,Ce.q,o.Bz.forChild(Se),_e.m,c.FormsModule,c.ReactiveFormsModule,Ee.o9,be.Xd]]}),e})()}}]);