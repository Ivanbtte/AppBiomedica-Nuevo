!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[592],{48243:function(e,r,o){"use strict";o.d(r,{d:function(){return w}});var a=o(92935),i=o(23759),c=o(39084),u=o(3125),s=o(22501),l=o.n(s),f=o(35366),p=o(61116),d=o(84369),m=o(27701),h=o(77307);function v(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"h2",9),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.data.UnitMed.DenominacionUni)}}function g(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"h2",9),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",n.data.Delegation.NombreDele,"")}}function b(t,e){1&t&&f["\u0275\u0275element"](0,"img",10)}function y(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"h2",11),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"]("",n.mnsError,", favor de comunicarse con su administrador de la plataforma")}}function x(t,e){1&t&&f["\u0275\u0275element"](0,"mat-progress-bar",12)}function I(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-tree-node",16),f["\u0275\u0275elementStart"](1,"button",17),f["\u0275\u0275listener"]("click",function(){var t=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"](2).selectedDepartment(t)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"check_box_outline_blank"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](4),f["\u0275\u0275elementEnd"]()}if(2&t){var r=e.$implicit;f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" ",r.name," ")}}function k(t,e){if(1&t){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"mat-tree-node",18),f["\u0275\u0275elementStart"](1,"button",19),f["\u0275\u0275listener"]("click",function(){var t=f["\u0275\u0275restoreView"](n).$implicit;return f["\u0275\u0275nextContext"](2).selectedDepartment(t)}),f["\u0275\u0275elementStart"](2,"mat-icon"),f["\u0275\u0275text"](3,"check_box_outline_blank"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"button",20),f["\u0275\u0275elementStart"](5,"mat-icon",21),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](7),f["\u0275\u0275elementEnd"]()}if(2&t){var r=e.$implicit,o=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](4),f["\u0275\u0275attribute"]("aria-label","Toggle "+r.name),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",o.treeControl.isExpanded(r)?"expand_more":"chevron_right"," "),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",r.name," ")}}function C(t,e){if(1&t&&(f["\u0275\u0275elementStart"](0,"mat-tree",13),f["\u0275\u0275template"](1,I,5,1,"mat-tree-node",14),f["\u0275\u0275template"](2,k,8,3,"mat-tree-node",15),f["\u0275\u0275elementEnd"]()),2&t){var n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("dataSource",n.dataSource)("treeControl",n.treeControl),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("matTreeNodeDefWhen",n.hasChild)}}var w=function(){var e=function(){function e(n,r,o){var a=this;t(this,e),this.data=n,this.department=r,this.dialogRef=o,this.mnsError="",this._transformer=function(t,e){return{expandable:!!t.organigramas&&t.organigramas.length>0,name:t.departamento.Nombre,areaId:t.areaId,id:t.id,level:e,selected:!1}},this.treeControl=new i.C2(function(t){return t.level},function(t){return t.expandable}),this.treeFlattener=new c.JZ(this._transformer,function(t){return t.level},function(t){return t.expandable},function(t){return t.organigramas}),this.dataSource=new c.kc(this.treeControl,this.treeFlattener),this.hasChild=function(t,e){return e.expandable},console.log(n),0!=n.unitMedId?this.department.ConsultOrganizationUnitMed(n.unitMedId.toString(),"").subscribe(function(t){a.dataSource.data=t.Data,console.log(a.dataSource.data),a.treeControl.expand(a.treeControl.dataNodes[0])},function(t){""===t.error&&void 0===t.error||(a.mnsError=t.error.Mensaje)}):""!=n.clvDelegation?this.department.ConsultOrganizationUnitMed("0",n.clvDelegation).subscribe(function(t){a.dataSource.data=t.Data,console.log(a.dataSource.data),a.treeControl.expand(a.treeControl.dataNodes[0])},function(t){""===t.error&&void 0===t.error||(a.mnsError=t.error.Mensaje)}):this.mnsError="No se han registrado departamentos para este tipo de usuario: Nivel Central"}return n(e,[{key:"ngOnInit",value:function(){}},{key:"selectedDepartment",value:function(t){var e=this;console.log(t),l().fire({title:t.name,text:"\xbfSeleccionar Departamento?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Seleccionar"}).then(function(n){n.isConfirmed&&e.dialogRef.close(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](a.WI),f["\u0275\u0275directiveInject"](u.r),f["\u0275\u0275directiveInject"](a.so))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-department-tree"]],decls:12,vars:6,consts:[["mat-dialog-title","","style","color: #082e6a; font-weight: bold","class","m-0 centerText",4,"ngIf"],[1,"m-0","centerText",2,"color","#1976d2","font-weight","bold"],[1,"mat-typography"],["src","../../../assets/images/warning2.png","alt","Advertencia","width","145","height","145","title","imagen","class","img-centro",4,"ngIf"],["class","centerText","style","color: #be1b14",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[3,"dataSource","treeControl",4,"ngIf"],[1,"endAlign"],["mat-flat-button","","mat-dialog-close","","color","warn","cdkFocusInitial",""],["mat-dialog-title","",1,"m-0","centerText",2,"color","#082e6a","font-weight","bold"],["src","../../../assets/images/warning2.png","alt","Advertencia","width","145","height","145","title","imagen",1,"img-centro"],[1,"centerText",2,"color","#be1b14"],["mode","indeterminate"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","style","font-weight: bold",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","aria-label","Icon button",1,"m-r-10",2,"color","#0a7864",3,"click"],["matTreeNodePadding","",2,"font-weight","bold"],["mat-icon-button","","aria-label","Icon button",2,"color","#0a7864",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(t,e){1&t&&(f["\u0275\u0275template"](0,v,2,1,"h2",0),f["\u0275\u0275template"](1,g,2,1,"h2",0),f["\u0275\u0275elementStart"](2,"h4",1),f["\u0275\u0275text"](3,"Selecciona un departamento"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"mat-dialog-content",2),f["\u0275\u0275template"](5,b,1,0,"img",3),f["\u0275\u0275template"](6,y,2,1,"h2",4),f["\u0275\u0275template"](7,x,1,0,"mat-progress-bar",5),f["\u0275\u0275template"](8,C,3,3,"mat-tree",6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"mat-dialog-actions",7),f["\u0275\u0275elementStart"](10,"button",8),f["\u0275\u0275text"](11,"Cerrar"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&t&&(f["\u0275\u0275property"]("ngIf",e.data.unitMedId),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.data.clvDelegation),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",e.mnsError),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.mnsError),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.dataSource.data.length&&!e.mnsError),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.dataSource.data.length))},directives:[p.O5,a.xY,a.H8,d.lW,a.ZT,a.uh,m.pW,c.gi,c.fQ,c.uo,c.ah,h.Hw,c.eu],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.img-centro[_ngcontent-%COMP%]{margin:10px auto;display:block}"]}),e}()},86046:function(e,r,o){"use strict";o.d(r,{B:function(){return s}});var a=o(42693),i=o(529),c=o(79996),u=o(35366),s=function(){var e=function(){function e(n){t(this,e),this._http=n}return n(e,[{key:"puestos",value:function(){return this._http.get("".concat(i.N.host,"/puesto")).pipe((0,c.U)(function(t){return t}))}},{key:"ConsultarPuestosDispo",value:function(t,e,n){var r=(new a.LE).set("departamento_id",t);return""!==e&&(r=r.set("tipo",e)),""!==n&&(r=r.set("unidad_id",n)),this._http.get("".concat(i.N.host,"/puesto/disponibles"),{params:r}).pipe((0,c.U)(function(t){return t}))}},{key:"ConsultPositionOrganizations",value:function(t,e){var n=new a.LE;return""!==t&&(n=n.set("departmentUnitId",t)),""!==e&&(n=n.set("departmentDelegationId",e)),this._http.get("".concat(i.N.host,"/puesto/final"),{params:n}).pipe((0,c.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](a.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},18240:function(e,r,o){"use strict";o.d(r,{X:function(){return s}});var a=o(529),i=o(79996),c=o(42693),u=o(35366),s=function(){var e=function(){function e(n){t(this,e),this.http=n}return n(e,[{key:"getPrei",value:function(t,e,n,r,o,u,s){var l=(new c.LE).set("nombre",e).set("pagina",n).set("num_registros",r);return""!==t&&(l=l.set("cuadro_id",t)),""!==o&&(l=l.set("grupo",o)),""!==u&&(l=l.set("generico",u)),""!==s&&(l=l.set("especifico",s)),this.http.get("".concat(a.N.host,"/prei"),{params:l}).pipe((0,i.U)(function(t){return t}))}},{key:"getClavePrei",value:function(t,e){var n=new c.LE;return""!==t&&(n=n.set("id",t)),""!==e&&(n=n.set("id_articulo",e)),this.http.get("".concat(a.N.host,"/prei/clave"),{params:n}).pipe((0,i.U)(function(t){return t}))}},{key:"getGrupoPrei",value:function(t){var e=(new c.LE).set("grupo",t);return this.http.get("".concat(a.N.host,"/prei"),{params:e}).pipe((0,i.U)(function(t){return t}))}},{key:"getCuadroBasico",value:function(){return this.http.get("".concat(a.N.host,"/cuadro_basico")).pipe((0,i.U)(function(t){return t}))}},{key:"consultarFiltrosPrei",value:function(t,e,n){var r=new c.LE;if(""!==t&&(r=r.set("grupo",t)),""!==e&&(r=r.set("generico",e)),!1!==n){var o=String(n);r=r.set("grupos",o)}return this.http.get("".concat(a.N.host,"/prei/filtro"),{params:r}).pipe((0,i.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](c.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},36420:function(e,r,o){"use strict";o.d(r,{J:function(){return s}});var a=o(42693),i=o(529),c=o(79996),u=o(35366),s=function(){var e=function(){function e(n){t(this,e),this.http=n}return n(e,[{key:"getServiciosProf",value:function(){return this.http.get("".concat(i.N.host,"/servicios_proforma")).pipe((0,c.U)(function(t){return t}))}},{key:"getServicio",value:function(t){var e=(new a.LE).set("id",t);return this.http.get("".concat(i.N.host,"/servicios_proforma"),{params:e}).pipe((0,c.U)(function(t){return t}))}},{key:"getClaveProformaServicios",value:function(t){return this.http.get("".concat(i.N.host,"/servicios_proforma/").concat(t)).pipe((0,c.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](a.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},64454:function(e,r,o){"use strict";o.d(r,{g:function(){return s}});var a=o(529),i=o(79996),c=o(35366),u=o(42693),s=function(){var e=function(){function e(n){t(this,e),this._http=n}return n(e,[{key:"ConsultaFecha",value:function(){return this._http.get("".concat(a.N.host,"/fecha")).pipe((0,i.U)(function(t){return t}))}},{key:"AgregarFecha",value:function(t){return this._http.post("".concat(a.N.host,"/fecha"),t).pipe((0,i.U)(function(t){return t}))}},{key:"ActualizarFecha",value:function(t){return this._http.put("".concat(a.N.host,"/fecha"),t).pipe((0,i.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](u.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},84992:function(e,r,o){"use strict";o.d(r,{H:function(){return s}});var a=o(529),i=o(79996),c=o(35366),u=o(42693),s=function(){var e=function(){function e(n){t(this,e),this._http=n}return n(e,[{key:"ConsultaPresupuesto",value:function(){return this._http.get("".concat(a.N.host,"/presupuesto")).pipe((0,i.U)(function(t){return t}))}},{key:"AgregarPresupuesto",value:function(t){return this._http.post("".concat(a.N.host,"/presupuesto"),t).pipe((0,i.U)(function(t){return t}))}},{key:"ActualizarPresupuesto",value:function(t){return this._http.put("".concat(a.N.host,"/presupuesto"),t).pipe((0,i.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](u.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},65540:function(e,r,o){"use strict";o.d(r,{E:function(){return s}});var a=o(529),i=o(79996),c=o(35366),u=o(42693),s=function(){var e=function(){function e(n){t(this,e),this.httpClient=n}return n(e,[{key:"consultAreas",value:function(){return this.httpClient.get("".concat(a.N.host,"/areas")).pipe((0,i.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](u.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},65334:function(e,r,o){"use strict";o.d(r,{A:function(){return s}});var a=o(42693),i=o(529),c=o(79996),u=o(35366),s=function(){var e=function(){function e(n){t(this,e),this.httpClient=n}return n(e,[{key:"consultUsersValid",value:function(t,e,n,r,o){var u=new a.LE;return""!==e&&(u=u.set("valid",e)),""!==t&&(u=u.set("status",t)),""!==n&&(u=u.set("unitMedId",n)),""!==r&&(u=u.set("clvDele",r)),""!==o&&(u=u.set("departmentId",o)),this.httpClient.get("".concat(i.N.host,"/usuarios/valid"),{params:u}).pipe((0,c.U)(function(t){return t}))}},{key:"addNewUserPosition",value:function(t,e,n){var r=(new a.LE).set("userType",e);return""!==n&&(r=r.set("update",n)),this.httpClient.post("".concat(i.N.host,"/usuarioPuesto"),t,{params:r}).pipe((0,c.U)(function(t){return t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](a.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},1420:function(e,r,o){"use strict";o.d(r,{U:function(){return c}});var a=o(35366),i=o(29996),c=function(){var e=function(){function e(n){t(this,e),this._router=n,this.permisos=[]}return n(e,[{key:"canActivate",value:function(){return this.havePermision()}},{key:"havePermision",value:function(){return this.permisos=JSON.parse(localStorage.getItem("permisos")),0!==this.permisos.filter(function(t){return"Jefe Biomedico"===t||"Solicitud"===t}).length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](i.F0))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},15452:function(e,r,o){"use strict";o.d(r,{X:function(){return c}});var a=o(35366),i=o(29996),c=function(){var e=function(){function e(n){t(this,e),this._router=n,this.permisos=[]}return n(e,[{key:"canActivate",value:function(){return this.havePermission()}},{key:"havePermission",value:function(){return this.permisos=JSON.parse(localStorage.getItem("permisos")),console.log(this.permisos),0!==this.permisos.filter(function(t){return"Jefe Biomedico"===t}).length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](i.F0))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();