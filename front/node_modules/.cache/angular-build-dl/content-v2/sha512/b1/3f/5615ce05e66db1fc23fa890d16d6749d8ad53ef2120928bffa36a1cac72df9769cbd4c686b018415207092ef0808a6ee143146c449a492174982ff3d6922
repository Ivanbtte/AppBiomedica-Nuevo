(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[836],{79836:function(e,t,r){"use strict";r.r(t),r.d(t,{AreaServiciosModule:function(){return N}});var n=r(61116),i=r(47066),a=r(29996),o=r(75425),l=r(31041),c=r(77154),s=r(82573),m=r(1420),d=r(8832),u=r(90911),f=r(42935),v=r(53551),p=r(22501),g=r.n(p),S=r(35366),h=r(22797),x=r(35965),b=r(84369),C=r(77307),E=r(13070),A=r(13841),I=r(9550),U=r(87064);function V(e,t){if(1&e&&(S["\u0275\u0275elementStart"](0,"mat-option",19),S["\u0275\u0275text"](1),S["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;S["\u0275\u0275property"]("value",e.Id),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",e.DenominacionUni," ")}}function w(e,t){if(1&e&&(S["\u0275\u0275elementStart"](0,"mat-option",19),S["\u0275\u0275text"](1),S["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;S["\u0275\u0275property"]("value",e.ServiciosProforma.Id),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",e.ServiciosProforma.Descripcion," ")}}function y(e,t){if(1&e){const e=S["\u0275\u0275getCurrentView"]();S["\u0275\u0275elementStart"](0,"div",7),S["\u0275\u0275elementStart"](1,"div",8),S["\u0275\u0275elementStart"](2,"mat-form-field",9),S["\u0275\u0275elementStart"](3,"mat-label"),S["\u0275\u0275text"](4,"Selecciona una Unidad M\xe9dica"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](5,"mat-select",10),S["\u0275\u0275listener"]("selectionChange",function(t){return S["\u0275\u0275restoreView"](e),S["\u0275\u0275nextContext"]().valueSelectUnit(t.value)}),S["\u0275\u0275template"](6,V,2,2,"mat-option",11),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](7,"div",12),S["\u0275\u0275elementStart"](8,"mat-form-field",9),S["\u0275\u0275elementStart"](9,"mat-label"),S["\u0275\u0275text"](10,"Selecciona un Servicio"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](11,"mat-select",13),S["\u0275\u0275listener"]("selectionChange",function(t){return S["\u0275\u0275restoreView"](e),S["\u0275\u0275nextContext"]().valueService(t.value)}),S["\u0275\u0275template"](12,w,2,2,"mat-option",11),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](13,"div",14),S["\u0275\u0275elementStart"](14,"mat-form-field",9),S["\u0275\u0275elementStart"](15,"mat-label"),S["\u0275\u0275text"](16,"Area"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](17,"input",15),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](18,"div",16),S["\u0275\u0275elementStart"](19,"mat-form-field",9),S["\u0275\u0275elementStart"](20,"mat-label"),S["\u0275\u0275text"](21,"Centro de Costo"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](22,"input",17),S["\u0275\u0275elementStart"](23,"mat-hint",18),S["\u0275\u0275text"](24,"Opcional"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()}if(2&e){const e=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](6),S["\u0275\u0275property"]("ngForOf",e.unidadesMedicas),S["\u0275\u0275advance"](6),S["\u0275\u0275property"]("ngForOf",e.serviciosUsuarioResul)}}function F(e,t){if(1&e){const e=S["\u0275\u0275getCurrentView"]();S["\u0275\u0275elementStart"](0,"div",20),S["\u0275\u0275elementStart"](1,"button",21),S["\u0275\u0275listener"]("click",function(){return S["\u0275\u0275restoreView"](e),S["\u0275\u0275nextContext"]().formularioVisible=!1}),S["\u0275\u0275elementStart"](2,"mat-icon"),S["\u0275\u0275text"](3,"cancel"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275text"](4," Cancelar "),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()}}function M(e,t){if(1&e){const e=S["\u0275\u0275getCurrentView"]();S["\u0275\u0275elementStart"](0,"div",20),S["\u0275\u0275elementStart"](1,"button",22),S["\u0275\u0275listener"]("click",function(){return S["\u0275\u0275restoreView"](e),S["\u0275\u0275nextContext"]().addArea()}),S["\u0275\u0275elementStart"](2,"mat-icon"),S["\u0275\u0275text"](3,"save"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275text"](4," Agregar "),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()}if(2&e){const e=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("disabled",e.formularioAgregar.invalid)}}const D=[{path:"",children:[{path:"nueva",component:(()=>{class e{constructor(e,t,r,n){this._areaServicios=e,this._serviciosUsuarios=t,this._nombramiento=r,this.formBuilder=n,this.formularioVisible=!1,this.configuraciones={columns:{unidad:{title:"Unidad Medica",filter:!0},servicio:{title:"Servicio",filter:!0},area:{title:"Area",filter:!0},cc:{title:"Centro de Costo",filter:!0}},actions:!1}}ngOnInit(){this.usuarioLog=(0,u.Z)(localStorage.getItem("token")),this.fetchAreaService(),this.getUnitMedic(),this.formularioAgregar=this.formBuilder.group({UnidadMedId:["",l.Validators.required],ServiciosProformaId:["",l.Validators.required],Area:["",l.Validators.required],CentroCosto:[""]})}getUnitMedic(){this._nombramiento.nombramiento(this.usuarioLog.PersonaId).subscribe(e=>{this.unidadesMedicas=e.Data.UnidadMed,console.log(this.unidadesMedicas)})}fetchAreaService(){this._areaServicios.ConsultarAreaServicio("","",this.usuarioLog.UsuarioId).subscribe(e=>{console.log(e.Data);const t=e.Data.map(e=>({unidad:e.UnidadMed.DenominacionUni,servicio:e.ServiciosProforma.Descripcion,area:e.Area,cc:e.CentroCosto}));console.log(t),this.datos=t})}valueSelectUnit(e){console.log(e),this.id_unidad=e,this.fetchServiceUser(e,this.usuarioLog.UsuarioId)}valueService(e){this.id_servicio=e}fetchServiceUser(e,t){this._serviciosUsuarios.serviciosUsuarios(e,t).subscribe(e=>{console.log(e.Data),this.serviciosUsuarioResul=e.Data})}addArea(){const e=this.formularioAgregar.getRawValue(),t=Number(this.formularioAgregar.controls.CentroCosto);e.CentroCosto=t,console.log(e),this._areaServicios.AgregarAreaServicio(e).subscribe(e=>{console.log(e.Data),g().fire({position:"center",title:e.Mensaje,icon:"success"}),this.fetchAreaService(),this.formularioVisible=!1,this.formularioAgregar.reset()})}}return e.\u0275fac=function(t){return new(t||e)(S["\u0275\u0275directiveInject"](d.F),S["\u0275\u0275directiveInject"](f.x),S["\u0275\u0275directiveInject"](v.s),S["\u0275\u0275directiveInject"](l.FormBuilder))},e.\u0275cmp=S["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-area-servicio"]],decls:16,vars:4,consts:[[1,"p-10"],["fxLayout","row wrap"],["fxFlex","80"],["mat-raised-button","","color","primary",3,"click"],[3,"formGroup"],["fxFlex","100","fxLayoutAlign","space-between center","class","m-t-30 m-b-30",4,"ngIf"],["fxFlex","30",4,"ngIf"],["fxFlex","100","fxLayoutAlign","space-between center",1,"m-t-30","m-b-30"],["fxFlex","26"],["appearance","outline"],["formControlName","UnidadMedId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","22"],["formControlName","ServiciosProformaId",3,"selectionChange"],["fxFlex","20"],["matInput","","placeholder","Placeholder","formControlName","Area"],["fxFlex","18"],["matInput","","placeholder","Placeholder","formControlName","CentroCosto"],["align","end"],[3,"value"],["fxFlex","30"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(S["\u0275\u0275elementStart"](0,"mat-card"),S["\u0275\u0275elementStart"](1,"mat-card-title",0),S["\u0275\u0275text"](2,"Areas de Servicios por Unidades Medicas"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](3,"mat-card-content"),S["\u0275\u0275elementStart"](4,"div",1),S["\u0275\u0275elementStart"](5,"div",2),S["\u0275\u0275elementStart"](6,"button",3),S["\u0275\u0275listener"]("click",function(){return t.formularioVisible=!0}),S["\u0275\u0275elementStart"](7,"mat-icon"),S["\u0275\u0275text"](8,"add_circle"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275text"](9," Agregar Nueva Area "),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](10,"br"),S["\u0275\u0275elementStart"](11,"form",4),S["\u0275\u0275template"](12,y,25,2,"div",5),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](13,"br"),S["\u0275\u0275template"](14,F,5,0,"div",6),S["\u0275\u0275template"](15,M,5,1,"div",6),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()),2&e&&(S["\u0275\u0275advance"](11),S["\u0275\u0275property"]("formGroup",t.formularioAgregar),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",t.formularioVisible),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("ngIf",t.formularioVisible),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",t.formularioVisible))},directives:[h.a8,h.n5,h.dn,x.xw,x.yH,b.lW,C.Hw,l["\u0275NgNoValidate"],l.NgControlStatusGroup,l.FormGroupDirective,n.O5,x.Wh,E.KE,E.hX,A.gD,l.NgControlStatus,l.FormControlName,n.sg,I.Nt,l.DefaultValueAccessor,E.bx,U.ey],styles:[""]}),e})()}],canActivate:[s.a,m.U]}];let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=S["\u0275\u0275defineInjector"]({imports:[[n.ez,i.q,a.Bz.forChild(D),o.m,l.FormsModule,l.ReactiveFormsModule,c.o9]]}),e})()}}]);