(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[119],{85031:function(e,t,n){"use strict";n.d(t,{$o:function(){return s},t7:function(){return m}});var a=n(35366),o=n(87064),r=n(29609);const l=n.n(r)()||r,i=new a.InjectionToken("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function c(e,t){const n=Array(e);for(let a=0;a<e;a++)n[a]=t(a);return n}let m=(()=>{class e extends o._A{constructor(e,t){super(),this._options=t,this.setLocale(e||l.locale())}setLocale(e){super.setLocale(e);let t=l.localeData(e);this._localeData={firstDayOfWeek:t.firstDayOfWeek(),longMonths:t.months(),shortMonths:t.monthsShort(),dates:c(31,e=>this.createDate(2017,0,e+1).format("D")),longDaysOfWeek:t.weekdays(),shortDaysOfWeek:t.weekdaysShort(),narrowDaysOfWeek:t.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,t,n){const a=this._createMoment({year:e,month:t,date:n}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(e,t){return e&&"string"==typeof e?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,t){return e=this.clone(e),this.isValid(e),e.format(t)}addCalendarYears(e,t){return this.clone(e).add({years:t})}addCalendarMonths(e,t){return this.clone(e).add({months:t})}addCalendarDays(e,t){return this.clone(e).add({days:t})}toIso8601(e){return this.clone(e).format()}deserialize(e){let t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;t=this._createMoment(e,l.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):super.deserialize(e)}isDateInstance(e){return l.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return l.invalid()}_createMoment(e,t,n){const{strict:a,useUtc:o}=this._options||{};return o?l.utc(e,t,n,a):l(e,t,n,a)}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](o.Ad,8),a["\u0275\u0275inject"](i,8))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const s={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},82051:function(e,t){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";function t(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,l){var i=o.URL||o.webkitURL,c=document.createElement("a");c.download=r=r||e.name||"download",c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?a(c):n(c.href)?t(e,r,l):a(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(c.href)},4e4),setTimeout(function(){a(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout(function(){a(l)})}}:function(e,n,a,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,a);var i="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||i&&c||r)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=m?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},s.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);l?l.location=p:location.href=p,l=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})?n.apply(t,[]):n)||(e.exports=a)},30119:function(e,t,n){"use strict";n.r(t),n.d(t,{ContratosModule:function(){return ol}});var a=n(61116),o=n(29996),r=n(47066),l=n(75425),i=n(31041),c=n(77154),m=n(82573),s=n(39199),d=n(5609),p=n(86350),u=n(92935),f=n(22501),h=n.n(f),x=n(19516),g=n(45350),v=n(87064),S=n(85031),C=n(59241),E=n(27406),b=n(35366),y=n(22797),_=n(6489),I=n(35965),w=n(13070),F=n(9550),D=n(7436),V=n(27701),A=n(84369),k=n(77307);function N(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-hint",23),b["\u0275\u0275elementStart"](1,"button",50),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().cambiarValidaCorreo()}),b["\u0275\u0275text"](2," No tengo Correo imss "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate"]("disabled",e.estadoBoton)}}function P(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.mensajeErrorCorreo," ")}}function M(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Nombre no valido "),b["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Apellido no valido "),b["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Apellido no valido "),b["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Campo requerido "),b["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Campo requerido. "),b["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Tel\xe9fono incorrecto. "),b["\u0275\u0275elementEnd"]())}function z(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Extensi\xf3n incorrecta. "),b["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Matricula incorrecta. "),b["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",51),b["\u0275\u0275text"](1,"Celular incorrecto. "),b["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",13),b["\u0275\u0275elementStart"](1,"button",52),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().agregar_persona()}),b["\u0275\u0275text"](2,"Agregar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.formulario_persona.invalid)}}function H(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Nombre"),b["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Nombre)}}function W(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Apellido Paterno"),b["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.ApellidoPat)}}function Y(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Apellido Materno"),b["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.ApellidoMat)}}function X(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Correo"),b["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Correo)}}function Z(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Telefono"),b["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Telefono)}}function ee(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Matricula"),b["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Matricula,"")}}function ne(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",53),b["\u0275\u0275text"](1,"Seleccionar"),b["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",54),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().Selecionar(t)}),b["\u0275\u0275elementStart"](2,"mat-icon"),b["\u0275\u0275text"](3,"check_box_outline_blank"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function oe(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function re(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}let le=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this.fb=n,this._personas=a,this.estadoBoton=!1,this.mensajeErrorCorreo="example@imss.gob.mx",this.botonVisible=!0,this.cerrarPanel=!1,this.tamanioPagina=50,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.displayedColumns=["Nombre","ApellidoP","ApellidoM","Correo","Telefono","Matricula","SeleccionarPer"],this.cargando=!1,this.disableAnimation=!0}ngOnInit(){this.crear_formulario_persona(),this.llenarTabla()}llenarTabla(){this._personas.getAllPersona(this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(e=>{const t=e.Data.registros;this.dataSource=new s.by,this.dataSource.data=t,this.totalRegistros=e.Data.total,this.cargando=!0,console.log(t)})}ngAfterViewInit(){setTimeout(()=>this.disableAnimation=!1)}crear_formulario_persona(){this.formulario_persona=this.fb.group({Nombre:[null,i.Validators.compose([i.Validators.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\\s]*$"),i.Validators.required])],ApellidoPat:[null,i.Validators.compose([i.Validators.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\\s]*$"),i.Validators.required])],ApellidoMat:[null,i.Validators.compose([i.Validators.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\\s]*$"),i.Validators.required])],FechaNac:[null,i.Validators.compose([i.Validators.required])],Genero:[null,i.Validators.compose([i.Validators.required])],Correo:[null,i.Validators.compose([i.Validators.required,i.Validators.pattern("^[_a-z0-9-]+(.[_a-z0-9-]+)*@imss.gob.mx$")])],Telefono:[null,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])],Extension:[null,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])],Matricula:[null,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])],Celular:[null,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])]})}cambiarValidaCorreo(){this.formulario_persona.removeControl("Correo"),this.formulario_persona.addControl("Correo",this.fb.control("",i.Validators.compose([i.Validators.required,i.Validators.email]))),this.mensajeErrorCorreo="Correo invalido",this.botonVisible=!1,this.estadoBoton=!0}onNoClick(){this.dialogRef.close()}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),console.log(this.dataSource.filteredData)}agregar_persona(){const e=this.formulario_persona.getRawValue();console.log(e),h().fire({title:"Estas seguro",text:"Deseas agregar esta persona",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Agregar"}).then(t=>{t.value&&(this.cerrarPanel=!0,this._personas.AgregarPersona(e).subscribe(e=>{console.log(e.Data),h().fire("Agregado","La persona ha sido agregada correctamente","success"),this.dialogRef.close(e.Data),this.cerrarPanel=!1}))})}Selecionar(e){h().fire({title:"Seleccionar",text:"Persona:"+e.Nombre+" "+e.ApellidoPat+" "+e.ApellidoMat,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Seleccionar"}).then(t=>{t.value&&this.dialogRef.close(e)})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](E.J))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-crud-personas"]],viewQuery:function(e,t){if(1&e&&(b["\u0275\u0275viewQuery"](d.NW,5),b["\u0275\u0275viewQuery"](C.YE,5)),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.paginator=e.first),b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.sort=e.first)}},decls:108,vars:27,consts:[["mat-dialog-content",""],["align","center"],[2,"color","#c90025"],["tabindex","-1"],["tabindex","-1",3,"expanded","expandedChange"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","example@imss.gob.mx","type","text","formControlName","Correo","required",""],["align","end",4,"ngIf"],["class","text-danger support-text",4,"ngIf"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Nombre(s)","formControlName","Nombre","required",""],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Apellido Paterno","formControlName","ApellidoPat","required",""],["matInput","","placeholder","Apellido Materno","formControlName","ApellidoMat","required",""],[1,"example-full-width"],["matInput","","placeholder","Fecha de Nacimiento","type","date","formControlName","FechaNac","required",""],["aria-label","Select an option","formControlName","Genero",2,"flex-direction","column","display","flex",3,"required"],["value","M"],["value","F"],["matInput","","maxlength","10","placeholder","Tel\xe9fono","formControlName","Telefono","required",""],["input",""],["align","end"],["matInput","","maxlength","5","placeholder","Extensi\xf3n","formControlName","Extension"],["matInput","","maxlength","10","placeholder","Matricula","formControlName","Matricula","required",""],["matInput","","maxlength","10","placeholder","Celular","formControlName","Celular"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","fxLayoutAlign","center center",1,"p-0"],[1,"p-l-20","p-r-20"],["matInput","","placeholder","Buscar","autocomplete","off",3,"keyup"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[3,"hidden"],["mode","query"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","Nombre"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","ApellidoP"],["matColumnDef","ApellidoM"],["matColumnDef","Correo"],["matColumnDef","Telefono"],["matColumnDef","Matricula"],["matColumnDef","SeleccionarPer"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-dialog-actions",""],["mat-flat-button","","color","warn","cdkFocusInitial","",3,"click"],["mat-button","","color","warn",3,"disabled","click"],[1,"text-danger","support-text"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-sort-header",""],["mat-icon-button","",2,"color","#3a83c2",3,"click"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"mat-card"),b["\u0275\u0275elementStart"](2,"mat-card-title",1),b["\u0275\u0275text"](3,"Personal IMSS"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-card-subtitle",2),b["\u0275\u0275text"](5,"Si no encuentras a la persona que deseas seleccionar puedes agregar sus datos "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-card-content"),b["\u0275\u0275elementStart"](7,"mat-accordion",3),b["\u0275\u0275elementStart"](8,"mat-expansion-panel",4),b["\u0275\u0275listener"]("expandedChange",function(e){return t.cerrarPanel=e}),b["\u0275\u0275elementStart"](9,"mat-expansion-panel-header",3),b["\u0275\u0275elementStart"](10,"mat-panel-title",3),b["\u0275\u0275text"](11," Agregar Persona "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](12,"mat-panel-description",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"form",5),b["\u0275\u0275elementStart"](14,"div",6),b["\u0275\u0275elementStart"](15,"div",7),b["\u0275\u0275elementStart"](16,"mat-form-field"),b["\u0275\u0275elementStart"](17,"mat-label"),b["\u0275\u0275text"](18,"Correo electr\xf3nico"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](19,"input",8),b["\u0275\u0275template"](20,N,3,1,"mat-hint",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](21,P,2,1,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",11),b["\u0275\u0275elementStart"](23,"mat-form-field"),b["\u0275\u0275element"](24,"input",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](25,M,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",13),b["\u0275\u0275elementStart"](27,"mat-form-field"),b["\u0275\u0275element"](28,"input",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](29,T,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"div",13),b["\u0275\u0275elementStart"](31,"mat-form-field"),b["\u0275\u0275element"](32,"input",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](33,R,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"div",13),b["\u0275\u0275elementStart"](35,"mat-form-field",16),b["\u0275\u0275element"](36,"input",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](37,B,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",13),b["\u0275\u0275elementStart"](39,"mat-radio-group",18),b["\u0275\u0275elementStart"](40,"mat-label"),b["\u0275\u0275text"](41,"Genero"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"mat-radio-button",19),b["\u0275\u0275text"](43,"Masculino"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"mat-radio-button",20),b["\u0275\u0275text"](45,"Femenino"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](46,"br"),b["\u0275\u0275template"](47,j,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"div",13),b["\u0275\u0275elementStart"](49,"mat-form-field"),b["\u0275\u0275element"](50,"input",21,22),b["\u0275\u0275elementStart"](52,"mat-hint",23),b["\u0275\u0275text"](53),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](54,q,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",13),b["\u0275\u0275elementStart"](56,"mat-form-field"),b["\u0275\u0275element"](57,"input",24),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](58,z,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](59,"div",13),b["\u0275\u0275elementStart"](60,"mat-form-field"),b["\u0275\u0275element"](61,"input",25),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](62,L,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"div",13),b["\u0275\u0275elementStart"](64,"mat-form-field"),b["\u0275\u0275element"](65,"input",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](66,O,2,0,"small",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](67,$,3,1,"div",27),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](68,"mat-card-content"),b["\u0275\u0275elementStart"](69,"div",6),b["\u0275\u0275elementStart"](70,"div",28),b["\u0275\u0275elementStart"](71,"mat-form-field",29),b["\u0275\u0275elementStart"](72,"input",30),b["\u0275\u0275listener"]("keyup",function(e){return t.applyFilter(e.target.value)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",31),b["\u0275\u0275elementStart"](74,"div",32),b["\u0275\u0275element"](75,"mat-progress-bar",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"div",31),b["\u0275\u0275elementStart"](77,"div",32),b["\u0275\u0275element"](78,"mat-progress-bar",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"div",34),b["\u0275\u0275elementStart"](80,"mat-table",35),b["\u0275\u0275elementContainerStart"](81,36),b["\u0275\u0275template"](82,H,2,0,"mat-header-cell",37),b["\u0275\u0275template"](83,U,2,1,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](84,39),b["\u0275\u0275template"](85,W,2,0,"mat-header-cell",37),b["\u0275\u0275template"](86,G,2,1,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](87,40),b["\u0275\u0275template"](88,Y,2,0,"mat-header-cell",37),b["\u0275\u0275template"](89,Q,2,1,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](90,41),b["\u0275\u0275template"](91,X,2,0,"mat-header-cell",37),b["\u0275\u0275template"](92,K,2,1,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](93,42),b["\u0275\u0275template"](94,Z,2,0,"mat-header-cell",37),b["\u0275\u0275template"](95,J,2,1,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](96,43),b["\u0275\u0275template"](97,ee,2,0,"mat-header-cell",37),b["\u0275\u0275template"](98,te,2,1,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](99,44),b["\u0275\u0275template"](100,ne,2,0,"mat-header-cell",37),b["\u0275\u0275template"](101,ae,4,0,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](102,oe,1,0,"mat-header-row",45),b["\u0275\u0275template"](103,re,1,0,"mat-row",46),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](104,"mat-paginator",47),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](105,"div",48),b["\u0275\u0275elementStart"](106,"button",49),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](107,"Cancelar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275reference"](51);b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("@.disabled",t.disableAnimation),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("expanded",t.cerrarPanel),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("formGroup",t.formulario_persona),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Correo.dirty&&t.formulario_persona.controls.Correo.invalid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Correo.hasError("pattern")&&t.formulario_persona.controls.Correo.touched||t.formulario_persona.controls.Correo.hasError("email")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Nombre.hasError("pattern")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.ApellidoPat.hasError("pattern")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.ApellidoMat.hasError("pattern")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.FechaNac.hasError("required")&&t.formulario_persona.controls.FechaNac.touched),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("required",!0),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Genero.hasError("required")&&t.formulario_persona.controls.Genero.touched),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"]("",(null==e.value?null:e.value.length)||0,"/10"),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Telefono.hasError("pattern")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Extension.hasError("pattern")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Matricula.hasError("pattern")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Celular.hasError("pattern")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.data.editar),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("hidden",t.cargando),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden",t.cargando),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("dataSource",t.dataSource),b["\u0275\u0275advance"](22),b["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0)}},directives:[u.xY,y.a8,y.n5,y.$j,y.dn,_.pp,_.ib,_.yz,_.yK,_.u4,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,i.RequiredValidator,a.O5,D.VQ,D.U0,i.MaxLengthValidator,w.bx,V.pW,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,d.NW,u.H8,A.lW,s.ge,C.nU,s.ev,k.Hw,s.XQ,s.Gk],styles:[""]}),e})();var ie=n(21694),ce=n(56213);function me(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Ver"),b["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",30),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().openDialogDetalleProveedor(t)}),b["\u0275\u0275elementStart"](2,"mat-icon"),b["\u0275\u0275text"](3,"remove_red_eye"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function de(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Nombre Empresa"),b["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"a",31),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().openDialogDetalleProveedor(t)}),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.AliasEmpresa)}}function ue(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Estado"),b["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Estados.Nombre)}}function he(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Municipio"),b["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Municipio)}}function ge(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Correo"),b["\u0275\u0275elementEnd"]())}function ve(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Correo)}}function Se(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"No. Prov IMSS"),b["\u0275\u0275elementEnd"]())}function Ce(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NProvImss,"")}}function Ee(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Telefono"),b["\u0275\u0275elementEnd"]())}function be(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Telefono,"")}}function ye(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Seleccionar"),b["\u0275\u0275elementEnd"]())}function _e(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",30),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().SelecionarProveedor(t)}),b["\u0275\u0275elementStart"](2,"mat-icon"),b["\u0275\u0275text"](3,"check_box_outline_blank"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Ie(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function we(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}let Fe=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this._proveedores=n,this.dialog=a,this.dataSource=new s.by,this.tamanioPagina=20,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.displayedColumns=["DetallePro","Alias","Estado","Municipio","CorreoPro","RFC","Telefono","SeleccionarPro"],this.cargando=!1,this.id_proveedor="",this.nombre_proveedor="",this.control_nombre=new i.FormControl}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.paginator.page.subscribe(e=>{e&&(this.paginaActual=e.pageIndex+1,this.tamanioPagina=e.pageSize,this.llenarTabla())}),this.paginator._intl.itemsPerPageLabel="Resultados por pagina"}ngOnInit(){this.llenarTabla(),this.control_nombre.valueChanges.subscribe(e=>{console.log(e),""!==e&&null!==e||this.llenarTabla()})}llenarTabla(){this._proveedores.ConsultarProveedores(this.id_proveedor,null!==this.control_nombre.value?this.control_nombre.value:"",this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(e=>{console.log(e);const t=e.Data.registros;this.dataSource=new s.by,this.dataSource=new s.by(t),this.totalRegistros=e.Data.total,this.cargando=!0})}openDialogAgregar(){this.dialog.open(ie.R,{height:"auto",width:"80%",disableClose:!0,data:{editar:!1,proveedor:""}}).afterClosed().subscribe(e=>{e&&this.llenarTabla()})}SelecionarProveedor(e){h().fire({title:"Has decidido seleccionar a este proveedor",text:e.AliasEmpresa,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Seleccionar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then(t=>{t.value&&this.dialogRef.close(e)})}openDialogDetalleProveedor(e){this.dialog.open(ce.Y,{height:"auto",width:"40%",disableClose:!1,data:{proveedor:e}}).afterClosed().subscribe(e=>{})}buscarPorNombre(){this.llenarTabla(),this.paginator.firstPage()}cerrarDialog(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](x.v),b["\u0275\u0275directiveInject"](u.uw))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seleccionar-proveedor-representante"]],viewQuery:function(e,t){if(1&e&&b["\u0275\u0275viewQuery"](d.NW,5),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},decls:52,vars:10,consts:[["mat-dialog-title","",1,"m-0"],["mat-dialog-content","",1,"m-0"],["fxLayout","row wrap",1,"b-all"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",1,"p-10","centerText",2,"color","white","background-color","#3a83c2"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","fxLayoutAlign","end center",1,"p-10"],["mat-flat-button","","color","primary",3,"click"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","fxLayoutAlign","center center",1,"p-0"],[1,"p-l-20","p-r-20"],["matInput","","placeholder","Buscar","autocomplete","off",3,"formControl","keyup.enter"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[3,"hidden"],["mode","query"],[1,"responsive-table"],[3,"dataSource"],["matColumnDef","DetallePro"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Alias"],["matColumnDef","Estado"],["matColumnDef","Municipio"],["matColumnDef","CorreoPro"],["matColumnDef","RFC"],["matColumnDef","Telefono"],["matColumnDef","SeleccionarPro"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-dialog-actions","","fxLayout","row wrap",1,"m-0"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","warn",3,"click"],["mat-icon-button","",2,"color","#3a83c2",3,"click"],["routerLink","",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275text"](1," Selecciona un Proveedor\n"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-content"),b["\u0275\u0275elementStart"](5,"div",2),b["\u0275\u0275elementStart"](6,"div",3),b["\u0275\u0275text"](7,"Lista de Proveedores "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"div",4),b["\u0275\u0275elementStart"](9,"button",5),b["\u0275\u0275listener"]("click",function(){return t.openDialogAgregar()}),b["\u0275\u0275elementStart"](10,"mat-icon"),b["\u0275\u0275text"](11,"add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](12," Proveedor "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",6),b["\u0275\u0275elementStart"](14,"mat-form-field",7),b["\u0275\u0275elementStart"](15,"input",8),b["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",9),b["\u0275\u0275elementStart"](17,"div",10),b["\u0275\u0275element"](18,"mat-progress-bar",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"div",12),b["\u0275\u0275elementStart"](20,"mat-table",13),b["\u0275\u0275elementContainerStart"](21,14),b["\u0275\u0275template"](22,me,2,0,"mat-header-cell",15),b["\u0275\u0275template"](23,se,4,0,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](24,17),b["\u0275\u0275template"](25,de,2,0,"mat-header-cell",15),b["\u0275\u0275template"](26,pe,3,1,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](27,18),b["\u0275\u0275template"](28,ue,2,0,"mat-header-cell",15),b["\u0275\u0275template"](29,fe,2,1,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](30,19),b["\u0275\u0275template"](31,he,2,0,"mat-header-cell",15),b["\u0275\u0275template"](32,xe,2,1,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](33,20),b["\u0275\u0275template"](34,ge,2,0,"mat-header-cell",15),b["\u0275\u0275template"](35,ve,2,1,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](36,21),b["\u0275\u0275template"](37,Se,2,0,"mat-header-cell",15),b["\u0275\u0275template"](38,Ce,2,1,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](39,22),b["\u0275\u0275template"](40,Ee,2,0,"mat-header-cell",15),b["\u0275\u0275template"](41,be,2,1,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](42,23),b["\u0275\u0275template"](43,ye,2,0,"mat-header-cell",15),b["\u0275\u0275template"](44,_e,4,0,"mat-cell",16),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](45,Ie,1,0,"mat-header-row",24),b["\u0275\u0275template"](46,we,1,0,"mat-row",25),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](47,"mat-paginator",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"div",27),b["\u0275\u0275elementStart"](49,"div",28),b["\u0275\u0275elementStart"](50,"button",29),b["\u0275\u0275listener"]("click",function(){return t.cerrarDialog()}),b["\u0275\u0275text"](51," Cerrar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](15),b["\u0275\u0275property"]("formControl",t.control_nombre),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("hidden",t.cargando),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("dataSource",t.dataSource),b["\u0275\u0275advance"](25),b["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[u.uh,u.xY,y.a8,y.dn,I.xw,I.yH,I.Wh,A.lW,k.Hw,w.KE,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlDirective,V.pW,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,d.NW,u.H8,s.ge,s.ev,s.XQ,s.Gk],styles:[""]}),e})();var De=n(40233),Ve=n(57173),Ae=n(69024),ke=n(13841),Ne=n(85078);const Pe=["tabGroup"];function Me(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"mat-form-field",11),b["\u0275\u0275elementStart"](2,"mat-label"),b["\u0275\u0275text"](3,"Proveedor"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](4,"input",76),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("value",e.representante.AliasEmpresa)}}function Te(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"mat-form-field",11),b["\u0275\u0275elementStart"](2,"mat-label"),b["\u0275\u0275text"](3,"Representante Legal"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](4,"input",77),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("value",e.representante.NombreCompleto)}}function Re(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",79),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NombreDele," ")}}function Be(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"mat-form-field",11),b["\u0275\u0275elementStart"](2,"mat-label"),b["\u0275\u0275text"](3,"Selecciona una delegacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-select",78),b["\u0275\u0275listener"]("selectionChange",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().seleccionados()}),b["\u0275\u0275template"](5,Re,2,2,"mat-option",40),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("formControl",e.form_delegaciones),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",e.delegacionesArray)}}function je(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",79),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NombreDele," ")}}function qe(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-hint",80),b["\u0275\u0275text"](1,"No has agregado ninguna delegacion en el contrato "),b["\u0275\u0275elementEnd"]())}function ze(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-list-item",81),b["\u0275\u0275elementStart"](1,"p",82),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"p",82),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"p",82),b["\u0275\u0275text"](6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"button",83),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().eliminar_admin(t)}),b["\u0275\u0275elementStart"](8,"mat-icon",84),b["\u0275\u0275text"](9,"highlight_off "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate2"]("",e.Persona.Nombre," ",e.Persona.ApellidoPat,""),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.Responsabilidad),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.Delegaciones.NombreDele)}}function Le(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-list-item",81),b["\u0275\u0275text"](1),b["\u0275\u0275elementStart"](2,"button",85),b["\u0275\u0275elementStart"](3,"mat-icon",86),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().eliminar_pena_deductiva(t)}),b["\u0275\u0275text"](4,"highlight_off "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.DescripcionDeduccion," ")}}function Oe(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"button",29),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().agregar_contrato()}),b["\u0275\u0275text"](2,"Agregar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.formulario_penas_conv.invalid)}}function $e(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"button",87),b["\u0275\u0275text"](2," Guardar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.formulario_contrato.invalid||e.formulario_contrato.pristine)}}let He=(()=>{class e{constructor(e,t,n,a,o,r,l,c,m){this.dialogRef=e,this.data=t,this.fb=n,this._delegaciones=a,this._proveedores=o,this._contacto_proveedor=r,this.dialog=l,this.adapter=c,this._contrato=m,this.form_delegaciones=new i.FormControl,this.fechaInico="",this.fechaFin="",this.fechaFallo="",this.titulo="",this.array_penas_deductivas=[],this.array_admin=[],this.delegacionesArray=[],this.proveedoresArray=[],this.lastFilter="",this.date=new i.FormControl(new Date),this.fechaActual=new Date,this.m=this.fechaActual.getUTCMonth(),this.d=this.fechaActual.getDate(),this.y=this.fechaActual.getFullYear(),this.minDate=new Date(this.y-10,this.m,this.d),this.maxDate=new Date(this.y+20,0,1),this.nombre_compelto="",this.array_delegaciones_admin=[],this.index_tab=0,this.disableAnimation=!0,this.adapter.setLocale("es-mx")}ngOnInit(){console.log(this.data.editar),this.datos=this.data.contrato,this.crear_formulario_contratos(),this.crear_formulario_penas_conv(),this.crear_formulario_penas_ded(),this.crear_formulario_fianza(),this.crear_formulario_admin_aux(),this.titulo=this.data.editar?"Editar un Contrato":"Agregar un nuevo Contrato",this._delegaciones.ConsultarDelegaciones().subscribe(e=>{this.delegacionesArray=e.Data})}crear_formulario_contratos(){this.formulario_contrato=this.fb.group({NumeroContrato:[null,i.Validators.compose([i.Validators.required])],InicioContrato:[null,i.Validators.compose([i.Validators.required])],FinContrato:[null,i.Validators.compose([i.Validators.required])],ProcedContratacion:[null,i.Validators.compose([i.Validators.required])],TipoProcedContratacion:[null,i.Validators.compose([i.Validators.required])],FechaFallo:[null,i.Validators.compose([i.Validators.required])],MontoTotal:[null,i.Validators.compose([i.Validators.required])],TipoContrato:[null,i.Validators.compose([i.Validators.required])],ContactoProveedorId:[null,i.Validators.compose([i.Validators.required])],ProveedorNProvImss:[null,i.Validators.compose([i.Validators.required])]})}crear_formulario_penas_conv(){this.formulario_penas_conv=this.fb.group({Descripcion:["",i.Validators.compose([i.Validators.required])],Porcentaje:["",i.Validators.compose([i.Validators.required])]})}crear_formulario_penas_ded(){this.formulario_penas_ded=this.fb.group({ConceptoObligacion:["",i.Validators.compose([i.Validators.required])],NivelServicio:["",i.Validators.compose([i.Validators.required])],UnidadMedida:["",i.Validators.compose([i.Validators.required])],Deduccion:["",i.Validators.compose([i.Validators.required])],DescripcionDeduccion:["",i.Validators.compose([i.Validators.required])],LimiteIncumplimiento:["",i.Validators.compose([i.Validators.required])]})}crear_formulario_fianza(){this.formulario_fianza=this.fb.group({Afianzadora:["",i.Validators.compose([i.Validators.required])],NumPoliza:["",i.Validators.compose([i.Validators.required])],Tipo:["",i.Validators.compose([i.Validators.required])],MontoFianza:["",i.Validators.compose([i.Validators.required])]})}crear_formulario_admin_aux(){this.formulario_admin_aux=this.fb.group({DelegacionesClvDele:["",i.Validators.compose([i.Validators.required])],Cargo:["",i.Validators.compose([i.Validators.required])],Responsabilidad:["",i.Validators.compose([i.Validators.required])],PersonaId:["",i.Validators.compose([i.Validators.required])]})}cerrarDialog(){this.dialogRef.close()}ngAfterViewInit(){setTimeout(()=>this.disableAnimation=!1)}openDialogRepresentante(){this.dialog.open(Fe,{height:"auto",width:"88%",disableClose:!0,data:{dato:""}}).afterClosed().subscribe(e=>{e&&(this.representante=e,this.formulario_contrato.controls.ContactoProveedorId.setValue(this.representante.Id),this.formulario_contrato.controls.ProveedorNProvImss.setValue(this.representante.ProveedorNProvImss),console.log(this.representante))})}openDialogPersona(){this.dialog.open(le,{autoFocus:!0,height:"auto",width:"90%",disableClose:!0,data:{}}).afterClosed().subscribe(e=>{e&&(console.log(e),this.nombre_compelto=e.Nombre+" "+e.ApellidoPat+" "+e.ApellidoMat,this.formulario_admin_aux.controls.PersonaId.setValue(e))})}valorFecha(e){console.log(e.value)}valorFechaLimite(e){console.log(e.value)}valorFechaFallo(e){console.log(e.value)}agregar_pena_deductiva(){const e=this.formulario_penas_ded.getRawValue();console.log(e),this.array_penas_deductivas.push(e),console.log(this.array_penas_deductivas),this.formulario_penas_ded.reset()}eliminar_pena_deductiva(e){const t=this.array_penas_deductivas.indexOf(e);console.log(t),this.array_penas_deductivas.splice(t,1)}agregar_admin_aux(){const e=this.formulario_admin_aux.getRawValue(),t=this.formulario_admin_aux.controls.DelegacionesClvDele.value,n=this.formulario_admin_aux.controls.PersonaId.value;e.DelegacionesClvDele=t.ClvDele,e.Delegaciones=t,e.PersonaId=n.Id,e.Persona=n,console.log(e),this.array_admin.push(e),console.log(this.array_admin),this.formulario_admin_aux.reset(),this.nombre_compelto=""}eliminar_admin(e){const t=this.array_admin.indexOf(e);console.log(t),this.array_admin.splice(t,1)}seleccionados(){this.array_delegaciones_admin=this.form_delegaciones.value,console.log(this.array_delegaciones_admin)}agregar_contrato(){const e=this.array_delegaciones_admin.map(function(e){return e.ClvDele}),t=this.formulario_contrato.getRawValue(),n=this.formulario_penas_conv.getRawValue(),a=this.formulario_fianza.getRawValue();t.InicioContrato=this.fechaInico,t.FechaFallo=this.fechaFallo,t.FinContrato=this.fechaFin,this.repre_legal={Id:"",ContratoId:"",ContactoProveedorId:t.ContactoProveedorId},this.contrato_nuevo={Contrato:t,Delegaciones:e,AdminAuxContrato:this.array_admin,PenasConvencionales:n,RepresentanteLegal:this.repre_legal,PenasDeductivas:this.array_penas_deductivas,Fianza:a},console.log(this.contrato_nuevo),h().fire({title:"Confirmacion",text:"Agregar Contrato"+t.NumeroContrato,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Agregar"}).then(e=>{e.value&&this._contrato.AgregarContrato(this.contrato_nuevo).subscribe(e=>{console.log(e),h().fire({position:"center",title:"Correcto",text:e.Mensaje,icon:"success",showConfirmButton:!0}),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})})}siguiente(){this.index_tab=this.tabGroup.selectedIndex+1}verificarArrayAdmin(){return this.array_admin.length>0}verificarArrayPenas(){return this.array_penas_deductivas.length>0}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](De.$),b["\u0275\u0275directiveInject"](x.v),b["\u0275\u0275directiveInject"](g.b),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](v._A),b["\u0275\u0275directiveInject"](p.d))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-editar-contrato"]],viewQuery:function(e,t){if(1&e&&b["\u0275\u0275viewQuery"](Pe,5),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.tabGroup=e.first)}},features:[b["\u0275\u0275ProvidersFeature"]([{provide:v.Ad,useValue:"ja-JP"},{provide:v._A,useClass:S.t7,deps:[v.Ad]},{provide:v.sG,useValue:S.$o}])],decls:237,vars:37,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-stretch-tabs","","backgroundColor","primary","color","warn",1,"mat-elevation-z4",3,"selectedIndex"],["tabGroup",""],["label","Datos Contrato"],[2,"background-color","white",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-20"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","tabIndex","-1"],["mat-flat-button","","color","primary","type","button",2,"max-width","100%",3,"click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","Numero de contrato","formControlName","NumeroContrato","autocomplete","off","required",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","InicioContrato",3,"min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FinContrato",3,"min","matDatepicker","dateChange"],["picker2",""],["matInput","","placeholder","Procedimiento de contratacion","formControlName","ProcedContratacion","autocomplete","off"],["matInput","","placeholder","Descripcion del procedimiento","formControlName","TipoProcedContratacion","autocomplete","off"],["matInput","","placeholder","Fecha del fallo","readonly","","formControlName","FechaFallo",3,"min","matDatepicker","dateChange"],["picker3",""],["matInput","","placeholder","Monto total del contrato","formControlName","MontoTotal","autocomplete","off","type","number",1,"soloNumeros"],["formControlName","TipoContrato"],["value","Equipo Medico"],["value","Servicios"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm"," 100\n                ","fxFlex.gt-xs","100","fxFlex","100","align","end"],["label","Administrador",3,"disabled"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"p-20"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","65","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Nombre Completo","autocomplete","off","readonly","","required","",3,"value"],["matInput","","placeholder","Cargo","formControlName","Cargo","autocomplete","off","required",""],["formControlName","DelegacionesClvDele","required",""],[3,"value",4,"ngFor","ngForOf"],["align","end",4,"ngIf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100"],["formControlName","Responsabilidad","required",""],["value","Administrador de contratos"],["value","Auxiliar de contratos"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100",1,"b-all",2,"border-width","medium","height","200px","overflow","auto"],["align","center"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",1,"m-t-30"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["label","Pena Convencional"],["matInput","","placeholder","Pena Convencional","formControlName","Descripcion","autocomplete","off","required",""],["matInput","","type","number","placeholder","Porcentaje","autocomplete","off","required","","formControlName","Porcentaje",1,"example-right-align"],["matPrefix",""],["matSuffix",""],["label","Penas Deductivas",3,"disabled"],["fxFlex.gt-sm","60","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Concepto Obligacion","formControlName","ConceptoObligacion","autocomplete","off","required",""],["matInput","","placeholder","Nivel del servicio","formControlName","NivelServicio","autocomplete","off","required",""],["matInput","","placeholder","Unidad de Medida","formControlName","UnidadMedida","autocomplete","off","required",""],["matInput","","type","number","placeholder","Porcentaje","autocomplete","off","required","","formControlName","Deduccion",1,"example-right-align"],["matInput","","placeholder","Descripcion","formControlName","DescripcionDeduccion","autocomplete","off","required",""],["matInput","","placeholder","Limite incumplimiento","formControlName","LimiteIncumplimiento","autocomplete","off","required",""],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","align","end"],["label","Fianza",3,"disabled"],["formControlName","Tipo","required",""],["value","Afianzadora"],["value","Cheque"],["matInput","","placeholder","Afianzadora o Cheque","formControlName","Afianzadora","autocomplete","off","required",""],["matInput","","placeholder","Numero de poliza o Cheque","formControlName","NumPoliza","autocomplete","off","required",""],["matInput","","placeholder","Monto de Fianza","type","number","formControlName","MontoFianza",1,"example-right-align"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","space-around end"],["mat-flat-button","","color","warn",3,"click"],["matInput","","formControlName","ProveedorNProvImss","autocomplete","off","readonly","",3,"value"],["matInput","","formControlName","ContactoProveedorId","autocomplete","off","readonly","",3,"value"],["required","","multiple","",3,"formControl","selectionChange"],[3,"value"],["align","end"],["role","listitem"],["matLine",""],["mat-icon-button","",3,"click"],["aria-label","Example icon-button with a heart icon","color","warn"],["mat-icon-button",""],["aria-label","Example icon-button with a heart icon","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-content"),b["\u0275\u0275elementStart"](5,"mat-tab-group",2,3),b["\u0275\u0275elementStart"](7,"mat-tab",4),b["\u0275\u0275elementStart"](8,"form",5),b["\u0275\u0275elementStart"](9,"div",6),b["\u0275\u0275elementStart"](10,"div",7),b["\u0275\u0275elementStart"](11,"button",8),b["\u0275\u0275listener"]("click",function(){return t.openDialogRepresentante()}),b["\u0275\u0275text"](12," Seleccionar Proveedor "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](13,Me,5,1,"div",9),b["\u0275\u0275template"](14,Te,5,1,"div",9),b["\u0275\u0275elementStart"](15,"div",10),b["\u0275\u0275elementStart"](16,"mat-form-field",11),b["\u0275\u0275elementStart"](17,"mat-label"),b["\u0275\u0275text"](18,"Numero de contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](19,"input",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div",10),b["\u0275\u0275elementStart"](21,"mat-form-field",13),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](27).open()}),b["\u0275\u0275elementStart"](22,"mat-label"),b["\u0275\u0275text"](23,"Fecha Inicio contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"input",14),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFecha(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](25,"mat-datepicker-toggle",15),b["\u0275\u0275element"](26,"mat-datepicker",16,17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",10),b["\u0275\u0275elementStart"](29,"mat-form-field",13),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](35).open()}),b["\u0275\u0275elementStart"](30,"mat-label"),b["\u0275\u0275text"](31,"Fecha fin contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"input",18),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaLimite(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](33,"mat-datepicker-toggle",15),b["\u0275\u0275element"](34,"mat-datepicker",16,19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"div",10),b["\u0275\u0275elementStart"](37,"mat-form-field",11),b["\u0275\u0275elementStart"](38,"mat-label"),b["\u0275\u0275text"](39,"Procedimiento de contratacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](40,"input",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"div",10),b["\u0275\u0275elementStart"](42,"mat-form-field",11),b["\u0275\u0275elementStart"](43,"mat-label"),b["\u0275\u0275text"](44,"Descripcion Procedimiento"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](45,"input",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"div",10),b["\u0275\u0275elementStart"](47,"mat-form-field",13),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](53).open()}),b["\u0275\u0275elementStart"](48,"mat-label"),b["\u0275\u0275text"](49,"Fecha Fallo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",22),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaFallo(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](51,"mat-datepicker-toggle",15),b["\u0275\u0275element"](52,"mat-datepicker",16,23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"div",10),b["\u0275\u0275elementStart"](55,"mat-form-field",11),b["\u0275\u0275elementStart"](56,"mat-label"),b["\u0275\u0275text"](57,"Monto total del contrato sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](58,"input",24),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](59,"div",10),b["\u0275\u0275elementStart"](60,"mat-form-field",11),b["\u0275\u0275elementStart"](61,"mat-label"),b["\u0275\u0275text"](62,"Tipo de Contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"mat-select",25),b["\u0275\u0275elementStart"](64,"mat-option",26),b["\u0275\u0275text"](65,"Equipo Medico"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"mat-option",27),b["\u0275\u0275text"](67,"Servicios"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](68,Be,6,2,"div",9),b["\u0275\u0275elementStart"](69,"div",28),b["\u0275\u0275elementStart"](70,"button",29),b["\u0275\u0275listener"]("click",function(){return t.siguiente()}),b["\u0275\u0275text"](71," Siguiente "),b["\u0275\u0275elementStart"](72,"mat-icon"),b["\u0275\u0275text"](73,"arrow_right_alt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](74,"div",30),b["\u0275\u0275elementStart"](75,"label"),b["\u0275\u0275text"](76,"* Campos requeridos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](77,"mat-tab",31),b["\u0275\u0275elementStart"](78,"form",32),b["\u0275\u0275elementStart"](79,"div",33),b["\u0275\u0275elementStart"](80,"div",34),b["\u0275\u0275elementStart"](81,"div",35),b["\u0275\u0275elementStart"](82,"div",36),b["\u0275\u0275elementStart"](83,"mat-form-field",13),b["\u0275\u0275listener"]("click",function(){return t.openDialogPersona()}),b["\u0275\u0275elementStart"](84,"mat-label"),b["\u0275\u0275text"](85,"Nombre Completo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](86,"input",37),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"div",10),b["\u0275\u0275elementStart"](88,"mat-form-field",11),b["\u0275\u0275elementStart"](89,"mat-label"),b["\u0275\u0275text"](90,"Cargo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](91,"input",38),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](92,"div",34),b["\u0275\u0275elementStart"](93,"mat-form-field",11),b["\u0275\u0275elementStart"](94,"mat-label"),b["\u0275\u0275text"](95,"Selecciona una delegacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](96,"mat-select",39),b["\u0275\u0275template"](97,je,2,2,"mat-option",40),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](98,qe,2,0,"mat-hint",41),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](99,"div",42),b["\u0275\u0275elementStart"](100,"mat-form-field",11),b["\u0275\u0275elementStart"](101,"mat-label"),b["\u0275\u0275text"](102,"Responsabilidad"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](103,"mat-select",43),b["\u0275\u0275elementStart"](104,"mat-option",44),b["\u0275\u0275text"](105,"Administrador de contratos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](106,"mat-option",45),b["\u0275\u0275text"](107,"Auxiliar de contratos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](108,"div",46),b["\u0275\u0275elementStart"](109,"mat-label",47),b["\u0275\u0275text"](110,"Lista de Asignaciones"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](111,"mat-list",48),b["\u0275\u0275template"](112,ze,10,4,"mat-list-item",49),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](113,"div",50),b["\u0275\u0275elementStart"](114,"button",29),b["\u0275\u0275listener"]("click",function(){return t.agregar_admin_aux()}),b["\u0275\u0275text"](115,"Agregar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](116,"div",28),b["\u0275\u0275elementStart"](117,"button",29),b["\u0275\u0275listener"]("click",function(){return t.siguiente()}),b["\u0275\u0275text"](118,"Siguiente "),b["\u0275\u0275elementStart"](119,"mat-icon"),b["\u0275\u0275text"](120,"arrow_right_alt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](121,"div",51),b["\u0275\u0275elementStart"](122,"p"),b["\u0275\u0275elementStart"](123,"strong"),b["\u0275\u0275text"](124,"NOTA: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](125,"Debes agregar al menos un administrador del contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](126,"mat-tab",52),b["\u0275\u0275elementStart"](127,"form",5),b["\u0275\u0275elementStart"](128,"div",6),b["\u0275\u0275elementStart"](129,"div",51),b["\u0275\u0275elementStart"](130,"mat-form-field",11),b["\u0275\u0275elementStart"](131,"mat-label"),b["\u0275\u0275text"](132,"Descripcion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](133,"textarea",53),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](134,"div",10),b["\u0275\u0275elementStart"](135,"mat-form-field",11),b["\u0275\u0275elementStart"](136,"mat-label"),b["\u0275\u0275text"](137,"Porcentaje de la pena por dia"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](138,"input",54),b["\u0275\u0275elementStart"](139,"span",55),b["\u0275\u0275text"](140,"\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](141,"span",56),b["\u0275\u0275text"](142,"%"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](143,"div",28),b["\u0275\u0275elementStart"](144,"button",29),b["\u0275\u0275listener"]("click",function(){return t.siguiente()}),b["\u0275\u0275text"](145,"Siguiente "),b["\u0275\u0275elementStart"](146,"mat-icon"),b["\u0275\u0275text"](147,"arrow_right_alt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](148,"mat-tab",57),b["\u0275\u0275elementStart"](149,"form",5),b["\u0275\u0275elementStart"](150,"div",33),b["\u0275\u0275elementStart"](151,"div",58),b["\u0275\u0275elementStart"](152,"div",35),b["\u0275\u0275elementStart"](153,"div",59),b["\u0275\u0275elementStart"](154,"mat-form-field",11),b["\u0275\u0275elementStart"](155,"mat-label"),b["\u0275\u0275text"](156,"Concepto Obligacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](157,"textarea",60),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](158,"div",59),b["\u0275\u0275elementStart"](159,"mat-form-field",11),b["\u0275\u0275elementStart"](160,"mat-label"),b["\u0275\u0275text"](161,"Nivel Servicio"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](162,"textarea",61),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](163,"div",59),b["\u0275\u0275elementStart"](164,"mat-form-field",11),b["\u0275\u0275elementStart"](165,"mat-label"),b["\u0275\u0275text"](166,"Unidad de Medida"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](167,"textarea",62),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](168,"div",59),b["\u0275\u0275elementStart"](169,"mat-form-field",11),b["\u0275\u0275elementStart"](170,"mat-label"),b["\u0275\u0275text"](171,"Porcentaje deduccion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](172,"input",63),b["\u0275\u0275elementStart"](173,"span",55),b["\u0275\u0275text"](174,"\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](175,"span",56),b["\u0275\u0275text"](176,"%"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](177,"div",59),b["\u0275\u0275elementStart"](178,"mat-form-field",11),b["\u0275\u0275elementStart"](179,"mat-label"),b["\u0275\u0275text"](180,"Descripcion de la deduccion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](181,"textarea",64),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](182,"div",59),b["\u0275\u0275elementStart"](183,"mat-form-field",11),b["\u0275\u0275elementStart"](184,"mat-label"),b["\u0275\u0275text"](185,"Limite incumplimiento"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](186,"textarea",65),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](187,"div",10),b["\u0275\u0275elementStart"](188,"mat-list",48),b["\u0275\u0275elementStart"](189,"mat-label",47),b["\u0275\u0275text"](190,"Lista de penas"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](191,Le,5,1,"mat-list-item",49),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](192,"div",10),b["\u0275\u0275elementStart"](193,"button",29),b["\u0275\u0275listener"]("click",function(){return t.agregar_pena_deductiva()}),b["\u0275\u0275text"](194,"Agregar Pena "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](195,"div",66),b["\u0275\u0275elementStart"](196,"button",29),b["\u0275\u0275listener"]("click",function(){return t.siguiente()}),b["\u0275\u0275text"](197,"Siguiente "),b["\u0275\u0275elementStart"](198,"mat-icon"),b["\u0275\u0275text"](199,"arrow_right_alt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](200,"mat-tab",67),b["\u0275\u0275elementStart"](201,"form",32),b["\u0275\u0275elementStart"](202,"div",6),b["\u0275\u0275elementStart"](203,"div",10),b["\u0275\u0275elementStart"](204,"mat-form-field",11),b["\u0275\u0275elementStart"](205,"mat-label"),b["\u0275\u0275text"](206,"Tipo de Fianza"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](207,"mat-select",68),b["\u0275\u0275elementStart"](208,"mat-option",69),b["\u0275\u0275text"](209,"Afianzadora"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](210,"mat-option",70),b["\u0275\u0275text"](211,"Cheque"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](212,"div",10),b["\u0275\u0275elementStart"](213,"mat-form-field",11),b["\u0275\u0275elementStart"](214,"mat-label"),b["\u0275\u0275text"](215,"Afianzadora / Cheque"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](216,"input",71),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](217,"div",10),b["\u0275\u0275elementStart"](218,"mat-form-field",11),b["\u0275\u0275elementStart"](219,"mat-label"),b["\u0275\u0275text"](220,"Numero Poliza / Cheque"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](221,"input",72),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](222,"div",10),b["\u0275\u0275elementStart"](223,"mat-form-field"),b["\u0275\u0275elementStart"](224,"mat-label"),b["\u0275\u0275text"](225,"Monto de Fianza"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](226,"input",73),b["\u0275\u0275elementStart"](227,"span",55),b["\u0275\u0275text"](228,"$\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](229,"span",56),b["\u0275\u0275text"](230,".00"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](231,"div",74),b["\u0275\u0275elementStart"](232,"div",10),b["\u0275\u0275elementStart"](233,"button",75),b["\u0275\u0275listener"]("click",function(){return t.cerrarDialog()}),b["\u0275\u0275text"](234," Cancelar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](235,Oe,3,1,"div",9),b["\u0275\u0275template"](236,$e,3,1,"div",9),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275reference"](27),n=b["\u0275\u0275reference"](35),a=b["\u0275\u0275reference"](53);b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](t.titulo),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("selectedIndex",t.index_tab),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("formGroup",t.formulario_contrato),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("@.disabled",t.disableAnimation),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.representante),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.representante),b["\u0275\u0275advance"](10),b["\u0275\u0275property"]("min",t.minDate)("max",t.maxDate)("matDatepicker",e),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",e),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("min",t.minDate2)("matDatepicker",n),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",n),b["\u0275\u0275advance"](17),b["\u0275\u0275property"]("min",t.minDate)("matDatepicker",a),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",a),b["\u0275\u0275advance"](17),b["\u0275\u0275property"]("ngIf",t.delegacionesArray),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("disabled",t.formulario_contrato.invalid),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("disabled",t.formulario_contrato.invalid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroup",t.formulario_admin_aux),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("value",t.nombre_compelto),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("ngForOf",t.array_delegaciones_admin),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.array_delegaciones_admin),b["\u0275\u0275advance"](14),b["\u0275\u0275property"]("ngForOf",t.array_admin),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("disabled",t.formulario_admin_aux.invalid),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("disabled",!t.verificarArrayAdmin()),b["\u0275\u0275advance"](10),b["\u0275\u0275property"]("formGroup",t.formulario_penas_conv),b["\u0275\u0275advance"](17),b["\u0275\u0275property"]("disabled",t.formulario_penas_conv.invalid),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",t.formulario_penas_conv.invalid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroup",t.formulario_penas_ded),b["\u0275\u0275advance"](42),b["\u0275\u0275property"]("ngForOf",t.array_penas_deductivas),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("disabled",t.formulario_penas_ded.invalid),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("disabled",!t.verificarArrayPenas()),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",t.formulario_penas_conv.invalid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroup",t.formulario_fianza),b["\u0275\u0275advance"](34),b["\u0275\u0275property"]("ngIf",!t.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.data.editar)}},directives:[u.uh,u.xY,y.a8,y.dn,Ve.SP,Ve.uX,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,A.lW,a.O5,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,i.RequiredValidator,Ae.hl,Ae.nW,w.R9,Ae.Mq,i.NumberValueAccessor,ke.gD,v.ey,k.Hw,a.sg,Ne.i$,w.qo,u.H8,i.FormControlDirective,w.bx,Ne.Tg,v.X2],styles:[".example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.soloNumeros[_ngcontent-%COMP%]{text-align:left}input.soloNumeros[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.soloNumeros[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}input.soloNumeros[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})();function Ue(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-card",5),b["\u0275\u0275elementStart"](1,"mat-card-title",6),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3,"Contrato Numero: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"mat-card-content"),b["\u0275\u0275elementStart"](6,"h5",7),b["\u0275\u0275elementStart"](7,"strong"),b["\u0275\u0275text"](8,"Numero de Procedimiento: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"h5",7),b["\u0275\u0275elementStart"](11,"strong"),b["\u0275\u0275text"](12,"Tipo de Procedimiento: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"h5",7),b["\u0275\u0275elementStart"](15,"strong"),b["\u0275\u0275text"](16,"Tipo de Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"h5",7),b["\u0275\u0275elementStart"](19,"strong"),b["\u0275\u0275text"](20,"Inicio de Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"h5",7),b["\u0275\u0275elementStart"](23,"strong"),b["\u0275\u0275text"](24,"Fin de Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](25),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"h5",7),b["\u0275\u0275elementStart"](27,"strong"),b["\u0275\u0275text"](28,"Monto Total (Sin IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"h5",7),b["\u0275\u0275elementStart"](32,"strong"),b["\u0275\u0275text"](33,"Numero de Proveedor: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](34),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"h5",7),b["\u0275\u0275elementStart"](36,"strong"),b["\u0275\u0275text"](37,"Proveedor: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](38),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"h5",7),b["\u0275\u0275elementStart"](40,"strong"),b["\u0275\u0275text"](41,"Fecha de Fallo: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.NumeroContrato),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](e.Contrato.ProcedContratacion),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.TipoProcedContratacion),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.TipoContrato.Tipo),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.InicioContrato),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.FinContrato),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,10,e.Contrato.MontoTotal)),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](e.Contrato.ProveedorNProvImss),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.Proveedor.NombreEmpresa),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.Contrato.FechaFallo)}}let We=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this.data=t,this._contrato=n}ngOnInit(){this._contrato.ConsultarContratos(this.data.num_contrato,"","","","","","","","","").subscribe(e=>{this.Contrato=e.Data.registros[0],console.log(this.Contrato)})}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](p.d))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-consultar-contrato"]],decls:7,vars:1,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["class","oh text-left little-profile",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[1,"oh","text-left","little-profile"],["align","center"],[1,"m-t-10","m-b-10"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Detalles del Contrato Registrado"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275template"](3,Ue,43,12,"mat-card",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"button",4),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](6,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.Contrato))},directives:[u.uh,u.xY,a.O5,u.H8,A.lW,y.a8,y.n5,y.dn],pipes:[a.H9],styles:[""]}),e})();var Ge=n(82051),Ye=n(90911),Qe=n(762),Xe=n(63031),Ke=n(24311),Ze=n(41293);function Je(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",19),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e.id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.tipo," ")}}function et(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-form-field"),b["\u0275\u0275elementStart"](1,"mat-label"),b["\u0275\u0275text"](2,"Seleciona el tipo de contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"mat-select",17),b["\u0275\u0275listener"]("selectionChange",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().cambio(t.value)}),b["\u0275\u0275template"](4,Je,2,2,"mat-option",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("formControl",e.tipo),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",e.tipo_contrato)}}function tt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"ngx-dropzone-preview",20),b["\u0275\u0275listener"]("removed",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onRemove(t)}),b["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"number"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275property"]("removable",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate2"]("",e.name," (",b["\u0275\u0275pipeBind2"](3,3,e.size/1024/1024,".2")," MB)")}}const nt=function(e){return{background:e}};function at(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4),b["\u0275\u0275pipe"](5,"number"),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"button",21),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().ValidarArchivo()}),b["\u0275\u0275element"](8,"span",22),b["\u0275\u0275text"](9," Validar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"button",23),b["\u0275\u0275listener"]("click",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onRemove(t)}),b["\u0275\u0275element"](11,"span",24),b["\u0275\u0275text"](12," Eliminar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"button",25),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().SubirArchivo()}),b["\u0275\u0275element"](14,"span",26),b["\u0275\u0275text"](15," Guardar Registros "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](null==e?null:e.name),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind2"](5,4,(null==e?null:e.size)/1024/1024,".2")," MB "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](7,nt,n.color)),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("disabled",!n.validado||!n.valor_tipo)}}function ot(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",39),b["\u0275\u0275text"](1,"Numero de contrato"),b["\u0275\u0275elementEnd"]())}function rt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NumContra," ")}}function lt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",39),b["\u0275\u0275text"](1,"Error"),b["\u0275\u0275elementEnd"]())}function it(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Error)}}function ct(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",39),b["\u0275\u0275text"](1," Columna"),b["\u0275\u0275elementEnd"]())}function mt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Columna,"")}}function st(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",39),b["\u0275\u0275text"](1," Linea"),b["\u0275\u0275elementEnd"]())}function dt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Linea,"")}}function pt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",39),b["\u0275\u0275text"](1," Accion"),b["\u0275\u0275elementEnd"]())}function ut(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",40),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"](2).AbrirAccion(t)}),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](n.MensajeBoton(e.Tipo))}}function ft(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function ht(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}function xt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",7),b["\u0275\u0275elementStart"](1,"h4",27),b["\u0275\u0275text"](2,"Resultado de validacion: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"div",28),b["\u0275\u0275elementStart"](4,"mat-table",29),b["\u0275\u0275elementContainerStart"](5,30),b["\u0275\u0275template"](6,ot,2,0,"mat-header-cell",31),b["\u0275\u0275template"](7,rt,2,1,"mat-cell",32),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](8,33),b["\u0275\u0275template"](9,lt,2,0,"mat-header-cell",31),b["\u0275\u0275template"](10,it,2,1,"mat-cell",32),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](11,34),b["\u0275\u0275template"](12,ct,2,0,"mat-header-cell",31),b["\u0275\u0275template"](13,mt,2,1,"mat-cell",32),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](14,35),b["\u0275\u0275template"](15,st,2,0,"mat-header-cell",31),b["\u0275\u0275template"](16,dt,2,1,"mat-cell",32),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](17,36),b["\u0275\u0275template"](18,pt,2,0,"mat-header-cell",31),b["\u0275\u0275template"](19,ut,3,1,"mat-cell",32),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](20,ft,1,0,"mat-header-row",37),b["\u0275\u0275template"](21,ht,1,0,"mat-row",38),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataSource",e.dataSource),b["\u0275\u0275advance"](16),b["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns)}}function gt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Archivo sin errores de validacion"),b["\u0275\u0275elementEnd"]())}let vt=(()=>{class e{constructor(e,t,n,a,o){this._contrato=e,this.dialog=t,this.contrato_puesto=n,this.dialogRef=a,this.data=o,this.files=[],this.Errores=[],this.displayedColumns=["NumContrato","Columna","Linea","Error","Tipo"],this.validado=!1,this.color="",this.tipo_contrato=[],this.tipo=new i.FormControl,this.valor_tipo=""}onNoClick(){this.dialogRef.close()}ngOnInit(){const e=(0,Ye.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(e.PuestoId).subscribe(e=>{this.tipo_contrato=e.Data.map(e=>({id:e.TipoContrato.Id,tipo:e.TipoContrato.Tipo}))}),this.dataSource=new s.by}SubirArchivo(){const e=new FormData;e.append("file",this.files[0]),h().fire({title:"Estas seguro de agregar estos datos",showCancelButton:!0,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, agregar"}).then(t=>{t.value&&this._contrato.SubirArchivo(e,this.valor_tipo).subscribe(e=>{console.log(e),h().fire({position:"center",title:e.Mensaje,icon:"success",showConfirmButton:!0}),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;console.log(this.Errores),this.color="#d4782c",h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})})}ValidarArchivo(){this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores;const e=new FormData;e.append("file",this.files[0]),this._contrato.ValidarArchivo(e).subscribe(e=>{h().fire({position:"center",title:e.Mensaje,icon:"success",showConfirmButton:!0}),this.validado=!0,this.color="#18903f"},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;this.Errores=t.Data,this.dataSource.data=this.Errores,console.log(this.Errores),this.color="#d4782c",h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})}cambio(e){this.valor_tipo=e}AbrirAccion(e){if(2===e.Tipo){const t=this.dataSource.data.indexOf(e);console.log(t),this.dialog.open(ie.R,{height:"auto",width:"80%",disableClose:!0,data:{editar:!1,proveedor:""}}).afterClosed().subscribe(e=>{!0===e&&this.ValidarArchivo()})}0===e.Tipo&&h().fire({position:"center",title:"Debes editar tu archivo  de carga",text:e.Error,icon:"error",showConfirmButton:!0}),1===e.Tipo&&this.dialog.open(We,{height:"auto",width:"50%",disableClose:!0,data:{num_contrato:e.NumContra}}).afterClosed().subscribe(e=>{})}MensajeBoton(e){return 1===e?"Consultar":2===e?"Agregar":"Ver"}descargar(){this._contrato.DescargarPlantillaContrato().subscribe(e=>{console.log(e),File&&(0,Ge.saveAs)(e,"plantilla_contrato.xlsx")})}onSelect(e){this.files.length<1&&(console.log(...e.addedFiles),this.files.push(...e.addedFiles))}onRemove(e){console.log(e),this.files.splice(this.files.indexOf(e),1),this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores,this.color="#0089e1"}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](Qe.L),b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-carga-csv"]],decls:38,vars:9,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["accept",".xlsx","matTooltip","Solo puedes seleccionar un archivo","matTooltipPosition","above","matTooltipClass","example-tooltip-red",3,"multiple","disableClick","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"table"],["width","30%"],["width","50%"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","color","warn",3,"click"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"removable","removed"],["mat-raised-button","","color","primary",3,"ngStyle","click"],[1,"fa","fa-upload"],["mat-raised-button","","color","warn",1,"m-l-10",3,"click"],[1,"fa","fa-trash"],["mat-raised-button","","color","primary",1,"m-l-10",3,"disabled","click"],[1,"fa","fa-save"],[2,"color","#003366"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","NumContrato"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Error"],["matColumnDef","Columna"],["matColumnDef","Linea"],["matColumnDef","Tipo"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Carga Masiva de Contratos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"div",2),b["\u0275\u0275elementStart"](5,"div",3),b["\u0275\u0275template"](6,et,5,2,"mat-form-field",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"mat-card-title"),b["\u0275\u0275elementStart"](8,"button",5),b["\u0275\u0275listener"]("click",function(){return t.descargar()}),b["\u0275\u0275elementStart"](9,"mat-icon"),b["\u0275\u0275text"](10,"cloud_download"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](11," Descargar Plantilla "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"mat-card-content"),b["\u0275\u0275elementStart"](13,"div",6),b["\u0275\u0275elementStart"](14,"div",7),b["\u0275\u0275elementStart"](15,"ngx-dropzone",8),b["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),b["\u0275\u0275elementStart"](16,"ngx-dropzone-label"),b["\u0275\u0275text"](17,"Haga clic o arrastra tu archivo aqui!!"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](18,tt,4,6,"ngx-dropzone-preview",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"div",7),b["\u0275\u0275elementStart"](20,"p"),b["\u0275\u0275text"](21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"table",10),b["\u0275\u0275elementStart"](23,"thead"),b["\u0275\u0275elementStart"](24,"tr"),b["\u0275\u0275elementStart"](25,"th",11),b["\u0275\u0275text"](26,"Nombre"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"th"),b["\u0275\u0275text"](28,"Tama\xf1o"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"th",12),b["\u0275\u0275text"](30,"Acciones"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"tbody"),b["\u0275\u0275template"](32,at,16,9,"tr",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](33,xt,22,4,"div",14),b["\u0275\u0275template"](34,gt,2,0,"h2",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",15),b["\u0275\u0275elementStart"](36,"button",16),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](37,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.tipo_contrato),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("disabled",!t.valor_tipo),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("multiple",!1)("disableClick",t.files.length>0),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.files),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"]("Archivo para subir: ",null==t.files?null:t.files.length,""),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("ngForOf",t.files),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Errores&&t.files.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.validado&&t.files.length>0))},directives:[u.uh,u.xY,y.a8,I.xw,I.Wh,I.yH,a.O5,y.n5,A.lW,k.Hw,y.dn,Xe._f,Ke.gM,Xe.Jj,a.sg,u.H8,w.KE,w.hX,ke.gD,i.RequiredValidator,i.NgControlStatus,i.FormControlDirective,v.ey,Xe.dt,a.PC,Ze.Zl,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,C.nU,s.ev,s.XQ,s.Gk],pipes:[a.JJ],styles:["ngx-dropzone:hover{border:2px dotted #0089e1}.example-tooltip-red{background:#661421}"],encapsulation:2}),e})();var St=n(79058),Ct=n(29609),Et=n.n(Ct),bt=n(30990),yt=n(21219),_t=n(36278);function It(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",19),b["\u0275\u0275elementStart"](1,"div",20),b["\u0275\u0275elementStart"](2,"div",21),b["\u0275\u0275elementStart"](3,"mat-form-field",5),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Nombre del correo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](6,"input",22),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",23),b["\u0275\u0275elementStart"](8,"mat-form-field",5),b["\u0275\u0275elementStart"](9,"mat-label"),b["\u0275\u0275text"](10,"Correo electronico"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"input",24),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",25),b["\u0275\u0275elementStart"](13,"button",26),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).index;return b["\u0275\u0275nextContext"]().borrarCorreo(t)}),b["\u0275\u0275text"](14," Eliminar "),b["\u0275\u0275elementStart"](15,"mat-icon",10),b["\u0275\u0275text"](16,"email"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index;b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroupName",e),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("for","TipoCorreo"+e),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("id","TipoCorreo"+e),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("for","Correo"+e),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("id","Correo"+e)}}function wt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-error"),b["\u0275\u0275text"](1," Introduce un telefono Valido. "),b["\u0275\u0275elementEnd"]())}function Ft(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-error"),b["\u0275\u0275text"](1," Extensi\xf3n inv\xe1lida. "),b["\u0275\u0275elementEnd"]())}function Dt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",27),b["\u0275\u0275elementStart"](1,"div",20),b["\u0275\u0275elementStart"](2,"div",21),b["\u0275\u0275elementStart"](3,"mat-form-field",5),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Nombre del telefono"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](6,"input",28),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",21),b["\u0275\u0275elementStart"](8,"mat-form-field",5),b["\u0275\u0275elementStart"](9,"mat-label"),b["\u0275\u0275text"](10,"Telefono"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"input",29),b["\u0275\u0275template"](12,wt,2,0,"mat-error",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",31),b["\u0275\u0275elementStart"](14,"mat-form-field",5),b["\u0275\u0275elementStart"](15,"mat-label"),b["\u0275\u0275text"](16,"Extensi\xf3n"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](17,"input",32),b["\u0275\u0275template"](18,Ft,2,0,"mat-error",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"div",33),b["\u0275\u0275elementStart"](20,"button",26),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).index;return b["\u0275\u0275nextContext"]().borrarTelefono(t)}),b["\u0275\u0275text"](21," Eliminar "),b["\u0275\u0275elementStart"](22,"mat-icon",10),b["\u0275\u0275text"](23,"local_phone"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroupName",e),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("for","TipoTelefono"+e),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("id","TipoTelefono"+e),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("for","Telefono"+e),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("id","Telefono"+e),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",null==n.Telefonos.controls[e].get("Telefono").errors?null:n.Telefonos.controls[e].get("Telefono").errors.pattern),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("for","Extension"+e),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("id","Extension"+e),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",null==n.Telefonos.controls[e].get("Extension").errors?null:n.Telefonos.controls[e].get("Extension").errors.pattern)}}function Vt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",25),b["\u0275\u0275elementStart"](1,"button",34),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().editarRepresentante()}),b["\u0275\u0275text"](2,"Guardar Cambios "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",!e.representanteForm.dirty||e.representanteForm.invalid)}}function At(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",35),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().guardar()}),b["\u0275\u0275elementStart"](1,"button",36),b["\u0275\u0275text"](2,"Guardar Datos "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.representanteForm.invalid)}}let kt=(()=>{class e{constructor(e,t,n,a,o){this.dialogRef=e,this.data=t,this._representante=n,this.formBuilder=a,this._contactoCont=o,this.titulo="Agregar Representante Legal",this.representanteForm=this.formBuilder.group({NombreCompleto:[null,i.Validators.compose([i.Validators.required])],Correos:this.formBuilder.array([]),Telefonos:this.formBuilder.array([])}),t.editar&&(this.titulo="Editar Representante Legal",this.consultarRepresentante(),this.consultarCorreos(),this.consultarTelefonos()),this.representante=this.data.representante,console.log("Esto llega en el data",this.representante)}get Correos(){return this.representanteForm.get("Correos")}get Telefonos(){return this.representanteForm.get("Telefonos")}ngOnInit(){if(!this.data.editar&&this.representante){this.representanteForm.controls.NombreCompleto.setValue(this.representante.NombreCompleto);for(const e of this.representante.Correos){console.log(e);const t=this.formBuilder.group({Correo:[e.Correo,i.Validators.compose([i.Validators.email,i.Validators.required])],TipoCorreo:[e.TipoCorreo,i.Validators.compose([i.Validators.required])]});this.Correos.push(t)}for(const e of this.representante.Telefonos){const t=this.formBuilder.group({Telefono:[e.Telefono,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],Extension:[e.Extension,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])],TipoTelefono:[e.TipoTelefono,i.Validators.compose([i.Validators.required])]});this.Telefonos.push(t)}}(!this.data.editar&&null==this.representante||""==this.representante)&&(console.log("Mejecuteeee"),this.agregarCorreo(),this.agregarTelefonos())}agregarCorreo(){const e=this.formBuilder.group({Correo:[null,i.Validators.compose([i.Validators.email,i.Validators.required])],TipoCorreo:[null,i.Validators.compose([i.Validators.required])]});this.Correos.push(e)}borrarCorreo(e){const t=this.Correos.at(e).value;console.log(t),t.Id?h().fire({title:"Eliminar",text:"\xbfEstas seguro de eliminar este correo?",icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(n=>{n.value&&(console.log("Se tiene que eliminar de la base de datos"),this._contactoCont.EliminarCorreoContrato(t.Id).subscribe(t=>{h().fire("Correcto","El correo ha sido eliminado","success"),this.Correos.removeAt(e)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({icon:"error",title:"Ocurrio un error",text:t.Mensaje})}}))}):(console.log("Solo eliminar del arreglo"),this.Correos.removeAt(e))}agregarTelefonos(){const e=this.formBuilder.group({Telefono:[null,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],Extension:[null,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])],TipoTelefono:[null,i.Validators.compose([i.Validators.required])]});this.Telefonos.push(e)}borrarTelefono(e){const t=this.Telefonos.at(e).value;console.log(t),t.Id?h().fire({title:"Eliminar",text:"\xbfEstas seguro de eliminar este telefono?",icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(n=>{n.value&&(console.log("Se tiene que eliminar de la base de datos"),this._contactoCont.EliminarTelefonoContrato(t.Id).subscribe(t=>{h().fire("Correcto","El telefono ha sido eliminado","success"),this.Telefonos.removeAt(e)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({icon:"error",title:"Ocurrio un error",text:t.Mensaje})}}))}):(console.log("Solo eliminar del arreglo"),this.Telefonos.removeAt(e))}consultarRepresentante(){this._representante.ConsultaRepresentante(this.data.num_contrato).subscribe(e=>{this.representante=e.Data,console.log(this.representante),this.representanteForm.controls.NombreCompleto.setValue(this.representante.NombreCompleto)})}onNoClick(){this.dialogRef.close()}guardar(){console.log(this.representanteForm.value),this.dialogRef.close(this.representanteForm.value)}editarRepresentante(){h().fire({title:"Actualizacion",text:"\xbfEstas seguro de actualizar los datos?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",reverseButtons:!0,confirmButtonText:"Si, Actualizar",cancelButtonText:"Cancelar"}).then(e=>{e.value&&this._representante.EditarRepresentante(this.data.num_contrato,this.representanteForm.value).subscribe(e=>{h().fire("Correcto","Los datos han sido actualizados","success"),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({icon:"error",title:"Ocurrio un error",text:t.Mensaje})}})})}consultarCorreos(){this._contactoCont.ConsultaCorreosContrato(this.data.num_contrato).subscribe(e=>{this.correo_contrato=e.Data,console.log("Correos",this.correo_contrato);const t=e.Data.map(e=>({id:e.Id,correo:e.Correos.Correo,tipo:e.TipoCorreo}));for(const n of t){const e=this.formBuilder.group({Id:[n.id],Correo:[n.correo,i.Validators.compose([i.Validators.email,i.Validators.required])],TipoCorreo:[n.tipo,i.Validators.compose([i.Validators.required])]});this.Correos.push(e)}})}consultarTelefonos(){this._contactoCont.ConsultaTelefonosContrato(this.data.num_contrato).subscribe(e=>{console.log("Telefonosssss",e.Data);const t=e.Data.map(e=>({id:e.Id,telefono:e.Telefonos.Telefono,tipo:e.TipoTelefono,extension:e.Extension}));console.log(t);for(const n of t){const e=this.formBuilder.group({Id:[n.id],Telefono:[n.telefono,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],Extension:[n.extension,i.Validators.compose([i.Validators.pattern("^([0-9])*$")])],TipoTelefono:[n.tipo,i.Validators.compose([i.Validators.required])]});this.Telefonos.push(e)}})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](bt.i),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](yt.G))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-representante-legal"]],decls:30,vars:6,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","Nombre y Apellidos","formControlName","NombreCompleto","autocomplete","off","required",""],[1,"p-b-20"],[1,"p-b-10"],["mat-stroked-button","","color","primary","type","button",3,"click"],[1,"material-icons-outlined"],["formArrayName","Correos",4,"ngFor","ngForOf"],[1,"p-b-20",2,"color","#0d453c"],["formArrayName","Telefonos",4,"ngFor","ngForOf"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100","align","start"],["mat-stroked-button","","color","warn","cdkFocusInitial","",3,"click"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100","align","end",4,"ngIf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end",3,"click",4,"ngIf"],["formArrayName","Correos"],["fxLayout","row wrap","fxLayoutAlign","space-between center",3,"formGroupName"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Ej. Personal, Ventas ,Soporte","autocomplete","off","required","","formControlName","TipoCorreo"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Correo","autocomplete","off","required","","formControlName","Correo"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-stroked-button","","color","warn",3,"click"],["formArrayName","Telefonos"],["matInput","","placeholder","Ej. Personal, Ventas ,Soporte","autocomplete","off","required","","formControlName","TipoTelefono"],["matInput","","placeholder","Telefono","maxlength","13","minlength","7","autocomplete","off","required","","formControlName","Telefono"],[4,"ngIf"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Extensi\xf3n","autocomplete","off","formControlName","Extension","maxlength","5"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"form",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"mat-form-field",5),b["\u0275\u0275elementStart"](7,"mat-label"),b["\u0275\u0275text"](8,"Nombre del Representante"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](9,"input",6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](10,"mat-divider",7),b["\u0275\u0275elementStart"](11,"div",8),b["\u0275\u0275elementStart"](12,"button",9),b["\u0275\u0275listener"]("click",function(){return t.agregarCorreo()}),b["\u0275\u0275text"](13," Agregar nuevo "),b["\u0275\u0275elementStart"](14,"mat-icon",10),b["\u0275\u0275text"](15,"email"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](16,It,17,5,"div",11),b["\u0275\u0275element"](17,"mat-divider",12),b["\u0275\u0275elementStart"](18,"div",8),b["\u0275\u0275elementStart"](19,"button",9),b["\u0275\u0275listener"]("click",function(){return t.agregarTelefonos()}),b["\u0275\u0275text"](20," Agregar nuevo "),b["\u0275\u0275elementStart"](21,"mat-icon",10),b["\u0275\u0275text"](22,"local_phone"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,Dt,24,9,"div",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",14),b["\u0275\u0275elementStart"](25,"div",15),b["\u0275\u0275elementStart"](26,"button",16),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](27,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,Vt,3,1,"div",17),b["\u0275\u0275template"](29,At,3,1,"div",18),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](t.titulo),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("formGroup",t.representanteForm),b["\u0275\u0275advance"](13),b["\u0275\u0275property"]("ngForOf",t.Correos.controls),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngForOf",t.Telefonos.controls),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.data.editar))},directives:[u.uh,u.xY,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,i.RequiredValidator,_t.d,A.lW,k.Hw,a.sg,u.H8,a.O5,i.FormArrayName,i.FormGroupName,i.MaxLengthValidator,i.MinLengthValidator,w.TO],styles:[""]}),e})();var Nt=n(55850);function Pt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",30),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().DialogProveedor()}),b["\u0275\u0275elementStart"](1,"mat-icon",31),b["\u0275\u0275text"](2,"search"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Mt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",30),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().DialogProveedor()}),b["\u0275\u0275elementStart"](1,"mat-icon",31),b["\u0275\u0275text"](2,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Tt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",30),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().DialogRepresentante()}),b["\u0275\u0275elementStart"](1,"mat-icon",31),b["\u0275\u0275text"](2,"search"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Rt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",30),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().DialogRepresentante()}),b["\u0275\u0275elementStart"](1,"mat-icon",31),b["\u0275\u0275text"](2,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Bt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",32),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e.Id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.TipoContrato," ")}}function jt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",32),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NombreDele," ")}}function qt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-form-field",5),b["\u0275\u0275elementStart"](1,"mat-label"),b["\u0275\u0275text"](2,"Selecciona una delegacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"mat-select",34),b["\u0275\u0275listener"]("selectionChange",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"](2).seleccionados()}),b["\u0275\u0275template"](4,jt,2,2,"mat-option",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("compareWith",e.compareDeleg),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",e.delegacionesArray)}}function zt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275template"](1,qt,5,2,"mat-form-field",33),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!e.data.editar)}}function Lt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",27),b["\u0275\u0275elementStart"](1,"button",35),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().agregar_contrato()}),b["\u0275\u0275text"](2," Agregar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.formulario_contrato.invalid)}}function Ot(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",27),b["\u0275\u0275elementStart"](1,"button",35),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().editarContrato()}),b["\u0275\u0275text"](2," Guardar Cambios "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",!e.formulario_contrato.dirty||e.formulario_contrato.invalid)}}let $t=(()=>{class e{constructor(e,t,n,a,o,r,l,i,c,m){this.dialogRef=e,this.data=t,this.fb=n,this.dialog=a,this.adapter=o,this._delegaciones=r,this._contrato=l,this._delegacion_contrato=i,this._representante=c,this.contrato_puesto=m,this.fechaInico="",this.fechaFin="",this.fechaFallo="",this.fechaActual=new Date,this.m=this.fechaActual.getUTCMonth(),this.d=this.fechaActual.getDate(),this.y=this.fechaActual.getFullYear(),this.minDate=new Date(this.y-10,this.m,this.d),this.maxDate=new Date(this.y+20,0,1),this.delegacionesArray=[],this.array_delegaciones_admin=[],this.titulo="Agregar Contrato",this.tipo_contrato=[],this.disableAnimation=!0,this.adapter.setLocale("es-mx"),this.contrato=this.data.contrato,this.data.editar&&(this.titulo="Editar Contrato",this.proveedor=this.data.proveedor,this.consultarRepresentante()),this.proveedor=this.data.proveedor,this.representante=this.data.representante,console.log(t.contrato)}ngOnInit(){this.fecha_inicio=Et()(this.data.contrato.InicioContrato,"DD-MM-YYYY"),this.fecha_fin=Et()(this.data.contrato.FinContrato,"DD-MM-YYYY"),this.fecha_fallo=Et()(this.data.contrato.FechaFallo,"DD-MM-YYYY"),this.fechaInico=this.data.contrato.InicioContrato,this.fechaFin=this.data.contrato.FinContrato,this.fechaFallo=this.data.contrato.FechaFallo,this.crear_formulario_contratos(),this._delegaciones.ConsultarDelegaciones().subscribe(e=>{this.delegacionesArray=e.Data,console.log(this.delegacionesArray)}),this.consultarDelegaciones(),this.consultarTipoContrato()}consultarTipoContrato(){const e=(0,Ye.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(e.PuestoId).subscribe(e=>{this.tipo_contrato=e.Data.map(e=>({Id:e.TipoContrato.Id,TipoContrato:e.TipoContrato.Tipo})),console.log(this.tipo_contrato)})}consultarDelegaciones(){this._delegacion_contrato.ConsultarDelegacionContrato(this.data.contrato.NumeroContrato).subscribe(e=>{const t=e.Data.map(e=>e.Delegaciones);console.log(t),this.formulario_contrato.controls.form_delegaciones.setValue(t),this.array_delegaciones_admin=t})}compareDeleg(e,t){return e&&t&&e.NombreDele===t.NombreDele}onNoClick(){this.dialogRef.close()}consultarRepresentante(){this._representante.ConsultaRepresentante(this.contrato.NumeroContrato).subscribe(e=>{this.representante=e.Data,console.log(this.representante),this.formulario_contrato.controls.NombreCompleto.setValue(this.representante.NombreCompleto),this.formulario_contrato.controls.AliasEmpresa.setValue(this.proveedor.AliasEmpresa)})}ngAfterViewInit(){setTimeout(()=>this.disableAnimation=!1)}crear_formulario_contratos(){this.formulario_contrato=this.fb.group({NumeroContrato:[this.contrato.NumeroContrato,i.Validators.compose([i.Validators.required])],InicioContrato:[this.fecha_inicio,i.Validators.compose([i.Validators.required])],FinContrato:[this.fecha_fin,i.Validators.compose([i.Validators.required])],ProcedContratacion:[this.contrato.ProcedContratacion,i.Validators.compose([i.Validators.required])],TipoProcedContratacion:[this.contrato.TipoProcedContratacion,i.Validators.compose([i.Validators.required])],FechaFallo:[this.fecha_fallo,i.Validators.compose([i.Validators.required])],MontoTotal:[this.contrato.MontoTotal,i.Validators.compose([i.Validators.required])],TipoContrato:[this.contrato.TipoContrato,i.Validators.compose([i.Validators.required])],NombreCompleto:[this.representante.NombreCompleto,i.Validators.compose([i.Validators.required])],AliasEmpresa:[this.proveedor.AliasEmpresa,i.Validators.compose([i.Validators.required])],form_delegaciones:[null,i.Validators.compose([])]})}compare(e,t){return console.log(e,t),e&&t&&e.TipoContrato===t.TipoContrato}DialogProveedor(){this.dialog.open(Fe,{height:"auto",width:"89%",disableClose:!0,data:{proveedor:""}}).afterClosed().subscribe(e=>{e&&(this.proveedor=e,console.log(this.proveedor),this.formulario_contrato.controls.AliasEmpresa.setValue(this.proveedor.AliasEmpresa),this.data.editar&&this.formulario_contrato.controls.AliasEmpresa.markAsDirty())})}DialogRepresentante(){this.dialog.open(kt,{height:"auto",width:"65%",disableClose:!0,data:{representante:this.representante,num_contrato:this.data.contrato.NumeroContrato,editar:this.data.editar}}).afterClosed().subscribe(e=>{e&&(this.data.editar?this.consultarRepresentante():(this.representante=e,console.log(this.representante),this.formulario_contrato.controls.NombreCompleto.setValue(this.representante.NombreCompleto),this.data.editar&&this.formulario_contrato.controls.NombreCompleto.markAsDirty()))})}valorFecha(e){console.log(e.value)}valorFechaLimite(e){console.log(e.value)}valorFechaFallo(e){console.log(e.value)}seleccionados(){this.array_delegaciones_admin=this.formulario_contrato.controls.form_delegaciones.value}agregar_contrato(){const e=this.array_delegaciones_admin.map(function(e){return e.ClvDele}),t=this.formulario_contrato.getRawValue();t.InicioContrato=this.fechaInico,t.FechaFallo=this.fechaFallo,t.FinContrato=this.fechaFin,t.ProveedorNProvImss=this.proveedor.NProvImss,this.contrato_nuevo={Contrato:t,Delegaciones:e,Representante:this.representante},console.log(this.contrato_nuevo,t.ProveedorNProvImss),h().fire({title:"Confirmacion",text:"Agregar Contrato"+t.NumeroContrato,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Agregar"}).then(e=>{e.value&&this._contrato.AgregarUnContrato(this.contrato_nuevo).subscribe(e=>{console.log(e),h().fire({position:"center",title:"Correcto",text:e.Mensaje,icon:"success",showConfirmButton:!0}),this.dialogRef.close(!0)})})}editarContrato(){const e=this.formulario_contrato.getRawValue();e.InicioContrato=this.fechaInico,e.FechaFallo=this.fechaFallo,e.FinContrato=this.fechaFin,e.ProveedorNProvImss=this.proveedor.NProvImss,console.log(e),h().fire({title:"Actualizacion",text:"\xbfEstas seguro de editar la informacion?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, editar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(t=>{t.value&&this._contrato.ActualizarContrato(this.contrato.Id,e).subscribe(e=>{h().fire("Actualizado",e.Mensaje,"success"),this.dialogRef.close(!0)})})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](v._A),b["\u0275\u0275directiveInject"](De.$),b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](Nt.O),b["\u0275\u0275directiveInject"](bt.i),b["\u0275\u0275directiveInject"](Qe.L))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-un-contrato"]],features:[b["\u0275\u0275ProvidersFeature"]([{provide:v.Ad,useValue:"ja-JP"},{provide:v._A,useClass:S.t7,deps:[v.Ad]},{provide:v.sG,useValue:S.$o}])],decls:79,vars:21,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],[2,"background-color","white",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-20"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","formControlName","AliasEmpresa","autocomplete","off","readonly","","required",""],["matSuffix","","mat-icon-button","","color","primary","type","button",3,"click",4,"ngIf"],["matInput","","formControlName","NombreCompleto","autocomplete","off","readonly","","required",""],["matInput","","placeholder","Numero de contrato","formControlName","NumeroContrato","autocomplete","off","required",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","InicioContrato","required","",3,"min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FinContrato","required","",3,"min","matDatepicker","dateChange"],["picker2",""],["matInput","","placeholder","Procedimiento de contratacion","formControlName","ProcedContratacion","autocomplete","off","required",""],["matInput","","placeholder","Descripcion del procedimiento","formControlName","TipoProcedContratacion","autocomplete","off","required",""],["matInput","","placeholder","Fecha del fallo","readonly","","formControlName","FechaFallo","required","",3,"min","matDatepicker","dateChange"],["picker3",""],["matInput","","placeholder","Monto total del contrato","formControlName","MontoTotal","autocomplete","off","type","number","required","",1,"soloNumeros"],["formControlName","TipoContrato","required","",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center","align","end"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100"],["mat-stroked-button","","color","warn","cdkFocusInitial","",3,"click"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["matSuffix","","mat-icon-button","","color","primary","type","button",3,"click"],["aria-label","Selecciona"],[3,"value"],["appearance","outline",4,"ngIf"],["multiple","","formControlName","form_delegaciones",3,"compareWith","selectionChange"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"form",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"mat-form-field",5),b["\u0275\u0275elementStart"](7,"mat-label"),b["\u0275\u0275text"](8,"Selecciona Proveedor"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](9,"input",6),b["\u0275\u0275template"](10,Pt,3,0,"button",7),b["\u0275\u0275template"](11,Mt,3,0,"button",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",4),b["\u0275\u0275elementStart"](13,"mat-form-field",5),b["\u0275\u0275elementStart"](14,"mat-label"),b["\u0275\u0275text"](15,"Informaci\xf3n del representante"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](16,"input",8),b["\u0275\u0275template"](17,Tt,3,0,"button",7),b["\u0275\u0275template"](18,Rt,3,0,"button",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"div",4),b["\u0275\u0275elementStart"](20,"mat-form-field",5),b["\u0275\u0275elementStart"](21,"mat-label"),b["\u0275\u0275text"](22,"Numero de contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](23,"input",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"mat-form-field",10),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](31).open()}),b["\u0275\u0275elementStart"](26,"mat-label"),b["\u0275\u0275text"](27,"Fecha Inicio contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"input",11),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFecha(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](29,"mat-datepicker-toggle",12),b["\u0275\u0275element"](30,"mat-datepicker",13,14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",4),b["\u0275\u0275elementStart"](33,"mat-form-field",10),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](39).open()}),b["\u0275\u0275elementStart"](34,"mat-label"),b["\u0275\u0275text"](35,"Fecha fin contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"input",15),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaLimite(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](37,"mat-datepicker-toggle",12),b["\u0275\u0275element"](38,"mat-datepicker",13,16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"div",4),b["\u0275\u0275elementStart"](41,"mat-form-field",5),b["\u0275\u0275elementStart"](42,"mat-label"),b["\u0275\u0275text"](43,"Procedimiento de contratacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](44,"input",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"mat-form-field",5),b["\u0275\u0275elementStart"](47,"mat-label"),b["\u0275\u0275text"](48,"Descripcion Procedimiento"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](49,"input",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"div",4),b["\u0275\u0275elementStart"](51,"mat-form-field",10),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](57).open()}),b["\u0275\u0275elementStart"](52,"mat-label"),b["\u0275\u0275text"](53,"Fecha Fallo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"input",19),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaFallo(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](55,"mat-datepicker-toggle",12),b["\u0275\u0275element"](56,"mat-datepicker",13,20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",4),b["\u0275\u0275elementStart"](59,"mat-form-field",5),b["\u0275\u0275elementStart"](60,"mat-label"),b["\u0275\u0275text"](61,"Monto total del contrato sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](62,"input",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"div",4),b["\u0275\u0275elementStart"](64,"mat-form-field",5),b["\u0275\u0275elementStart"](65,"mat-label"),b["\u0275\u0275text"](66,"Tipo de Contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"mat-select",22),b["\u0275\u0275template"](68,Bt,2,2,"mat-option",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](69,zt,2,1,"div",24),b["\u0275\u0275elementStart"](70,"div",25),b["\u0275\u0275elementStart"](71,"label"),b["\u0275\u0275text"](72,"* Campos requeridos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",26),b["\u0275\u0275elementStart"](74,"div",27),b["\u0275\u0275elementStart"](75,"button",28),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](76,"Cancelar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](77,Lt,3,1,"div",29),b["\u0275\u0275template"](78,Ot,3,1,"div",29),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275reference"](31),n=b["\u0275\u0275reference"](39),a=b["\u0275\u0275reference"](57);b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](t.titulo),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("formGroup",t.formulario_contrato),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",!t.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.data.editar),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",!t.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.data.editar),b["\u0275\u0275advance"](10),b["\u0275\u0275property"]("min",t.minDate)("max",t.maxDate)("matDatepicker",e),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",e),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("min",t.minDate2)("matDatepicker",n),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",n),b["\u0275\u0275advance"](17),b["\u0275\u0275property"]("min",t.minDate)("matDatepicker",a),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",a),b["\u0275\u0275advance"](12),b["\u0275\u0275property"]("compareWith",t.compare),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.tipo_contrato),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.delegacionesArray),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!t.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.data.editar)}},directives:[u.uh,u.xY,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,i.RequiredValidator,a.O5,Ae.hl,Ae.nW,w.R9,Ae.Mq,i.NumberValueAccessor,ke.gD,a.sg,u.H8,A.lW,k.Hw,v.ey],styles:[""]}),e})();function Ht(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"mat-card",14),b["\u0275\u0275elementStart"](2,"div",6),b["\u0275\u0275elementStart"](3,"h5",7),b["\u0275\u0275text"](4,"Monto total registrado en el contrato sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"h3",7),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](7,1,e.Contrato.MontoTotal),"")}}function Ut(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"mat-card",15),b["\u0275\u0275elementStart"](2,"div",6),b["\u0275\u0275elementStart"](3,"h5",7),b["\u0275\u0275text"](4,"Monto total registrado previamente sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"h3",7),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](7,1,e.MontoContratado),"")}}function Wt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",16),b["\u0275\u0275elementStart"](1,"mat-card",17),b["\u0275\u0275elementStart"](2,"div",6),b["\u0275\u0275elementStart"](3,"h5",7),b["\u0275\u0275text"](4,"Monto Excedido sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"h3",7),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](7,1,e.data.total_contratado+e.MontoContratado-e.Contrato.MontoTotal))}}function Gt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",18),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().AutorizacionEdicion()}),b["\u0275\u0275text"](1,"Editar Monto Total del Contrato "),b["\u0275\u0275elementEnd"]()}}function Yt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",16),b["\u0275\u0275elementStart"](1,"mat-form-field",19),b["\u0275\u0275elementStart"](2,"mat-label"),b["\u0275\u0275text"](3,"Monto Total sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](4,"input",20),b["\u0275\u0275elementStart"](5,"span",21),b["\u0275\u0275text"](6,"$\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"mat-hint"),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("formControl",e.Monto),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("**Monto total sugerido: ",b["\u0275\u0275pipeBind1"](9,2,e.MontoSugerido),"")}}function Qt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",22),b["\u0275\u0275elementStart"](1,"button",23),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().ActualizarMonto()}),b["\u0275\u0275element"](2,"span",24),b["\u0275\u0275text"](3," Guardar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.Monto.invalid)}}let Xt=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this._contrato=n,this._conceptos=a,this.Conceptos=[],this.Autorizado=!1,this.Monto=new i.FormControl(null,i.Validators.required)}ngOnInit(){console.log(this.data.num_contrato),this._contrato.ConsultarContratos(this.data.num_contrato,"","","","","","","","","").subscribe(e=>{this.Contrato=e.Data.registros[0],console.log(this.Contrato)}),this._conceptos.ConsultarConceptosContrato(this.data.num_contrato).subscribe(e=>{this.Conceptos=e.Data.registros,this.MontoContratado=e.Data.total,console.log(this.Conceptos,this.MontoContratado)})}AutorizacionEdicion(){h().fire({title:"\xbfEstas Seguro?",text:"Editaras el monto total del contrato",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, editar"}).then(e=>{e.value&&(this.Autorizado=!0,this.MontoSugerido=this.data.total_contratado+this.MontoContratado-this.Contrato.MontoTotal+this.Contrato.MontoTotal,this.Monto.setValue(this.MontoSugerido))})}ActualizarMonto(){null!==this.Monto.value&&h().fire({title:"Estas Seguro",text:"Editaras el monto total del contrato",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, editar"}).then(e=>{e.value&&(this.Contrato.MontoTotal=this.Monto.value,this._contrato.ActualizarContrato(this.Contrato.Id,this.Contrato).subscribe(e=>{h().fire("Actualizado",e.Mensaje,"success"),this.dialogRef.close(!0)}))})}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](St.h))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-examinar-monto-contrato"]],decls:27,vars:10,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[1,"bg-warning","text-inverse","text-center"],[1,"p-10"],[1,"m-0"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["fxFlex.gt-sm","18","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn",3,"click"],[1,"bg-megna","text-white","text-center"],[1,"bg-info","text-white","text-center"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],[1,"bg-danger","text-white","text-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],["matInput","","type","number","placeholder","Monto Total sin IVA","autocomplete","off",1,"example-right-align",3,"formControl"],["matPrefix",""],["fxFlex.gt-sm","18","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"fa","fa-save"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-content"),b["\u0275\u0275elementStart"](5,"div",2),b["\u0275\u0275template"](6,Ht,8,3,"div",3),b["\u0275\u0275template"](7,Ut,8,3,"div",3),b["\u0275\u0275elementStart"](8,"div",4),b["\u0275\u0275elementStart"](9,"mat-card",5),b["\u0275\u0275elementStart"](10,"div",6),b["\u0275\u0275elementStart"](11,"h5",7),b["\u0275\u0275text"](12,"Monto total a registrar sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"h3",7),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](16,Wt,8,3,"div",8),b["\u0275\u0275elementStart"](17,"div",4),b["\u0275\u0275template"](18,Gt,2,0,"button",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](19,Yt,10,4,"div",8),b["\u0275\u0275template"](20,Qt,4,1,"div",10),b["\u0275\u0275elementStart"](21,"div",11),b["\u0275\u0275elementStart"](22,"small"),b["\u0275\u0275text"](23,"Nota: Si el monto total del contrato es correcto, se debera validar el precio de los conceptos y las cantidades."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",12),b["\u0275\u0275elementStart"](25,"button",13),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](26,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("Numero de Contrato: ",t.data.num_contrato,""),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.Contrato),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.MontoContratado),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](15,8,t.data.total_contratado)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.MontoContratado),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!t.Autorizado),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Autorizado),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Autorizado))},directives:[u.uh,u.xY,y.a8,y.dn,I.xw,I.Wh,a.O5,I.yH,u.H8,A.lW,w.KE,w.hX,F.Nt,i.NumberValueAccessor,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlDirective,w.qo,w.bx],pipes:[a.H9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.example-right-align[_ngcontent-%COMP%]{text-align:right}"]}),e})();var Kt=n(21287);function Zt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",22),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.tipo," ")}}function Jt(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-form-field",19),b["\u0275\u0275elementStart"](1,"mat-label"),b["\u0275\u0275text"](2,"Seleciona el tipo de contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"mat-select",20),b["\u0275\u0275listener"]("selectionChange",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().tipoSeleccionado(t.value)}),b["\u0275\u0275template"](4,Zt,2,2,"mat-option",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngForOf",e.tipo_contrato)}}function en(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",24),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.SubTipo," ")}}function tn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-form-field",19),b["\u0275\u0275elementStart"](1,"mat-label"),b["\u0275\u0275text"](2,"Selecciona"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"mat-select",20),b["\u0275\u0275listener"]("selectionChange",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().subTipoSeleccionado(t.value)}),b["\u0275\u0275template"](4,en,2,2,"mat-option",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngForOf",e.lista_sub_tipos)}}function nn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"ngx-dropzone-preview",25),b["\u0275\u0275listener"]("removed",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onRemove(t)}),b["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"number"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275property"]("removable",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate2"]("",e.name," (",b["\u0275\u0275pipeBind2"](3,3,e.size/1024/1024,".2")," MB)")}}const an=function(e){return{background:e}};function on(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4),b["\u0275\u0275pipe"](5,"number"),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"button",26),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().ValidarArchivo()}),b["\u0275\u0275element"](8,"span",27),b["\u0275\u0275text"](9," Validar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"button",28),b["\u0275\u0275listener"]("click",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onRemove(t)}),b["\u0275\u0275element"](11,"span",29),b["\u0275\u0275text"](12," Eliminar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"button",30),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().AgregarConceptos()}),b["\u0275\u0275element"](14,"span",31),b["\u0275\u0275text"](15," Guardar Registros "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](null==e?null:e.name),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind2"](5,4,(null==e?null:e.size)/1024/1024,".2")," MB "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](7,an,n.color)),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("disabled",!n.validado)}}function rn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",44),b["\u0275\u0275text"](1,"Numero de contrato"),b["\u0275\u0275elementEnd"]())}function ln(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NumContrato," ")}}function cn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",44),b["\u0275\u0275text"](1,"Error"),b["\u0275\u0275elementEnd"]())}function mn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Error)}}function sn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",44),b["\u0275\u0275text"](1," Columna"),b["\u0275\u0275elementEnd"]())}function dn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Columna,"")}}function pn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",44),b["\u0275\u0275text"](1," Fila"),b["\u0275\u0275elementEnd"]())}function un(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Fila,"")}}function fn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",44),b["\u0275\u0275text"](1," Accion"),b["\u0275\u0275elementEnd"]())}function hn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",45),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"](2).AbrirAccion(t)}),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](n.MensajeBoton(e.Tipo))}}function xn(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function gn(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}function vn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",8),b["\u0275\u0275elementStart"](1,"h4",32),b["\u0275\u0275text"](2,"Resultado de validacion: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"div",33),b["\u0275\u0275elementStart"](4,"mat-table",34),b["\u0275\u0275elementContainerStart"](5,35),b["\u0275\u0275template"](6,rn,2,0,"mat-header-cell",36),b["\u0275\u0275template"](7,ln,2,1,"mat-cell",37),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](8,38),b["\u0275\u0275template"](9,cn,2,0,"mat-header-cell",36),b["\u0275\u0275template"](10,mn,2,1,"mat-cell",37),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](11,39),b["\u0275\u0275template"](12,sn,2,0,"mat-header-cell",36),b["\u0275\u0275template"](13,dn,2,1,"mat-cell",37),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](14,40),b["\u0275\u0275template"](15,pn,2,0,"mat-header-cell",36),b["\u0275\u0275template"](16,un,2,1,"mat-cell",37),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](17,41),b["\u0275\u0275template"](18,fn,2,0,"mat-header-cell",36),b["\u0275\u0275template"](19,hn,3,1,"mat-cell",37),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](20,xn,1,0,"mat-header-row",42),b["\u0275\u0275template"](21,gn,1,0,"mat-row",43),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataSource",e.dataSource),b["\u0275\u0275advance"](16),b["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns)}}function Sn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Archivo sin errores de validacion"),b["\u0275\u0275elementEnd"]())}let Cn=(()=>{class e{constructor(e,t,n,a,o,r){this._conceptos=e,this.dialogRef=t,this.data=n,this.dialog=a,this.contrato_puesto=o,this._sub_tipo=r,this.files=[],this.Errores=[],this.displayedColumns=["NumContrato","Linea","Fila","Error","Tipo"],this.validado=!1,this.color="",this.tipo_contrato=[],this.tipo_seleccionado="",this.sub_tipo_seleccionado="",this.nombre_plantilla="",this.lista_sub_tipos=[]}ngOnInit(){const e=(0,Ye.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(e.PuestoId).subscribe(e=>{console.log(e.Data),this.tipo_contrato=e.Data.map(e=>({id:e.TipoContrato.Id,tipo:e.TipoContrato.Tipo}))}),this.dataSource=new s.by}tipoSeleccionado(e){this.tipo_seleccionado="",this.nombre_plantilla="",console.log(e),this.consultarSubTipo(e)}subTipoSeleccionado(e){console.log(e),this.sub_tipo_seleccionado=e.Id,this.nombre_plantilla=e.SubTipo}consultarSubTipo(e){this._sub_tipo.ConsultaSubTipo(e.id).subscribe(t=>{this.lista_sub_tipos=t.Data,0===this.lista_sub_tipos.length&&(this.lista_sub_tipos=[],this.tipo_seleccionado=e.id,this.nombre_plantilla=e.tipo)},e=>{""===e.error&&void 0===e.error||console.log(e.error)})}onRemove(e){console.log(e),this.files.splice(this.files.indexOf(e),1),this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores,this.color="#0089e1"}onSelect(e){this.files.length<1&&(console.log(...e.addedFiles),this.files.push(...e.addedFiles))}onNoClick(){this.dialogRef.close()}ValidarArchivo(){const e=null!==this.tipo_seleccionado?this.tipo_seleccionado:"",t=null!==this.sub_tipo_seleccionado?this.sub_tipo_seleccionado:"";this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores;const n=new FormData;n.append("file",this.files[0]),this._conceptos.ValidarConceptosFile(n,e,t).subscribe(e=>{console.log(e),h().fire({position:"center",title:e.Mensaje,icon:"success",showConfirmButton:!0}),this.validado=!0,this.color="#18903f"},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;this.Errores=t.Data,this.dataSource.data=this.Errores,console.log(this.Errores),this.color="#d4782c",h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})}AgregarConceptos(){const e=new FormData;e.append("file",this.files[0]);const t=null!==this.tipo_seleccionado?this.tipo_seleccionado:"",n=null!==this.sub_tipo_seleccionado?this.sub_tipo_seleccionado:"";h().fire({title:"Estas seguro de agregar estos datos",showCancelButton:!0,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, agregar"}).then(a=>{a.value&&this._conceptos.AgregarConceptosArchivo(e,t,n).subscribe(e=>{h().fire("Agregados!","Los Datos se han guardado exitosamente","success"),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;console.log(this.Errores),this.color="#d4782c",h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})})}descargar(){console.log("Tipo",this.tipo_seleccionado,"-----nombre",this.nombre_plantilla);const e=this.nombre_plantilla.toLocaleLowerCase().split(" ").join("_");console.log(e),this._conceptos.DescargarArchivoPlantilla(e).subscribe(t=>{console.log(t),File&&(console.log(File),(0,Ge.saveAs)(t,"plantilla_"+e+".xlsx"))},e=>{""===e.error&&void 0===e.error||(console.log(this.Errores),h().fire({position:"center",title:"No se encontro el archivo",icon:"error",showConfirmButton:!0}))})}MensajeBoton(e){return 1===e?"Agregar":2===e?"Consultar":"Ver"}AbrirAccion(e){2===e.Tipo&&this.dialog.open(Xt,{height:"auto",width:"70%",disableClose:!0,data:{num_contrato:e.NumContrato,total_contratado:e.Suma}}).afterClosed().subscribe(e=>{!0===e&&this.ValidarArchivo()}),1===e.Tipo&&this.dialog.open($t,{height:"auto",width:"90%",disableClose:!0,data:{}}).afterClosed().subscribe(e=>{!0===e&&this.ValidarArchivo()}),0===e.Tipo&&h().fire({position:"center",title:"Debes editar tu archivo  de carga",text:e.Error,icon:"error",showConfirmButton:!0})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](St.h),b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](Qe.L),b["\u0275\u0275directiveInject"](Kt.O))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-enviar-archivo-concept"]],decls:40,vars:10,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline",4,"ngIf"],["fxFlex.gt-sm","35","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["accept",".xlsx","matTooltip","Solo puedes seleccionar un archivo","matTooltipPosition","above","matTooltipClass","example-tooltip-red",3,"multiple","disableClick","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"table"],["width","30%"],["width","50%"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn",3,"click"],["appearance","outline"],["required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["style","font-size: 13px",3,"value",4,"ngFor","ngForOf"],[2,"font-size","13px",3,"value"],[3,"removable","removed"],["mat-raised-button","","color","primary",3,"ngStyle","click"],[1,"fa","fa-upload"],["mat-raised-button","","color","warn",1,"m-l-10",3,"click"],[1,"fa","fa-trash"],["mat-raised-button","","color","primary",1,"m-l-10",3,"disabled","click"],[1,"fa","fa-save"],[2,"color","#003366"],[1,"responsive-table","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","NumContrato"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Error"],["matColumnDef","Linea"],["matColumnDef","Fila"],["matColumnDef","Tipo"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Carga masiva de conceptos o servicios de contratos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"div",2),b["\u0275\u0275elementStart"](5,"div",3),b["\u0275\u0275template"](6,Jt,5,1,"mat-form-field",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",5),b["\u0275\u0275template"](8,tn,5,1,"mat-form-field",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"mat-card-title"),b["\u0275\u0275elementStart"](10,"button",6),b["\u0275\u0275listener"]("click",function(){return t.descargar()}),b["\u0275\u0275elementStart"](11,"mat-icon"),b["\u0275\u0275text"](12,"cloud_download"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](13," Descaragar Plantilla "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"mat-card-content"),b["\u0275\u0275elementStart"](15,"div",7),b["\u0275\u0275elementStart"](16,"div",8),b["\u0275\u0275elementStart"](17,"ngx-dropzone",9),b["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),b["\u0275\u0275elementStart"](18,"ngx-dropzone-label"),b["\u0275\u0275text"](19,"Haga clic o arrastra tu archivo aqui!!"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,nn,4,6,"ngx-dropzone-preview",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",8),b["\u0275\u0275elementStart"](22,"p"),b["\u0275\u0275text"](23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"table",11),b["\u0275\u0275elementStart"](25,"thead"),b["\u0275\u0275elementStart"](26,"tr"),b["\u0275\u0275elementStart"](27,"th",12),b["\u0275\u0275text"](28,"Nombre"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"th"),b["\u0275\u0275text"](30,"Tama\xf1o"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"th",13),b["\u0275\u0275text"](32,"Acciones"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"tbody"),b["\u0275\u0275template"](34,on,16,9,"tr",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,vn,22,4,"div",15),b["\u0275\u0275template"](36,Sn,2,0,"h2",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"div",17),b["\u0275\u0275elementStart"](38,"button",18),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](39,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.tipo_contrato),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.lista_sub_tipos.length>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("disabled",!t.tipo_seleccionado&&!t.sub_tipo_seleccionado),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("multiple",!1)("disableClick",t.files.length>0),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.files),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"]("Archivo para subir: ",null==t.files?null:t.files.length,""),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("ngForOf",t.files),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Errores&&t.files.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.validado&&t.files.length>0))},directives:[u.uh,u.xY,y.a8,I.xw,I.Wh,I.yH,a.O5,y.n5,A.lW,k.Hw,y.dn,Xe._f,Ke.gM,Xe.Jj,a.sg,u.H8,w.KE,w.hX,ke.gD,v.ey,Xe.dt,a.PC,Ze.Zl,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,C.nU,s.ev,s.XQ,s.Gk],pipes:[a.JJ],styles:["ngx-dropzone:hover{border:2px dotted #0089e1}.example-tooltip-red{background:#661421}"],encapsulation:2}),e})();var En=n(66102),bn=n(20760);function yn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",14),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate2"](" ",e.ClvDele," ",e.NombreDele," ")}}function _n(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",14),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.DenominacionUni," ")}}function In(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-error"),b["\u0275\u0275text"](1," Ingresa solo numeros. "),b["\u0275\u0275elementEnd"]())}function wn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-error"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" La cantidad max es ",e.por_distribuir,". ")}}function Fn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-error"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" La cantidad max es ",e.por_distribuir+e.data.distribucion.Cantidad,". ")}}function Dn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"form",5),b["\u0275\u0275elementStart"](1,"div",6),b["\u0275\u0275elementStart"](2,"div",7),b["\u0275\u0275elementStart"](3,"mat-form-field",8),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Selecciona una delegacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",9),b["\u0275\u0275listener"]("selectionChange",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().valorSelecDeleg(t.value)}),b["\u0275\u0275template"](7,yn,2,3,"mat-option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"div",7),b["\u0275\u0275elementStart"](9,"mat-form-field",8),b["\u0275\u0275elementStart"](10,"mat-label"),b["\u0275\u0275text"](11,"Unidad Medica"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"mat-select",11),b["\u0275\u0275template"](13,_n,2,2,"mat-option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"div",7),b["\u0275\u0275elementStart"](15,"mat-form-field",8),b["\u0275\u0275elementStart"](16,"mat-label"),b["\u0275\u0275text"](17,"Cantidad a distribuir"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](18,"input",12),b["\u0275\u0275template"](19,In,2,0,"mat-error",13),b["\u0275\u0275template"](20,wn,2,1,"mat-error",13),b["\u0275\u0275template"](21,Fn,2,1,"mat-error",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("formGroup",e.formularioDistribucion),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("compareWith",e.compare),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",e.delegacionesArray),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("compareWith",e.UnidadSeleccionada),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",e.UM),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",e.formularioDistribucion.controls.Cantidad.hasError("pattern")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.formularioDistribucion.controls.Cantidad.hasError("max")&&!e.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.formularioDistribucion.controls.Cantidad.hasError("max")&&e.data.editar)}}function Vn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",16),b["\u0275\u0275elementStart"](1,"button",19),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"](2).EditarDistribucion()}),b["\u0275\u0275text"](2," Editar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.formularioDistribucion.invalid||!e.formularioDistribucion.dirty)}}function An(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",16),b["\u0275\u0275elementStart"](1,"button",20),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"](2).agregardistribucion()}),b["\u0275\u0275elementStart"](2,"mat-icon"),b["\u0275\u0275text"](3,"save"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4," Guardar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.formularioDistribucion.invalid)}}function kn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",15),b["\u0275\u0275elementStart"](1,"div",16),b["\u0275\u0275elementStart"](2,"button",17),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onNoClick()}),b["\u0275\u0275text"](3," Cerrar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Vn,3,1,"div",18),b["\u0275\u0275template"](5,An,5,1,"div",18),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",e.data.editar),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!e.data.editar)}}let Nn=(()=>{class e{constructor(e,t,n,a,o,r){this.dialogRef=e,this.data=t,this.fb=n,this._unidades=a,this._distribucion=o,this._delegaciones=r,this.UM=[],this.distribucion=[],this.delegacionesArray=[],this.cambioDelegacion=!1}ngOnInit(){this.por_distribuir=this.data.cantidadMax,this.consultarDistribucion(),this._delegaciones.ConsultarDelegaciones().subscribe(e=>{this.delegacionesArray=e.Data,this.CrearFormularioReactivo()})}onNoClick(){this.dialogRef.close()}consultarDistribucion(){this._distribucion.ConsultarDistribucion(this.data.id_concepto.Id).subscribe(e=>{this.distribucion=e.Data})}CrearFormularioReactivo(){this.formularioDistribucion=this.fb.group({Cantidad:[null,i.Validators.compose([i.Validators.pattern("^([0-9])*$"),i.Validators.required,i.Validators.min(1),i.Validators.max(this.por_distribuir)])],UnidadMedClvPresupuestal:new i.FormControl({value:null,disabled:!0},i.Validators.required),Delegacion:[null,i.Validators.required]}),this.data.editar&&(this.formularioDistribucion.controls.Cantidad.setValue(this.data.distribucion.Cantidad),this.formularioDistribucion.controls.Cantidad.setValidators([i.Validators.pattern("^([0-9])*$"),i.Validators.required,i.Validators.min(1),i.Validators.max(this.por_distribuir+this.data.distribucion.Cantidad)]),this.formularioDistribucion.controls.Delegacion.setValue(this.data.distribucion.UnidadMed.Delegacion),this.formularioDistribucion.controls.UnidadMedClvPresupuestal.setValue(this.data.distribucion.UnidadMed),this.cambioDelegacion=!0,this.valorSelecDeleg(this.data.distribucion.UnidadMed.Delegacion))}compare(e,t){return e&&t&&e.NombreDele===t.NombreDele}UnidadSeleccionada(e,t){return e&&t&&e.DenominacionUni===t.DenominacionUni}valorSelecDeleg(e){null===e&&""===e||this._unidades.unidades(e.ClvDele).subscribe(e=>{this.UM=e.Data,this.formularioDistribucion.controls.UnidadMedClvPresupuestal.reset(),this.formularioDistribucion.controls.UnidadMedClvPresupuestal.enable(),this.FiltrarUnidadesMed()},e=>{console.log(e)})}FiltrarUnidadesMed(){const e=this.distribucion.map(e=>e.UnidadMed);for(let t of e){const e=this.UM.map(function(e){return e.Id}).indexOf(t.Id);e>=0&&this.UM.splice(e,1)}this.data.editar&&this.cambioDelegacion&&(this.formularioDistribucion.controls.UnidadMedClvPresupuestal.setValue(this.data.distribucion.UnidadMed),this.UM.push(this.data.distribucion.UnidadMed),this.cambioDelegacion=!1),console.log("Eliminados",this.UM)}agregardistribucion(){const e=this.formularioDistribucion.getRawValue(),t=this.formularioDistribucion.controls.Delegacion.value;console.log(e);const n={Id:"",UnidadMedClvPresupuestal:e.UnidadMedClvPresupuestal.ClvPresupuestal,ConceptoContratoId:this.data.id_concepto.Id,Cantidad:parseInt(e.Cantidad,10)};console.log(n,this.data.id_concepto.ContratoNumeroContrato,t.ClvDele,this.data.id_concepto.CantidadConcepto),h().fire({title:"Confirmacion",text:"Estas seguro de agregar esta distribucion",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Agregar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(e=>{e.value&&this._distribucion.AgregaDistribucion(n,this.data.id_concepto.CantidadConcepto,this.data.id_concepto.ContratoNumeroContrato,t.ClvDele).subscribe(e=>{h().fire("Correcto",e.Mensaje,"success"),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}console.log(e)})})}EditarDistribucion(){const e=this.formularioDistribucion.getRawValue(),t=this.formularioDistribucion.controls.Delegacion.value;console.log(e);const n={Id:this.data.distribucion.Id,UnidadMedClvPresupuestal:e.UnidadMedClvPresupuestal.ClvPresupuestal,ConceptoContratoId:this.data.id_concepto.Id,Cantidad:parseInt(e.Cantidad,10)};h().fire({title:"Confirmacion",text:"Estas seguro de editar esta distribucion",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Editar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(e=>{e.value&&this._distribucion.ActualizarDistribucion(n,this.data.id_concepto.ContratoNumeroContrato,t.ClvDele).subscribe(e=>{h().fire("Correcto",e.Mensaje,"success"),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](En.i),b["\u0275\u0275directiveInject"](bn.v),b["\u0275\u0275directiveInject"](De.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-editar-distr"]],decls:7,vars:3,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],[2,"color","#003366"],[3,"formGroup",4,"ngIf"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center",4,"ngIf"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"b-all","p-t-20","p-r-20","p-l-20","radius",2,"border-color","rgba(162,162,162,0.67)"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["required","","formControlName","Delegacion",3,"compareWith","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","UnidadMedClvPresupuestal",3,"compareWith"],["matInput","","type","text","autocomplete","off","placeholder","Cantidad","formControlName","Cantidad"],[4,"ngIf"],[3,"value"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-stroked-button","","color","warn",3,"click"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Distribucion de clave"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"span",2),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](5,Dn,22,8,"form",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](6,kn,6,2,"div",4)),2&e&&(b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](t.data.concepto),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.delegacionesArray),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.delegacionesArray))},directives:[u.uh,u.xY,a.O5,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,ke.gD,i.RequiredValidator,i.NgControlStatus,i.FormControlName,a.sg,F.Nt,i.DefaultValueAccessor,v.ey,w.TO,u.H8,A.lW,k.Hw],styles:[""]}),e})();function Pn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",15),b["\u0275\u0275elementStart"](1,"button",16),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](e);const t=b["\u0275\u0275nextContext"]();return t.cambiarCantidad(t.concepto)}),b["\u0275\u0275elementStart"](2,"mat-icon"),b["\u0275\u0275text"](3,"post_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4," Editar Cantidad Contratada "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("disabled",e.concepto.CantidadConcepto-e.sumatoriaCantidad==0)}}function Mn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",17),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().agregardistribucion()}),b["\u0275\u0275elementStart"](1,"mat-icon"),b["\u0275\u0275text"](2,"post_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](3," Agregar Distribucion "),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("disabled",e.concepto.CantidadConcepto-e.sumatoriaCantidad==0)}}function Tn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",18),b["\u0275\u0275elementStart"](1,"div",19),b["\u0275\u0275elementStart"](2,"mat-card",20),b["\u0275\u0275elementStart"](3,"div",21),b["\u0275\u0275elementStart"](4,"h5",5),b["\u0275\u0275text"](5,"Cantidad contratada"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"h3",5),b["\u0275\u0275text"](7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](e.concepto.CantidadConcepto)}}function Rn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",18),b["\u0275\u0275elementStart"](1,"div",19),b["\u0275\u0275elementStart"](2,"mat-card",22),b["\u0275\u0275elementStart"](3,"div",21),b["\u0275\u0275elementStart"](4,"h5",5),b["\u0275\u0275text"](5,"Cantidad previamente distribuida"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"h3",5),b["\u0275\u0275text"](7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](e.sumatoriaCantidad)}}function Bn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",18),b["\u0275\u0275elementStart"](1,"div",19),b["\u0275\u0275elementStart"](2,"mat-card",23),b["\u0275\u0275elementStart"](3,"div",21),b["\u0275\u0275elementStart"](4,"h5",5),b["\u0275\u0275text"](5,"Cantidad pendiente de distribuir"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"h3",5),b["\u0275\u0275text"](7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](e.concepto.CantidadConcepto-e.sumatoriaCantidad)}}function jn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",18),b["\u0275\u0275elementStart"](1,"div",19),b["\u0275\u0275elementStart"](2,"mat-card",24),b["\u0275\u0275elementStart"](3,"div",21),b["\u0275\u0275elementStart"](4,"h5",5),b["\u0275\u0275text"](5,"Cantidad a registrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"h3",5),b["\u0275\u0275text"](7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"small"),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](e.data.cantidad),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("Cantidad excedida: ",e.data.cantidad-(e.concepto.CantidadConcepto-e.sumatoriaCantidad),"")}}function qn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1," Delegacion"),b["\u0275\u0275elementEnd"]())}function zn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.UnidadMed.Delegacion.NombreDele," ")}}function Ln(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1," Unidad Medica"),b["\u0275\u0275elementEnd"]())}function On(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.UnidadMed.DenominacionUni,"")}}function $n(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",43),b["\u0275\u0275text"](1," Cantidad Distribuida"),b["\u0275\u0275elementEnd"]())}function Hn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Cantidad," ")}}function Un(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",43),b["\u0275\u0275text"](1,"Monto Total Sin IVA"),b["\u0275\u0275elementEnd"]())}function Wn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell",44),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,e.Cantidad*n.concepto.PrecioUniSnIva)," ")}}function Gn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Editar"),b["\u0275\u0275elementEnd"]())}function Yn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",45),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"](2).EditarCantidad(t)}),b["\u0275\u0275elementStart"](2,"mat-icon",46),b["\u0275\u0275text"](3,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Qn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Eliminar"),b["\u0275\u0275elementEnd"]())}function Xn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",47),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"](2).EliminarCantidad(t)}),b["\u0275\u0275elementStart"](2,"mat-icon",46),b["\u0275\u0275text"](3,"delete"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Kn(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function Zn(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}function Jn(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",3),b["\u0275\u0275elementStart"](1,"div",25),b["\u0275\u0275elementStart"](2,"h4",26),b["\u0275\u0275text"](3,"Distribucion por unidad medica"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-form-field"),b["\u0275\u0275elementStart"](5,"input",27),b["\u0275\u0275listener"]("keyup",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().applyFilter(t.target.value)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"div",28),b["\u0275\u0275elementStart"](7,"div",29),b["\u0275\u0275elementStart"](8,"mat-table",30),b["\u0275\u0275elementContainerStart"](9,31),b["\u0275\u0275template"](10,qn,2,0,"mat-header-cell",32),b["\u0275\u0275template"](11,zn,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](12,34),b["\u0275\u0275template"](13,Ln,2,0,"mat-header-cell",32),b["\u0275\u0275template"](14,On,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](15,35),b["\u0275\u0275template"](16,$n,2,0,"mat-header-cell",36),b["\u0275\u0275template"](17,Hn,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](18,37),b["\u0275\u0275template"](19,Un,2,0,"mat-header-cell",36),b["\u0275\u0275template"](20,Wn,3,3,"mat-cell",38),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](21,39),b["\u0275\u0275template"](22,Gn,2,0,"mat-header-cell",32),b["\u0275\u0275template"](23,Yn,4,0,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](24,40),b["\u0275\u0275template"](25,Qn,2,0,"mat-header-cell",32),b["\u0275\u0275template"](26,Xn,4,0,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](27,Kn,1,0,"mat-header-row",41),b["\u0275\u0275template"](28,Zn,1,0,"mat-row",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("dataSource",e.dataSource),b["\u0275\u0275advance"](19),b["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns)}}let ea=(()=>{class e{constructor(e,t,n,a,o,r,l,i){this.dialogRef=e,this.data=t,this._distribucion=n,this._conceptos=a,this._delegaciones=o,this.fb=r,this._unidades=l,this.dialog=i,this.claveCuadro="",this.distribucion=[],this.displayedColumns=["Delegacion","unidadM","CantidadDis","PrecioDis","EditarPro","EliminarPro"],this.dist_dupl=!1,this.delegacionesArray=[],this.estado_distribucion=!1,this.concepto=t.concepto,this.claveCuadro=this.concepto.Prei.Grupo+"."+this.concepto.Prei.Generico+"."+this.concepto.Prei.Especifico+"."+this.concepto.Prei.Diferenciador+"."+this.concepto.Prei.Variable,console.log(this.concepto),console.log(this.data.cantidad),0!==t.cantidad&&(this.dist_dupl=!0)}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}ngOnInit(){this.consultarDistribucion(),this._delegaciones.ConsultarDelegaciones().subscribe(e=>{this.delegacionesArray=e.Data,console.log(this.delegacionesArray)})}sumatoriaCantidades(e){const t=e.reduce((e,t)=>e+t.Cantidad,0);this.sumatoriaCantidad=t}consultarDistribucion(){this._distribucion.ConsultarDistribucion(this.concepto.Id).subscribe(e=>{console.log(e.Data),this.distribucion=e.Data,this.dataSource=new s.by,this.dataSource.data=this.distribucion,this.sumatoriaCantidades(e.Data),this.por_distribuir=this.concepto.CantidadConcepto-this.sumatoriaCantidad,this.dataSource.filterPredicate=(e,t)=>-1!==e.UnidadMed.DenominacionUni.trim().toLocaleLowerCase().indexOf(t)||-1!==e.UnidadMed.Delegacion.NombreDele.trim().toLocaleLowerCase().indexOf(t)})}regresaDescripcion(e){return e.split(".",1).toString()}onNoClick(){this.dialogRef.close(this.estado_distribucion)}cambiarCantidad(e){return t=this,void 0,a=function*(){const{value:t}=yield h().fire({title:"Cantidad Contratada",text:e.CantidadConcepto.toString(),input:"number",inputPlaceholder:"Cantidad a editar",showCancelButton:!0});t&&(e.CantidadConcepto=parseInt(t,10),this._conceptos.ActualizarConceptoContrato(e.Id,e,e.ContratoNumeroContrato).subscribe(e=>{console.log(e),this.consultarDistribucion(),this.dialogRef.close(!0)}))},new((n=void 0)||(n=Promise))(function(e,o){function r(e){try{i(a.next(e))}catch(t){o(t)}}function l(e){try{i(a.throw(e))}catch(t){o(t)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n(function(e){e(a)})).then(r,l)}i((a=a.apply(t,[])).next())});var t,n,a}agregardistribucion(){this.dialog.open(Nn,{width:"50%",height:"auto",disableClose:!0,data:{distribucion:"",concepto:this.regresaDescripcion(this.concepto.Prei.Descripcion),editar:!1,cantidadMax:this.por_distribuir,id_concepto:this.concepto}}).afterClosed().subscribe(e=>{e&&this.consultarDistribucion()})}EditarCantidad(e){console.log("Editando"),this.dialog.open(Nn,{width:"50%",height:"auto",disableClose:!0,data:{distribucion:e,concepto:this.regresaDescripcion(this.concepto.Prei.Descripcion),editar:!0,cantidadMax:this.por_distribuir,id_concepto:this.concepto}}).afterClosed().subscribe(e=>{e&&this.consultarDistribucion()})}EliminarCantidad(e){console.log(e),h().fire({title:"\xbfEst\xe1s seguro que deseas eliminar esta distribuci\xf3n?",icon:"warning",showCancelButton:!0,cancelButtonColor:"#a2a2a2",confirmButtonColor:"#e62324",cancelButtonText:"Cancelar",confirmButtonText:"Si, Eliminar",reverseButtons:!0}).then(t=>{t.value&&this._distribucion.EliminarDistribucion(e.Id,this.concepto.ContratoNumeroContrato,e.UnidadMed.DelegacionesClvDele).subscribe(e=>{h().fire("Correcto",e.Mensaje,"success"),this.consultarDistribucion()},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](bn.v),b["\u0275\u0275directiveInject"](St.h),b["\u0275\u0275directiveInject"](De.$),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](En.i),b["\u0275\u0275directiveInject"](u.uw))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-distribucion-conceptos"]],decls:44,vars:17,consts:[["mat-dialog-title","","align","center",1,"m-0"],["mat-dialog-content",""],[2,"padding","10px!important"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","fxLayoutAlign","space-between start"],[1,"m-0"],[1,"m-0","text-danger"],[1,"m-0",2,"color","#003366"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100","align","end"],["class","m-b-10",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","class","m-t-10",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[1,"m-b-10"],["mat-flat-button","","color","accent",3,"disabled","click"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",1,"m-t-10"],["fxLayout","column"],[1,"bg-megna","text-white","text-center"],[1,"p-10"],[1,"bg-megna","text-center",2,"background-color","#d4782c","color","black"],[1,"bg-megna","text-white","text-center","mat-elevation-z5",2,"background-color","darkred"],[1,"bg-megna","text-white","text-center",2,"background-color","#003366"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","align","center"],[1,"m-0","m-b-5",2,"color","#003366"],["matInput","","autocomplete","off","placeholder","Buscar",3,"keyup"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"responsive-table","mat-elevation-z8"],["matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","Delegacion"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","unidadM"],["matColumnDef","CantidadDis"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","PrecioDis"],["style","color: #661421",4,"matCellDef"],["matColumnDef","EditarPro"],["matColumnDef","EliminarPro"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[2,"color","#661421"],["mat-button","","color","primary",3,"click"],[1,"material-icons-outlined"],["mat-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Distribucion de clave a unidades medicas"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-content",2),b["\u0275\u0275elementStart"](5,"div",3),b["\u0275\u0275elementStart"](6,"div",4),b["\u0275\u0275elementStart"](7,"h4",5),b["\u0275\u0275elementStart"](8,"strong"),b["\u0275\u0275text"](9,"Id PREI: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"h4",5),b["\u0275\u0275elementStart"](12,"strong"),b["\u0275\u0275text"](13,"Numero del Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"h4",5),b["\u0275\u0275elementStart"](16,"strong"),b["\u0275\u0275text"](17,"Clave Cuadro Basico: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"h4",6),b["\u0275\u0275elementStart"](20,"strong"),b["\u0275\u0275text"](21,"Precio Unitario (Sin IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](22),b["\u0275\u0275pipe"](23,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"h4",6),b["\u0275\u0275elementStart"](25,"strong"),b["\u0275\u0275text"](26,"Precio Unitario (Con IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"h4",7),b["\u0275\u0275text"](30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",8),b["\u0275\u0275template"](32,Pn,5,1,"div",9),b["\u0275\u0275elementStart"](33,"div"),b["\u0275\u0275template"](34,Mn,4,1,"button",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275template"](36,Tn,8,1,"div",11),b["\u0275\u0275template"](37,Rn,8,1,"div",11),b["\u0275\u0275template"](38,Bn,8,1,"div",11),b["\u0275\u0275template"](39,jn,10,2,"div",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](40,Jn,29,3,"div",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"div",13),b["\u0275\u0275elementStart"](42,"button",14),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](43,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](10),b["\u0275\u0275textInterpolate1"]("",t.regresaDescripcion(t.concepto.PreiIdArticulo)," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](t.concepto.Contrato.NumeroContrato),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](t.claveCuadro),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](23,13,t.concepto.PrecioUniSnIva)," "),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](28,15,1.16*t.concepto.PrecioUniSnIva)," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](t.regresaDescripcion(t.concepto.Prei.Descripcion)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.dist_dupl),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!t.data.archivo),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.concepto),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.concepto),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.concepto),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.dist_dupl),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.sumatoriaCantidad))},directives:[u.uh,u.xY,y.a8,y.dn,I.xw,I.Wh,I.yH,a.O5,u.H8,A.lW,k.Hw,w.KE,F.Nt,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,C.nU,s.XQ,s.Gk],pipes:[a.H9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),e})();function ta(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",14),b["\u0275\u0275elementStart"](1,"div",4),b["\u0275\u0275elementStart"](2,"h3",15),b["\u0275\u0275text"](3,"Informacion de la clave registrada"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"div",16),b["\u0275\u0275elementStart"](5,"h4",17),b["\u0275\u0275elementStart"](6,"strong"),b["\u0275\u0275text"](7,"Id PREI: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"h4",17),b["\u0275\u0275elementStart"](10,"strong"),b["\u0275\u0275text"](11,"Numero Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"h4",17),b["\u0275\u0275elementStart"](14,"strong"),b["\u0275\u0275text"](15,"Clave Cuadro: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",18),b["\u0275\u0275elementStart"](18,"h4",19),b["\u0275\u0275elementStart"](19,"strong"),b["\u0275\u0275text"](20,"Precio Unitario (Sin IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"h4",19),b["\u0275\u0275elementStart"](24,"strong"),b["\u0275\u0275text"](25,"Precio Unitario (Con IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"h4",20),b["\u0275\u0275text"](29),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate1"]("",e.idPrei.PreiIdArticulo," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.idPrei.ContratoNumeroContrato),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.claveCuadro),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](22,6,e.idPrei.PrecioUniSnIva)," "),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](27,8,1.16*e.idPrei.PrecioUniSnIva)," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](e.regresaDescripcion(e.idPrei.Prei.Descripcion))}}function na(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-error"),b["\u0275\u0275text"](1,"Ingresa solo numeros."),b["\u0275\u0275elementEnd"]())}function aa(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",21),b["\u0275\u0275elementStart"](1,"div",16),b["\u0275\u0275elementStart"](2,"mat-form-field",22),b["\u0275\u0275elementStart"](3,"mat-label"),b["\u0275\u0275text"](4,"Precio Registrado Sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](5,"input",23),b["\u0275\u0275pipe"](6,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",24),b["\u0275\u0275elementStart"](8,"mat-form-field",22),b["\u0275\u0275elementStart"](9,"mat-label"),b["\u0275\u0275text"](10,"Precio Actualizar Sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"input",25),b["\u0275\u0275template"](12,na,2,0,"mat-error",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",6),b["\u0275\u0275elementStart"](14,"button",27),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().actualizarPrecio()}),b["\u0275\u0275text"](15,"Guardar "),b["\u0275\u0275elementStart"](16,"mat-icon"),b["\u0275\u0275text"](17,"save"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("value",b["\u0275\u0275pipeBind1"](6,4,e.idPrei.PrecioUniSnIva)),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("formControl",e.control),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.control.hasError("pattern")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("disabled",e.control.invalid)}}let oa=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this.curre=n,this._conceptos=a,this.claveCuadro="",this.verMas=!1,this.editar=!1,this.control=new i.FormControl(null,i.Validators.compose([i.Validators.pattern("^([0-9])*\\.?[0-9]*$"),i.Validators.required])),this.idPrei=t.concepto}ngOnInit(){this.claveCuadro=this.data.concepto.Prei.Grupo+"."+this.data.concepto.Prei.Generico+"."+this.data.concepto.Prei.Especifico+"."+this.data.concepto.Prei.Diferenciador+"."+this.data.concepto.Prei.Variable}onNoClick(){this.dialogRef.close()}regresaDescripcion(e){return e.split(".",1).toString()}actualizarPrecio(){this.idPrei.PrecioUniSnIva=parseFloat(this.control.value),this._conceptos.ActualizarConceptoContrato(this.idPrei.Id,this.idPrei,this.idPrei.ContratoNumeroContrato).subscribe(e=>{h().fire({position:"center",title:e.Mensaje,icon:"success",showConfirmButton:!0}),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){this.idPrei.PrecioUniSnIva=this.data.concepto.PrecioUniSnIva;const t=e.error;h().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](a.H9),b["\u0275\u0275directiveInject"](St.h))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-editar-precio-prei"]],features:[b["\u0275\u0275ProvidersFeature"]([a.H9])],decls:34,vars:8,consts:[["mat-dialog-title","","align","center",1,"m-0",2,"color","#003366"],["mat-dialog-content",""],[2,"padding","10px!important"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"text-danger","m-0"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary",3,"click"],["matSuffix",""],["mat-raised-button","",2,"background","#d4782c","color","white",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between center","class","b-all p-10","style","border-width: 1px;  border-color: #0d453c",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center","class","m-t-20",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"b-all","p-10",2,"border-width","1px","border-color","#0d453c"],["align","center",1,"m-0",2,"color","#003366"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","fxLayoutAlign","space-between start"],[1,"m-0"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","align","end"],[1,"m-0","text-danger"],[1,"m-0",2,"color","#003366"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-20"],["appearance","outline"],["readonly","","matInput","","placeholder","Precio registrado",3,"value"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","fxLayoutAlign","space-between end"],["matInput","","placeholder","Precio nuevo Sin IVA","autocomplete","off","cdkFocusInitial","",3,"formControl"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-content",2),b["\u0275\u0275elementStart"](5,"div",3),b["\u0275\u0275elementStart"](6,"div",4),b["\u0275\u0275elementStart"](7,"h3",5),b["\u0275\u0275text"](8," El precio del Id PREI "),b["\u0275\u0275elementStart"](9,"strong"),b["\u0275\u0275text"](10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](11," que estas intentando registrar es incorrecto al precio "),b["\u0275\u0275elementStart"](12,"strong"),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](15," ya registrado en el contrato, edita tu archivo de carga."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",4),b["\u0275\u0275elementStart"](17,"h4"),b["\u0275\u0275text"](18," *Nota: Si el precio registrado en el contrato esta mal, puedes editarlo."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"div",6),b["\u0275\u0275elementStart"](20,"button",7),b["\u0275\u0275listener"]("click",function(){return t.verMas=!t.verMas}),b["\u0275\u0275text"](21,"Registro "),b["\u0275\u0275elementStart"](22,"mat-icon",8),b["\u0275\u0275text"](23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",6),b["\u0275\u0275elementStart"](25,"button",9),b["\u0275\u0275listener"]("click",function(){return t.editar=!t.editar}),b["\u0275\u0275text"](26,"Editar "),b["\u0275\u0275elementStart"](27,"mat-icon"),b["\u0275\u0275text"](28,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](29,ta,30,10,"div",10),b["\u0275\u0275template"](30,aa,18,6,"div",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",12),b["\u0275\u0275elementStart"](32,"button",13),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](33,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("Numero de contrato ",t.idPrei.ContratoNumeroContrato,""),b["\u0275\u0275advance"](9),b["\u0275\u0275textInterpolate"](t.idPrei.PreiIdArticulo),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](14,6,t.idPrei.PrecioUniSnIva)," "),b["\u0275\u0275advance"](10),b["\u0275\u0275textInterpolate"](t.verMas?"visibility":"visibility_off"),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.verMas),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.editar))},directives:[u.uh,u.xY,y.a8,y.dn,I.xw,I.Wh,I.yH,A.lW,k.Hw,w.R9,a.O5,u.H8,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlDirective,w.TO],pipes:[a.H9],styles:[""]}),e})();function ra(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",15),b["\u0275\u0275text"](1," Carga Masiva de Distribucion de Equipos con conceptos registrados\n"),b["\u0275\u0275elementEnd"]())}function la(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",15),b["\u0275\u0275text"](1," Carga Masiva de Distribucion de Equipos sin conceptos registrados\n"),b["\u0275\u0275elementEnd"]())}function ia(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"ngx-dropzone-preview",16),b["\u0275\u0275listener"]("removed",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onRemove(t)}),b["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"number"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275property"]("removable",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate2"]("",e.name," (",b["\u0275\u0275pipeBind2"](3,3,e.size/1024/1024,".2")," MB)")}}const ca=function(e){return{background:e}};function ma(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4),b["\u0275\u0275pipe"](5,"number"),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"button",17),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().ValidarArchivo()}),b["\u0275\u0275element"](8,"span",18),b["\u0275\u0275text"](9," Validar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"button",19),b["\u0275\u0275listener"]("click",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().onRemove(t)}),b["\u0275\u0275element"](11,"span",20),b["\u0275\u0275text"](12," Eliminar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"button",21),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().AgregarArchivo()}),b["\u0275\u0275element"](14,"span",22),b["\u0275\u0275text"](15," Guardar Registros "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](null==e?null:e.name),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind2"](5,4,(null==e?null:e.size)/1024/1024,".2")," MB "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](7,ca,n.color)),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("disabled",!n.validado)}}function sa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Numero de contrato"),b["\u0275\u0275elementEnd"]())}function da(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.NumContrato," ")}}function pa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Id PREI"),b["\u0275\u0275elementEnd"]())}function ua(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.IdPrei," ")}}function fa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1,"Error"),b["\u0275\u0275elementEnd"]())}function ha(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Error)}}function xa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1," Columna"),b["\u0275\u0275elementEnd"]())}function ga(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Columna,"")}}function va(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1," Linea"),b["\u0275\u0275elementEnd"]())}function Sa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Fila,"")}}function Ca(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell"),b["\u0275\u0275text"](1," Accion"),b["\u0275\u0275elementEnd"]())}function Ea(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",2),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"](2).AbrirAccion(t)}),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](n.MensajeBoton(e.Tipo))}}function ba(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function ya(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}function _a(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"h4",23),b["\u0275\u0275text"](2,"Resultado de validacion: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"div",24),b["\u0275\u0275elementStart"](4,"mat-table",25),b["\u0275\u0275elementContainerStart"](5,26),b["\u0275\u0275template"](6,sa,2,0,"mat-header-cell",27),b["\u0275\u0275template"](7,da,2,1,"mat-cell",28),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](8,29),b["\u0275\u0275template"](9,pa,2,0,"mat-header-cell",27),b["\u0275\u0275template"](10,ua,2,1,"mat-cell",28),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](11,30),b["\u0275\u0275template"](12,fa,2,0,"mat-header-cell",27),b["\u0275\u0275template"](13,ha,2,1,"mat-cell",28),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](14,31),b["\u0275\u0275template"](15,xa,2,0,"mat-header-cell",27),b["\u0275\u0275template"](16,ga,2,1,"mat-cell",28),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](17,32),b["\u0275\u0275template"](18,va,2,0,"mat-header-cell",27),b["\u0275\u0275template"](19,Sa,2,1,"mat-cell",28),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](20,33),b["\u0275\u0275template"](21,Ca,2,0,"mat-header-cell",27),b["\u0275\u0275template"](22,Ea,3,1,"mat-cell",28),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](23,ba,1,0,"mat-header-row",34),b["\u0275\u0275template"](24,ya,1,0,"mat-row",35),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataSource",e.dataSource),b["\u0275\u0275advance"](19),b["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns)}}function Ia(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Archivo sin errores de validacion"),b["\u0275\u0275elementEnd"]())}let wa=(()=>{class e{constructor(e,t,n,a,o){this.dialogRef=e,this.data=t,this._distribucion=n,this.dialog=a,this.curre=o,this.nombre_file="",this.files=[],this.Errores=[],this.displayedColumns=["NumContrato","IdPrei","Columna","Fila","Error","Tipo"],this.validado=!1,this.color=""}ngOnInit(){this.dataSource=new s.by,this.nombre_file=this.data.conceptos?"distribucion_con_conceptos":"distribucion_sin_concepto"}descargar(){this._distribucion.DescargarPlantillaDistribucion(this.nombre_file).subscribe(e=>{File&&(0,Ge.saveAs)(e,"plantilla_"+this.nombre_file+".xlsx")},e=>{""===e.error&&void 0===e.error||h().fire({position:"center",title:"Error",text:"No se pudo descargar la plantilla",icon:"error",showConfirmButton:!0})})}onNoClick(){this.dialogRef.close()}onRemove(e){console.log(e),this.files.splice(this.files.indexOf(e),1),this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores,this.color="#0089e1"}onSelect(e){this.files.length<1&&(console.log(...e.addedFiles),this.files.push(...e.addedFiles))}ValidarArchivo(){this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores;const e=new FormData;e.append("file",this.files[0]),this._distribucion.ValidarArchivo(e,this.nombre_file).subscribe(e=>{console.log(e),this.validado=!0,this.color="#18903f"},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;this.Errores=t.Data,this.dataSource.data=this.Errores,console.log(t.Data),this.color="#d4782c",h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})}AgregarArchivo(){this.Errores=[],this.dataSource.data=this.Errores;const e=new FormData;e.append("file",this.files[0]),h().fire({title:"Estas seguro de agregar estos datos",showCancelButton:!0,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, agregar"}).then(t=>{t.value&&this._distribucion.AgregarArchivo(e,this.nombre_file).subscribe(e=>{h().fire("Agregados!","Los Datos se han guardado exitosamente","success"),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;this.Errores=t.Data,this.dataSource.data=this.Errores,console.log(t.Data),this.color="#d4782c",h().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})})}MensajeBoton(e){return 1===e?"Agregar":2===e||4===e?"Verificar":"Ver"}AbrirAccion(e){1===e.Tipo&&this.dialog.open($t,{height:"auto",width:"90%",disableClose:!0,data:{}}).afterClosed().subscribe(t=>{if(!0===t){const t=this.dataSource.data.indexOf(e);console.log(t),this.dataSource.data.splice(t,1),this.dataSource=new s.by(this.dataSource.data)}}),2===e.Tipo&&this.dialog.open(ea,{height:"auto",width:"90%",disableClose:!0,data:{concepto:e.Concepto,cantidad:e.Cantidad,archivo:!0}}).afterClosed().subscribe(e=>{!0===e&&this.ValidarArchivo()}),0!==e.Tipo&&3!==e.Tipo||h().fire({position:"center",title:"Debes editar tu archivo  de carga",text:e.Error,icon:"error",showConfirmButton:!0}),4===e.Tipo&&this.dialog.open(Xt,{height:"auto",width:"auto",disableClose:!0,data:{num_contrato:e.NumContrato,total_contratado:e.Suma}}).afterClosed().subscribe(e=>{!0===e&&this.ValidarArchivo()}),5===e.Tipo&&this.dialog.open(oa,{height:"auto",width:"65%",disableClose:!0,data:{concepto:e.Concepto}}).afterClosed().subscribe(e=>{!0===e&&this.ValidarArchivo()})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](bn.v),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](a.H9))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-carga-masiva-distribucion"]],features:[b["\u0275\u0275ProvidersFeature"]([a.H9])],decls:35,vars:9,consts:[["mat-dialog-title","","align","center","style","color: #003366;",4,"ngIf"],["mat-dialog-content",""],["mat-raised-button","","color","primary",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["accept",".xlsx","matTooltip","Solo puedes seleccionar un archivo","matTooltipPosition","above","matTooltipClass","example-tooltip-red",3,"multiple","disableClick","change"],["style","width: auto",3,"removable","removed",4,"ngFor","ngForOf"],[1,"table"],["width","35%"],["width","50%"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title","","align","center",2,"color","#003366"],[2,"width","auto",3,"removable","removed"],["mat-raised-button","","color","primary",3,"ngStyle","click"],[1,"fa","fa-upload"],["mat-raised-button","","color","warn",1,"m-l-10",3,"click"],[1,"fa","fa-trash"],["mat-raised-button","","color","primary",1,"m-l-10",3,"disabled","click"],[1,"fa","fa-save"],[2,"color","#003366"],[1,"responsive-table"],[3,"dataSource"],["matColumnDef","NumContrato"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IdPrei"],["matColumnDef","Error"],["matColumnDef","Columna"],["matColumnDef","Fila"],["matColumnDef","Tipo"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,ra,2,0,"h1",0),b["\u0275\u0275template"](1,la,2,0,"h1",0),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-title"),b["\u0275\u0275elementStart"](5,"button",2),b["\u0275\u0275listener"]("click",function(){return t.descargar()}),b["\u0275\u0275elementStart"](6,"mat-icon"),b["\u0275\u0275text"](7,"cloud_download"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](8," Descaragar Plantilla "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"mat-card-content"),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"ngx-dropzone",5),b["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),b["\u0275\u0275elementStart"](13,"ngx-dropzone-label"),b["\u0275\u0275text"](14,"Haga clic o arrastra tu archivo aqui!!"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](15,ia,4,6,"ngx-dropzone-preview",6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",4),b["\u0275\u0275elementStart"](17,"p"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"table",7),b["\u0275\u0275elementStart"](20,"thead"),b["\u0275\u0275elementStart"](21,"tr"),b["\u0275\u0275elementStart"](22,"th",8),b["\u0275\u0275text"](23,"Nombre"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"th"),b["\u0275\u0275text"](25,"Tama\xf1o"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th",9),b["\u0275\u0275text"](27,"Acciones"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"tbody"),b["\u0275\u0275template"](29,ma,16,9,"tr",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](30,_a,25,4,"div",11),b["\u0275\u0275template"](31,Ia,2,0,"h2",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",13),b["\u0275\u0275elementStart"](33,"button",14),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](34,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngIf",t.data.conceptos),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.data.conceptos),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("multiple",!1)("disableClick",t.files.length>0),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.files),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"]("Archivo para subir: ",null==t.files?null:t.files.length,""),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("ngForOf",t.files),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Errores&&t.files.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.validado&&t.files.length>0))},directives:[a.O5,u.xY,y.a8,y.n5,A.lW,k.Hw,y.dn,I.xw,I.Wh,I.yH,Xe._f,Ke.gM,Xe.Jj,a.sg,u.H8,u.uh,Xe.dt,a.PC,Ze.Zl,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,s.XQ,s.Gk],pipes:[a.JJ],styles:["ngx-dropzone:hover{border:2px dotted #0089e1}.example-tooltip-red{background:#661421}"],encapsulation:2}),e})();function Fa(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",20),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().buscarProveedor()}),b["\u0275\u0275elementStart"](1,"mat-icon",21),b["\u0275\u0275text"](2,"person_search"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Da(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",22),b["\u0275\u0275text"](1,"Sin resultados"),b["\u0275\u0275elementEnd"]())}function Va(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",24),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate2"]("",e.NProvImss," - ",e.NombreEmpresa,"")}}function Aa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"mat-form-field"),b["\u0275\u0275elementStart"](2,"mat-label"),b["\u0275\u0275text"](3,"Selecciona el proveedor a filtrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-select",23),b["\u0275\u0275template"](5,Va,2,3,"mat-option",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("formControl",e.resultado_proveedores)("compareWith",e.compare),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",e.provedores)}}function ka(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",24),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate2"](" ",e.ClvDele," ",e.NombreDele," ")}}let Na=(()=>{class e{constructor(e,t,n,a,o){this._contrato=e,this._proveedores=t,this.dialogRef=n,this.data=a,this._delegaciones=o,this.provedores=[],this.nombre_proveedor=new i.FormControl(this.data.nombre),this.resultado_proveedores=new i.FormControl(""),this.delegaciones=new i.FormControl,this.sin_resultados=!1,this.delegacionesArray=[],console.log(this.data),null!==this.data.nombre&&""!==this.data.nombre&&void 0!==this.data.nombre&&(this.nombre_proveedor.setValue(this.data.nombre),this.buscarProveedor(),this.resultado_proveedores.setValue(this.data.proveedor)),null===this.data.delegacion&&""===this.data.delegacion||this.delegaciones.setValue(this.data.delegacion)}ngOnInit(){this.nombre_proveedor.valueChanges.subscribe(e=>{""===e&&(this.provedores=[],this.sin_resultados=!1,this.resultado_proveedores.setValue(""))}),this._delegaciones.ConsultarDelegaciones().subscribe(e=>{this.delegacionesArray=e.Data})}limpiarFiltros(){this.nombre_proveedor.setValue(""),this.provedores=[],this.sin_resultados=!1,this.resultado_proveedores.setValue(""),this.delegaciones.setValue("")}buscarProveedor(){console.log(this.nombre_proveedor.value),this._proveedores.ConsultarProveedoresFiltro(null!==this.nombre_proveedor.value?this.nombre_proveedor.value:"").subscribe(e=>{this.provedores=e.Data,this.sin_resultados=!1,console.log(this.provedores),0===this.provedores.length&&(this.sin_resultados=!0)})}filtrar(){console.log(this.resultado_proveedores.value,this.delegaciones.value),this.data.proveedor=this.resultado_proveedores.value,this.data.nombre=this.nombre_proveedor.value,this.data.delegacion=this.delegaciones.value,this.dialogRef.close(this.data)}onNoClick(){this.data.delegacion="",this.data.proveedor="",this.data.nombre="",this.dialogRef.close(this.data)}compare(e,t){return e&&t&&e.NombreEmpresa===t.NombreEmpresa}compareDele(e,t){return e&&t&&e.NombreDele===t.NombreDele}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](x.v),b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](De.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-filtros-contratos"]],decls:42,vars:7,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100"],[1,"oh","text-center","little-profile"],[2,"color","#003366"],["appearance","outline"],["matInput","","placeholder","Escribe el nombre o el numero prov. imss","autocomplete","off",3,"formControl","keyup.enter"],["mat-icon-button","","matSuffix","","color","primary",3,"click",4,"ngIf"],["class","text-danger support-text",4,"ngIf"],[4,"ngIf"],["required","","multiple","",3,"formControl","compareWith"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100","align","start"],["mat-stroked-button","","color","accent","type","button",3,"click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-stroked-button","","color","warn",3,"click"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["aria-label","Buscar"],[1,"text-danger","support-text"],["multiple","",3,"formControl","compareWith"],[3,"value"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Filtrar Contratos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"mat-card",4),b["\u0275\u0275elementStart"](6,"mat-card-title",5),b["\u0275\u0275text"](7,"Proveedores"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"mat-card-content"),b["\u0275\u0275elementStart"](9,"div"),b["\u0275\u0275elementStart"](10,"mat-form-field",6),b["\u0275\u0275elementStart"](11,"mat-label"),b["\u0275\u0275text"](12,"Busca proveedores"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"input",7),b["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarProveedor()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](14,Fa,3,0,"button",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](15,Da,2,0,"small",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](16,Aa,6,3,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",3),b["\u0275\u0275elementStart"](18,"mat-card",4),b["\u0275\u0275elementStart"](19,"mat-card-title",5),b["\u0275\u0275text"](20,"Delegaciones"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"mat-card-content"),b["\u0275\u0275elementStart"](22,"mat-form-field",6),b["\u0275\u0275elementStart"](23,"mat-label"),b["\u0275\u0275text"](24,"Selecciona una delegacion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"mat-select",11),b["\u0275\u0275template"](26,ka,2,3,"mat-option",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"div",3),b["\u0275\u0275elementStart"](28,"mat-card",4),b["\u0275\u0275elementStart"](29,"mat-card-title"),b["\u0275\u0275text"](30,"Unidad Medica"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](31,"mat-card-content"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",13),b["\u0275\u0275elementStart"](33,"div",14),b["\u0275\u0275elementStart"](34,"button",15),b["\u0275\u0275listener"]("click",function(){return t.limpiarFiltros()}),b["\u0275\u0275text"](35,"Limpiar Filtros "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"div",16),b["\u0275\u0275elementStart"](37,"button",17),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](38,"Cerrar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"div",18),b["\u0275\u0275elementStart"](40,"button",19),b["\u0275\u0275listener"]("click",function(){return t.filtrar()}),b["\u0275\u0275text"](41,"Filtrar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](13),b["\u0275\u0275property"]("formControl",t.nombre_proveedor),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.nombre_proveedor.value),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.sin_resultados),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.provedores.length>0&&t.nombre_proveedor.value),b["\u0275\u0275advance"](9),b["\u0275\u0275property"]("formControl",t.delegaciones)("compareWith",t.compareDele),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.delegacionesArray))},directives:[u.uh,u.xY,I.xw,I.Wh,I.yH,y.a8,y.n5,y.dn,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlDirective,a.O5,ke.gD,i.RequiredValidator,a.sg,u.H8,A.lW,w.R9,k.Hw,v.ey],styles:[""]}),e})();var Pa=n(11406);let Ma=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this.data=t,this._archivos=n,this.nombre_descarga=""}ngOnInit(){this.descargar_archivo(this.data.path),this.nombre_descarga="Contrato_"+this.data.contrato.NumeroContrato+".pdf"}descargar_archivo(e){this._archivos.DescargarArchivo(e).subscribe(e=>{console.log(e),File&&console.log(File)})}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](Pa.z))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-visualizador-pdf"]],decls:6,vars:1,consts:[["mat-dialog-title","","align","center",1,"font-bold",2,"color","#003366"],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-raised-button","","cdkFocusInitial","","color","warn",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](2,"div",1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"button",3),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](5,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](t.data.contrato.NumeroContrato))},directives:[u.uh,u.xY,u.H8,A.lW],styles:[""]}),e})();function Ta(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",18),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](e);const t=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).AbrirPDF(t)}),b["\u0275\u0275elementStart"](1,"mat-icon",12),b["\u0275\u0275text"](2,"picture_as_pdf"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Ra(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-list-item",16),b["\u0275\u0275text"](1),b["\u0275\u0275template"](2,Ta,3,0,"button",17),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Nombre," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",n.visualizar(e))}}function Ba(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Nombre)}}function ja(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-list-item"),b["\u0275\u0275template"](1,Ba,2,1,"span",22),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2).$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.archivo_carpeta(e,n))}}function qa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",21),b["\u0275\u0275elementStart"](1,"span",10),b["\u0275\u0275text"](2,"Archivos:"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](3,ja,2,1,"mat-list-item",15),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",e.ArchivosSubcarpeta)}}function za(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-list-item"),b["\u0275\u0275elementStart"](1,"button",19),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit,n=b["\u0275\u0275nextContext"](2);return n.consultarArchivossubcarpeta(n.tab_seleccioando+"/"+t.Nombre)}),b["\u0275\u0275elementStart"](2,"mat-icon",12),b["\u0275\u0275text"](3,"folder_open"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](5,qa,4,1,"div",20),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",e.Nombre," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",n.ArchivosSubcarpeta)}}function La(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-tab",7),b["\u0275\u0275elementStart"](1,"div",8),b["\u0275\u0275elementStart"](2,"div",9),b["\u0275\u0275elementStart"](3,"span",10),b["\u0275\u0275text"](4,"Archivos:"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div",9),b["\u0275\u0275elementStart"](6,"button",11),b["\u0275\u0275elementStart"](7,"mat-icon",12),b["\u0275\u0275text"](8,"create_new_folder"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](9," Crear Carpeta "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",9),b["\u0275\u0275elementStart"](11,"button",11),b["\u0275\u0275elementStart"](12,"mat-icon",12),b["\u0275\u0275text"](13,"cloud_upload"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14," Subir Archivo "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](15,Ra,3,2,"mat-list-item",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",14),b["\u0275\u0275element"](17,"mat-divider"),b["\u0275\u0275template"](18,za,6,2,"mat-list-item",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("label",e.Nombre),b["\u0275\u0275advance"](15),b["\u0275\u0275property"]("ngForOf",n.Archivos),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",n.Carpetas)}}let Oa=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this._archivos=n,this.dialog=a,this.Carpetas=[],this.Archivos=[],this.ArchivosSubcarpeta=[],this.tabs=[],this.selected=new i.FormControl(0),this.tab_seleccioando=""}ngOnInit(){this.Contrato=this.data.contrato,console.log(this.Contrato),this.consultarCarpetas("")}removeTab(e){this.tabs.splice(e,1)}consultarCarpetas(e){this._archivos.ConsultarCarpetas(e).subscribe(e=>{this.tabs=e.Data})}consultarArchivos(e){this._archivos.ConsultarArchivos(this.Contrato.NumeroContrato,e).subscribe(e=>{this.Archivos=e.Data,console.log(this.Archivos)})}consultarArchivossubcarpeta(e){this._archivos.ConsultarArchivos(this.Contrato.NumeroContrato,e).subscribe(e=>{this.ArchivosSubcarpeta=e.Data,console.log(this.ArchivosSubcarpeta)})}tabSelecionado(e){this.tab_seleccioando=e.tab.textLabel,console.log("Seleccionaste este",e.tab.textLabel),this.selecionarUnaCarpeta(e.tab.textLabel),this.consultarArchivos(e.tab.textLabel)}selecionarUnaCarpeta(e){this._archivos.ConsultarCarpetas(e).subscribe(e=>{this.Carpetas=e.Data,console.log(this.Carpetas)})}onNoClick(){this.dialogRef.close()}AbrirPDF(e){this.dialog.open(Ma,{height:"auto",width:"80%",disableClose:!0,data:{contrato:this.Contrato,path:e.Ruta+"/"+e.Nombre}}).afterClosed().subscribe(e=>{})}visualizar(e){return e.Nombre.includes(".pdf")}archivo_carpeta(e,t){return e.Ruta.includes(t.Nombre)}descargar_archivo(e){this._archivos.DescargarArchivo(e.Ruta+"/"+e.Nombre).subscribe(e=>{console.log(e),File&&console.log(File)})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](Pa.z),b["\u0275\u0275directiveInject"](u.uw))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-archivos-contrato"]],decls:11,vars:4,consts:[["mat-dialog-title","","align","center",1,"font-bold",2,"color","#003366"],["align","center",1,"m-t-5",2,"color","#003366"],["mat-dialog-content",""],[3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","cdkFocusInitial","","color","warn",3,"click"],[3,"label"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-10"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[1,"font-bold",2,"color","#0d453c"],["mat-icon-button","","color","primary",1,"p-l-20"],["aria-label","Example icon-button with a heart icon"],["class","p-0",4,"ngFor","ngForOf"],[1,"p-10"],[4,"ngFor","ngForOf"],[1,"p-0"],["mat-icon-button","","color","primary","class","p-l-20",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",1,"p-l-20",3,"click"],["mat-icon-button","","color","primary",3,"click"],["style","padding-left: 30px",4,"ngIf"],[2,"padding-left","30px"],[4,"ngIf"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"h5",1),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"div",2),b["\u0275\u0275element"](5,"div"),b["\u0275\u0275elementStart"](6,"mat-tab-group",3),b["\u0275\u0275listener"]("selectedIndexChange",function(e){return t.selected.setValue(e)})("selectedTabChange",function(e){return t.tabSelecionado(e)}),b["\u0275\u0275template"](7,La,19,3,"mat-tab",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"div",5),b["\u0275\u0275elementStart"](9,"button",6),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](10,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("Archivos: ",t.Contrato.NumeroContrato,""),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" Proveedor: ",t.Contrato.Proveedor.AliasEmpresa,""),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("selectedIndex",t.selected.value),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.tabs))},directives:[u.uh,u.xY,Ve.SP,a.sg,u.H8,A.lW,Ve.uX,I.xw,I.Wh,I.yH,k.Hw,_t.d,Ne.Tg,a.O5],styles:[""]}),e})();var $a=n(97070),Ha=n(95522);function Ua(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",25),b["\u0275\u0275elementStart"](1,"mat-icon"),b["\u0275\u0275text"](2,"view_quilt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"span"),b["\u0275\u0275text"](4,"Distribucion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){b["\u0275\u0275nextContext"]();const e=b["\u0275\u0275reference"](34);b["\u0275\u0275property"]("matMenuTriggerFor",e)}}function Wa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",28),b["\u0275\u0275text"](1,"cancel"),b["\u0275\u0275elementEnd"]())}function Ga(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-chip",26),b["\u0275\u0275listener"]("removed",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().EliminarFiltro("proveedor")}),b["\u0275\u0275text"](1," Proveedores "),b["\u0275\u0275template"](2,Wa,2,0,"mat-icon",27),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("selectable",e.selectable)("removable",e.removable),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",e.removable)}}function Ya(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",28),b["\u0275\u0275text"](1,"cancel"),b["\u0275\u0275elementEnd"]())}function Qa(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-chip",26),b["\u0275\u0275listener"]("removed",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().EliminarFiltro("delegacion")}),b["\u0275\u0275text"](1," Delegaciones "),b["\u0275\u0275template"](2,Ya,2,0,"mat-icon",27),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("selectable",e.selectable)("removable",e.removable),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",e.removable)}}function Xa(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"a",43),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](e);const t=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"]().openDialogDetalleProveedor(t.Proveedor)}),b["\u0275\u0275elementStart"](1,"h3",44),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.Proveedor.NombreEmpresa)}}const Ka=function(e){return["/contratos/detalle",e]};function Za(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",29),b["\u0275\u0275elementStart"](1,"mat-card",30),b["\u0275\u0275elementStart"](2,"div",31),b["\u0275\u0275elementStart"](3,"a",32),b["\u0275\u0275elementStart"](4,"h3",33),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"a",34),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().AbrirDialogArchivos(t)}),b["\u0275\u0275elementStart"](7,"mat-icon",35),b["\u0275\u0275text"](8,"folder_open"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"mat-card-content",36),b["\u0275\u0275template"](10,Xa,3,1,"a",37),b["\u0275\u0275elementStart"](11,"h5",38),b["\u0275\u0275elementStart"](12,"strong"),b["\u0275\u0275text"](13,"Vigencia:"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"a",39),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().AbrirDetallecontrato(t.NumeroContrato)}),b["\u0275\u0275elementStart"](16,"h4",33),b["\u0275\u0275text"](17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"mat-card-actions",40),b["\u0275\u0275elementStart"](19,"button",41),b["\u0275\u0275elementStart"](20,"mat-icon"),b["\u0275\u0275text"](21,"delete"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"span"),b["\u0275\u0275text"](23,"Eliminar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"button",42),b["\u0275\u0275listener"]("click",function(){const t=b["\u0275\u0275restoreView"](e).$implicit;return b["\u0275\u0275nextContext"]().editando(t)}),b["\u0275\u0275elementStart"](25,"mat-icon"),b["\u0275\u0275text"](26,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"span"),b["\u0275\u0275text"](28,"Editar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("routerLink",b["\u0275\u0275pureFunction1"](6,Ka,e.NumeroContrato)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.NumeroContrato),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",e),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate2"](" del ",e.InicioContrato," al ",e.FinContrato,""),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](e.ProcedContratacion)}}let Ja=(()=>{class e{constructor(e,t,n,a,o){this._contrato=e,this.dialog=t,this.router=n,this.formBuilder=a,this.contrato_puesto=o,this.elementos=[],this.cargando=!1,this.tamanioPagina=15,this.tamanios=[15,30,45],this.totalRegistros=0,this.paginaActual=1,this.control_nombre=new i.FormControl,this.selectable=!0,this.removable=!0,this.proveedor=[],this.delegacion=[],this.nombre="",this.n_prov_imss="",this.delegaciones_filtro="",this.tipo_contrato=""}ngOnInit(){const e=(0,Ye.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(e.PuestoId).subscribe(e=>{const t=e.Data.map(e=>e.TipoContrato.Id);this.tipo_contrato=t.join(),console.log(this.tipo_contrato);for(let n of t)"5f323c89d7be0a421a2305ff"===n&&(this.menu_distribucion=!0);this.consultarContratos()}),this.uploadForm=this.formBuilder.group({profile:[""]}),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(e=>{e&&(this.paginaActual=e.pageIndex+1,this.tamanioPagina=e.pageSize,this.consultarContratos())})}consultarContratos(){this.n_prov_imss="",this.delegaciones_filtro="";const e=null!==this.control_nombre.value?this.control_nombre.value:"";if(this.proveedor.length>0){const e=this.proveedor.map(e=>e.NProvImss);this.n_prov_imss=e.join()}if(this.delegacion.length>0){const e=this.delegacion.map(e=>e.ClvDele);this.delegaciones_filtro=e.join()}this._contrato.ConsultarContratos("",this.tipo_contrato,e,this.n_prov_imss,this.delegaciones_filtro,"","","",this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(e=>{this.dataSource=new s.by,this.dataSource.data=e.Data.registros,this.elementos=this.dataSource.data,this.totalRegistros=e.Data.total,this.cargando=!0,0===this.elementos.length&&h().fire({icon:"error",title:"Sin Resultados",text:"No se encontraron resultados para tu busqueda"})})}buscarPorNombre(){this.consultarContratos(),this.paginator.firstPage()}openDialogAgregar(){this.dialog.open(He,{width:"95%",disableClose:!0,data:{editar:!1,contrato:""}}).afterClosed().subscribe(e=>{e&&this.consultarContratos()})}editando(e){this.dialog.open($t,{height:"auto",width:"90%",disableClose:!0,data:{contrato:e,representante:"",proveedor:e.Proveedor,editar:!0}}).afterClosed().subscribe(e=>{e&&this.consultarContratos()})}AbrirDialogArchivos(e){this.dialog.open(Oa,{height:"auto",width:"65%",disableClose:!0,data:{contrato:e}}).afterClosed().subscribe(e=>{})}openDialogCargaMasiva(){this.dialog.open(vt,{height:"auto",width:"90%",disableClose:!0}).afterClosed().subscribe(e=>{!0===e&&this.consultarContratos()})}openDialogConceptosArchivo(){this.dialog.open(Cn,{height:"auto",width:"90%",disableClose:!0}).afterClosed().subscribe(e=>{!0===e&&this.consultarContratos()})}openDialogDistribucionArchivo(e){this.dialog.open(wa,{height:"auto",width:"90%",disableClose:!0,data:{conceptos:e}}).afterClosed().subscribe(e=>{!0===e&&this.consultarContratos()})}openDialogDetalleProveedor(e){this.dialog.open(ce.Y,{height:"auto",width:"30%",disableClose:!1,data:{proveedor:e}}).afterClosed().subscribe(e=>{})}AbrirVentanaFiltros(){this.dialog.open(Na,{height:"auto",width:"75%",disableClose:!0,data:{proveedor:this.proveedor,delegacion:this.delegacion,unidad_med:"",nombreAutoriza:this.nombre}}).afterClosed().subscribe(e=>{e&&(this.proveedor=e.proveedor,this.nombre=e.nombre,this.delegacion=e.delegacion,this.consultarContratos())})}EliminarFiltro(e){"proveedor"===e&&(this.proveedor=[],this.n_prov_imss="",this.nombre=""),"delegacion"===e&&(this.delegaciones_filtro="",this.delegacion=[]),this.consultarContratos()}AbrirDetallecontrato(e){this.dialog.open(We,{height:"auto",width:"50%",disableClose:!0,data:{num_contrato:e}}).afterClosed().subscribe(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](o.F0),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](Qe.L))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-administrar-contratos"]],viewQuery:function(e,t){if(1&e&&b["\u0275\u0275viewQuery"](d.NW,7),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},decls:59,vars:11,consts:[[1,"mat-elevation-z3"],[2,"margin-left","5px!important"],["align","center",1,"font-bold",2,"color","#003366"],[2,"padding-left","5px!important"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],[1,"p-l-10"],["matInput","","placeholder","Buscar un contrato","autocomplete","off",3,"formControl","keyup.enter"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-evenly start"],["fxFlex.gt-sm","23","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","primary",3,"click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["distribucion","matMenu"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","80","fxFlex.gt-xs","100","fxFlex","100"],["style","background-color: #1e88e5","selected","",3,"selectable","removable","removed",4,"ngIf"],[3,"hidden"],["mode","query","color","warn"],["fxLayout","row wrap"],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100","class","mat-elevation-z3",4,"ngFor","ngForOf"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-menu-item","",3,"matMenuTriggerFor"],["selected","",2,"background-color","#1e88e5",3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100",1,"mat-elevation-z3"],[1,"oh","text-center","little-profile"],["align","center"],[3,"routerLink"],[1,"m-b-0","font-bold",2,"color","#0800ef"],["mat-flat-button","","routerLink",".",3,"click"],["color","primary"],[1,"m-b-0"],["style","color: #003366",3,"routerLink","click",4,"ngIf"],[2,"color","#661421"],[3,"routerLink","click"],[1,"p-t-0"],["mat-button","","color","warn"],["mat-button","","color","primary",3,"click"],[2,"color","#003366",3,"routerLink","click"],[1,"m-b-0","m-t-0","font-bold"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"mat-card",1),b["\u0275\u0275elementStart"](2,"mat-card-title",2),b["\u0275\u0275text"](3,"Administracion de contratos "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-card-content",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"mat-form-field",6),b["\u0275\u0275elementStart"](8,"input",7),b["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"div",8),b["\u0275\u0275elementStart"](10,"div",9),b["\u0275\u0275elementStart"](11,"button",10),b["\u0275\u0275listener"]("click",function(){return t.openDialogAgregar()}),b["\u0275\u0275elementStart"](12,"mat-icon"),b["\u0275\u0275text"](13,"post_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14," Contrato "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"div",11),b["\u0275\u0275elementStart"](16,"button",12),b["\u0275\u0275elementStart"](17,"mat-icon"),b["\u0275\u0275text"](18,"cloud_upload"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](19," Carga Masiva "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"mat-menu",null,13),b["\u0275\u0275elementStart"](22,"button",14),b["\u0275\u0275listener"]("click",function(){return t.openDialogCargaMasiva()}),b["\u0275\u0275elementStart"](23,"mat-icon"),b["\u0275\u0275text"](24,"folder_open"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26,"Contratos"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"button",14),b["\u0275\u0275listener"]("click",function(){return t.openDialogConceptosArchivo()}),b["\u0275\u0275elementStart"](28,"mat-icon"),b["\u0275\u0275text"](29,"post_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"span"),b["\u0275\u0275text"](31,"Equipos/Servicios"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](32,Ua,5,1,"button",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"mat-menu",null,16),b["\u0275\u0275elementStart"](35,"button",14),b["\u0275\u0275listener"]("click",function(){return t.openDialogDistribucionArchivo(!0)}),b["\u0275\u0275elementStart"](36,"mat-icon"),b["\u0275\u0275text"](37,"view_quilt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"span"),b["\u0275\u0275text"](39,"Conceptos ya registrados"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"button",14),b["\u0275\u0275listener"]("click",function(){return t.openDialogDistribucionArchivo(!1)}),b["\u0275\u0275elementStart"](41,"mat-icon"),b["\u0275\u0275text"](42,"view_quilt"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"span"),b["\u0275\u0275text"](44,"Sin conceptos registrados"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",17),b["\u0275\u0275elementStart"](46,"button",10),b["\u0275\u0275listener"]("click",function(){return t.AbrirVentanaFiltros()}),b["\u0275\u0275elementStart"](47,"mat-icon"),b["\u0275\u0275text"](48,"filter_list"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](49," Filtros "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"div",18),b["\u0275\u0275elementStart"](51,"mat-chip-list"),b["\u0275\u0275template"](52,Ga,3,3,"mat-chip",19),b["\u0275\u0275template"](53,Qa,3,3,"mat-chip",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"div",20),b["\u0275\u0275element"](55,"mat-progress-bar",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"div",22),b["\u0275\u0275template"](57,Za,29,8,"div",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](58,"mat-paginator",24)),2&e){const e=b["\u0275\u0275reference"](21);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("formControl",t.control_nombre),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("matMenuTriggerFor",e),b["\u0275\u0275advance"](16),b["\u0275\u0275property"]("ngIf",t.menu_distribucion),b["\u0275\u0275advance"](20),b["\u0275\u0275property"]("ngIf",t.proveedor.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.delegacion.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden",t.cargando),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.elementos),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0)}},directives:[y.a8,y.n5,y.dn,I.xw,I.Wh,I.yH,w.KE,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlDirective,A.lW,k.Hw,$a.p6,$a.VK,$a.OP,a.O5,Ha.qn,V.pW,a.sg,d.NW,Ha.HS,Ha.qH,o.yS,A.zs,y.hq],styles:[""]}),e})(),eo=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seguimiento-contratos"]],decls:2,vars:0,template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"p"),b["\u0275\u0275text"](1," seguimiento-contratos works!\n"),b["\u0275\u0275elementEnd"]())},styles:[""]}),e})();function to(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",27),b["\u0275\u0275text"](1,"Solo numeros. "),b["\u0275\u0275elementEnd"]())}function no(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",27),b["\u0275\u0275text"](1,"Solo numeros. "),b["\u0275\u0275elementEnd"]())}function ao(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"form",6),b["\u0275\u0275elementStart"](1,"div",7),b["\u0275\u0275elementStart"](2,"div",8),b["\u0275\u0275elementStart"](3,"mat-form-field",9),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"ID PREI"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](6,"input",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",11),b["\u0275\u0275elementStart"](8,"mat-form-field",12),b["\u0275\u0275elementStart"](9,"mat-label"),b["\u0275\u0275text"](10,"Descripcion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"input",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",14),b["\u0275\u0275elementStart"](13,"mat-form-field",12),b["\u0275\u0275elementStart"](14,"mat-label"),b["\u0275\u0275text"](15,"Marca"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](16,"input",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",14),b["\u0275\u0275elementStart"](18,"mat-form-field",12),b["\u0275\u0275elementStart"](19,"mat-label"),b["\u0275\u0275text"](20,"Modelo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](21,"input",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",14),b["\u0275\u0275elementStart"](23,"mat-form-field",12),b["\u0275\u0275elementStart"](24,"mat-label"),b["\u0275\u0275text"](25,"Cantidad Contratada"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"input",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,to,2,0,"small",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",14),b["\u0275\u0275elementStart"](29,"mat-form-field",12),b["\u0275\u0275elementStart"](30,"mat-label"),b["\u0275\u0275text"](31,"Precio Sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](32,"input",19),b["\u0275\u0275elementStart"](33,"span",20),b["\u0275\u0275text"](34,"$\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",14),b["\u0275\u0275elementStart"](36,"mat-form-field",21),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](42).open()}),b["\u0275\u0275elementStart"](37,"mat-label"),b["\u0275\u0275text"](38,"Fecha Maxima de Entrega"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"input",22),b["\u0275\u0275listener"]("dateChange",function(t){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().valorFecha(t)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](40,"mat-datepicker-toggle",23),b["\u0275\u0275element"](41,"mat-datepicker",24,25),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"div",14),b["\u0275\u0275elementStart"](44,"mat-form-field",12),b["\u0275\u0275elementStart"](45,"mat-label"),b["\u0275\u0275text"](46,"Meses de garantia"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](47,"input",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](48,no,2,0,"small",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275reference"](42),t=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("formGroup",t.formulario_conceptos),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("value",t.descripcion),b["\u0275\u0275advance"](16),b["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.CantidadConcepto.hasError("pattern")&&t.formulario_conceptos.controls.CantidadConcepto.touched),b["\u0275\u0275advance"](12),b["\u0275\u0275property"]("matDatepicker",e),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",e),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.GarantiaBienes.hasError("pattern")&&t.formulario_conceptos.controls.GarantiaBienes.touched)}}let oo=(()=>{class e{constructor(e,t,n,a,o,r){this.dialogRef=e,this.data=t,this.fb=n,this.adapter=a,this.dialog=o,this._conceptos=r,this.descripcion="",this.fechaNueva="",this.adapter.setLocale("es-mx"),this.conceptoUpdate=t.conceptoEditar,this.descripcion=t.conceptoEditar.Prei.Descripcion,this.fechaMaxima=Et()(t.conceptoEditar.FechaMaxEntrega,"DD-MM-YYYY"),this.fechaNueva=t.conceptoEditar.FechaMaxEntrega}ngOnInit(){console.log(this.data.conceptoEditar),this.crear_formulario_conceptos()}crear_formulario_conceptos(){this.formulario_conceptos=this.fb.group({PrecioUniSnIva:[this.conceptoUpdate.PrecioUniSnIva,i.Validators.compose([i.Validators.required])],CantidadConcepto:[this.conceptoUpdate.CantidadConcepto,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],Marca:[this.conceptoUpdate.Marca,i.Validators.compose([i.Validators.required])],Modelo:[this.conceptoUpdate.Modelo,i.Validators.compose([i.Validators.required])],FechaMaxEntrega:[this.fechaMaxima,i.Validators.compose([i.Validators.required])],GarantiaBienes:[this.conceptoUpdate.GarantiaBienes,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],PreiIdArticulo:[this.conceptoUpdate.PreiIdArticulo,i.Validators.compose([i.Validators.required])]})}onNoClick(){this.dialogRef.close()}actualizar(){const e=this.formulario_conceptos.getRawValue();e.FechaMaxEntrega=this.fechaNueva,console.log(e),h().fire({title:"Actualizacion",text:"\xbfEstas seguro que deseas actualizar?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Actualizar",cancelButtonText:"Cancelar"}).then(t=>{t.value&&this._conceptos.ActualizarConceptoContrato(this.conceptoUpdate.Id,e,this.conceptoUpdate.ContratoNumeroContrato).subscribe(e=>{h().fire("Correcto",e.Mensaje,"success"),this.dialogRef.close(!0)},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;console.log(t),h().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}valorFecha(e){console.log(this.fechaMaxima,e)}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](v._A),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](St.h))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-editar-concepto-contrato"]],features:[b["\u0275\u0275ProvidersFeature"]([{provide:v.Ad,useValue:"ja-JP"},{provide:v._A,useClass:S.t7,deps:[v.Ad]},{provide:v.sG,useValue:S.$o}])],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","13","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline","color","warn"],["matInput","","formControlName","PreiIdArticulo","autocomplete","off","placeholder","ID SIN CEROS","readonly",""],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","autocomplete","off","readonly","","placeholder","Marca del equipo",3,"value"],["fxFlex.gt-sm","22","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","formControlName","Marca","autocomplete","off","placeholder","Marca del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","Modelo","autocomplete","off","placeholder","Modelo del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","CantidadConcepto","type","number","autocomplete","off","placeholder","Cantidad contratada",1,"soloNumeros"],["class","text-danger support-text",4,"ngIf"],["matInput","","formControlName","PrecioUniSnIva","type","number","autocomplete","off","placeholder","Precio Unitario",1,"soloNumeros"],["matPrefix",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FechaMaxEntrega",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","formControlName","GarantiaBienes","type","number","autocomplete","off","placeholder","Numero de Meses",1,"soloNumeros"],[1,"text-danger","support-text"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Editar Concepto"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"mat-card"),b["\u0275\u0275elementStart"](4,"mat-card-content"),b["\u0275\u0275template"](5,ao,49,6,"form",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"div",3),b["\u0275\u0275elementStart"](7,"button",4),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](8,"Cancelar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"button",5),b["\u0275\u0275listener"]("click",function(){return t.actualizar()}),b["\u0275\u0275text"](10,"Actualizar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.conceptoUpdate),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t.formulario_conceptos.dirty))},directives:[u.uh,u.xY,y.a8,y.dn,a.O5,u.H8,A.lW,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,i.NumberValueAccessor,w.qo,Ae.hl,Ae.nW,w.R9,Ae.Mq],styles:[""]}),e})();function ro(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-list-item",5),b["\u0275\u0275elementStart"](1,"a",13),b["\u0275\u0275elementStart"](2,"button",14),b["\u0275\u0275text"](3),b["\u0275\u0275elementStart"](4,"mat-icon"),b["\u0275\u0275text"](5,"send"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate2"]("href","mailto:",e.correo,"?subject=Reporte%20del%20contrato%20No.%20",n.data.n_contrato,"",b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",e.correo," ")}}function lo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-list-item"),b["\u0275\u0275elementStart"](1,"h4"),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.telefono)}}function io(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-list-item"),b["\u0275\u0275elementStart"](1,"h4"),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.extension)}}function co(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",15),b["\u0275\u0275elementStart"](1,"h5"),b["\u0275\u0275text"](2,"* Enviar correo a todos los destinatarios"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"a",16),b["\u0275\u0275elementStart"](4,"button",17),b["\u0275\u0275text"](5," Enviar a todos "),b["\u0275\u0275elementStart"](6,"mat-icon"),b["\u0275\u0275text"](7,"send"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275propertyInterpolate2"]("href","mailto:",e.correoTodos,"?subject=Reporte%20del%20contrato%20No.%20",e.data.n_contrato,"",b["\u0275\u0275sanitizeUrl"])}}let mo=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this.data=t,this._contactoCont=n,this.correos=[],this.correoTodos="",this.todos=!1,this.telefonos=[]}onNoClick(){this.dialogRef.close()}ngOnInit(){this.consultarContactos(),this.ConsultarTelefonos()}consultarContactos(){this._contactoCont.ConsultaCorreosContrato(this.data.n_contrato).subscribe(e=>{const t=e.Data.map(e=>({correo:e.Correos.Correo}));this.correos=t;const n=this.correos.map(e=>e.correo);this.correoTodos=n.join(";"),this.correos.length>1&&(this.todos=!0)})}ConsultarTelefonos(){this._contactoCont.ConsultaTelefonosContrato(this.data.n_contrato).subscribe(e=>{console.log(e.Data);const t=e.Data.map(e=>({telefono:e.Telefonos.Telefono,extension:e.Extension}));this.telefonos=t})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](yt.G))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-detalle-contac-contr"]],decls:34,vars:6,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-around start"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],[2,"color","#003366"],[1,"p-0"],["class","p-0",4,"ngFor","ngForOf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"click"],["matLine","",3,"href"],["mat-icon-button","","color","primary",2,"padding-left","2px"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[3,"href"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Contrato Numero: "),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"div",1),b["\u0275\u0275elementStart"](5,"mat-card"),b["\u0275\u0275elementStart"](6,"mat-card-title"),b["\u0275\u0275text"](7,"Representante Legal: "),b["\u0275\u0275elementStart"](8,"strong"),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"mat-card-content"),b["\u0275\u0275elementStart"](11,"div",2),b["\u0275\u0275elementStart"](12,"div",3),b["\u0275\u0275elementStart"](13,"span",4),b["\u0275\u0275elementStart"](14,"strong"),b["\u0275\u0275text"](15,"Correo(s) Electronico(s)"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"mat-nav-list",5),b["\u0275\u0275template"](17,ro,6,3,"mat-list-item",6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",7),b["\u0275\u0275elementStart"](19,"span",4),b["\u0275\u0275elementStart"](20,"strong"),b["\u0275\u0275text"](21,"Telefono(s)"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"mat-nav-list"),b["\u0275\u0275template"](23,lo,3,1,"mat-list-item",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",9),b["\u0275\u0275elementStart"](25,"span",4),b["\u0275\u0275elementStart"](26,"strong"),b["\u0275\u0275text"](27,"Extension(es)"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"mat-nav-list"),b["\u0275\u0275template"](29,io,3,1,"mat-list-item",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](30,co,8,2,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",11),b["\u0275\u0275elementStart"](32,"button",12),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](33,"Cerrar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](t.data.n_contrato),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](t.data.representante.NombreCompleto),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngForOf",t.correos),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngForOf",t.telefonos),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngForOf",t.telefonos),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.todos))},directives:[u.uh,u.xY,y.a8,y.n5,y.dn,I.xw,I.Wh,I.yH,Ne.Hk,a.sg,a.O5,u.H8,A.lW,Ne.Tg,v.X2,k.Hw],styles:[""]}),e})();var so=n(66377),po=n(84660),uo=n(88758);function fo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Unidad"),b["\u0275\u0275elementEnd"]())}function ho(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.unidadMed.DenominacionUni)}}function xo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Servicio"),b["\u0275\u0275elementEnd"]())}function go(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.servicio)}}function vo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Origen"),b["\u0275\u0275elementEnd"]())}function So(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.origen)}}function Co(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Destino"),b["\u0275\u0275elementEnd"]())}function Eo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.destino)}}function bo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Cantidad Min"),b["\u0275\u0275elementEnd"]())}function yo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.cantidadMin)}}function _o(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Cantidad Max"),b["\u0275\u0275elementEnd"]())}function Io(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.cantidadMax,"")}}function wo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Precio"),b["\u0275\u0275elementEnd"]())}function Fo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,e.precioOfertado),"")}}function Do(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Importe Min"),b["\u0275\u0275elementEnd"]())}function Vo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,e.importeMin),"")}}function Ao(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Importe Max"),b["\u0275\u0275elementEnd"]())}function ko(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,e.importeMax),"")}}function No(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Editar"),b["\u0275\u0275elementEnd"]())}function Po(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",26),b["\u0275\u0275elementStart"](2,"mat-icon",27),b["\u0275\u0275text"](3,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]())}function Mo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",25),b["\u0275\u0275text"](1,"Eliminar "),b["\u0275\u0275elementEnd"]())}function To(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",28),b["\u0275\u0275elementStart"](2,"mat-icon",27),b["\u0275\u0275text"](3,"delete"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]())}function Ro(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function Bo(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}let jo=(()=>{class e{constructor(e){this._conceptos=e,this.MontoContratado=0,this.displayedColumns=["unMed","serv","origen","destino","canMin","canMax","precioCon","impMin","impMax","EditarPro","EliminarPro"],this.tamanioPagina=15,this.tamanios=[15,30,45],this.totalRegistros=0,this.paginaActual=1}ngOnInit(){console.log("2232323",this.data),this.consultarConceptos(),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(e=>{e&&(this.paginaActual=e.pageIndex+1,this.tamanioPagina=e.pageSize,this.consultarConceptos())})}consultarConceptos(){const e=this.data[0].NumeroContrato,t=null!==this.tipo?this.tipo:"",n=null!==this.subTipo?this.subTipo:"";console.log("sdfsdf-*-***",t,n),this._conceptos.ConsultarConceptos(e,t,n,this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(e=>{this.dataSource=new s.by,this.dataSource.data=e.Data.registros.map(e=>e.trasladoPacientes)[0],this.MontoContratado=e.Data.total,this.totalRegistros=e.Data.numReg,console.log(this.dataSource.data)})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](St.h))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-traslado-pacientes"]],viewQuery:function(e,t){if(1&e&&b["\u0275\u0275viewQuery"](d.NW,7),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},inputs:{data:"data",tipo:"tipo",subTipo:"subTipo"},decls:62,vars:14,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-10","m-b-10"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary"],[2,"color","#003366"],[2,"color","#661421"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"responsive-table","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","unMed"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","serv"],["matColumnDef","origen"],["matColumnDef","destino"],["matColumnDef","canMin"],["matColumnDef","canMax"],["matColumnDef","precioCon"],["matColumnDef","impMin"],["matColumnDef","impMax"],["matColumnDef","EditarPro"],["matColumnDef","EliminarPro"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-sort-header",""],["mat-icon-button","","color","primary"],[1,"material-icons-outlined"],["mat-icon-button","","color","warn"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-card"),b["\u0275\u0275elementStart"](1,"mat-card-content"),b["\u0275\u0275elementStart"](2,"div",0),b["\u0275\u0275elementStart"](3,"div",1),b["\u0275\u0275elementStart"](4,"button",2),b["\u0275\u0275elementStart"](5,"mat-icon"),b["\u0275\u0275text"](6,"post_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," Agregar nuevo registro "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"div",1),b["\u0275\u0275elementStart"](9,"span",3),b["\u0275\u0275text"](10,"Total Agregado: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"strong"),b["\u0275\u0275elementStart"](12,"span",3),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"div",1),b["\u0275\u0275elementStart"](16,"span",4),b["\u0275\u0275text"](17,"Total Restante: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"strong"),b["\u0275\u0275elementStart"](19,"span",4),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"div",6),b["\u0275\u0275elementStart"](24,"div",7),b["\u0275\u0275elementStart"](25,"mat-table",8),b["\u0275\u0275elementContainerStart"](26,9),b["\u0275\u0275template"](27,fo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](28,ho,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](29,12),b["\u0275\u0275template"](30,xo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](31,go,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](32,13),b["\u0275\u0275template"](33,vo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](34,So,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](35,14),b["\u0275\u0275template"](36,Co,2,0,"mat-header-cell",10),b["\u0275\u0275template"](37,Eo,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](38,15),b["\u0275\u0275template"](39,bo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](40,yo,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](41,16),b["\u0275\u0275template"](42,_o,2,0,"mat-header-cell",10),b["\u0275\u0275template"](43,Io,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](44,17),b["\u0275\u0275template"](45,wo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](46,Fo,3,3,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](47,18),b["\u0275\u0275template"](48,Do,2,0,"mat-header-cell",10),b["\u0275\u0275template"](49,Vo,3,3,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](50,19),b["\u0275\u0275template"](51,Ao,2,0,"mat-header-cell",10),b["\u0275\u0275template"](52,ko,3,3,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](53,20),b["\u0275\u0275template"](54,No,2,0,"mat-header-cell",10),b["\u0275\u0275template"](55,Po,4,0,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](56,21),b["\u0275\u0275template"](57,Mo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](58,To,4,0,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](59,Ro,1,0,"mat-header-row",22),b["\u0275\u0275template"](60,Bo,1,0,"mat-row",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](61,"mat-paginator",24),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](13),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,10,t.MontoContratado)),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](21,12,t.data[0].MontoTotal-t.MontoContratado)),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("dataSource",t.dataSource),b["\u0275\u0275advance"](34),b["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[y.a8,y.dn,I.xw,I.Wh,I.yH,A.lW,k.Hw,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,d.NW,s.ge,C.nU,s.ev,s.XQ,s.Gk],pipes:[a.H9],styles:[""]}),e})();var qo=n(89074);let zo=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-equipo-medico"]],decls:2,vars:0,template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"p"),b["\u0275\u0275text"](1," equipo-medico works!\n"),b["\u0275\u0275elementEnd"]())},styles:[""]}),e})();function Lo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Unidad"),b["\u0275\u0275elementEnd"]())}function Oo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.unidadMed.DenominacionUni)}}function $o(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Especialidad"),b["\u0275\u0275elementEnd"]())}function Ho(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.descripcionServicio.especialidades.nombre)}}function Uo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Descripcion"),b["\u0275\u0275elementEnd"]())}function Wo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.descripcionServicio.descripcion)}}function Go(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Tipo"),b["\u0275\u0275elementEnd"]())}function Yo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.unidadMedida)}}function Qo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Precio"),b["\u0275\u0275elementEnd"]())}function Xo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](2,1,e.precioReferencia))}}function Ko(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Cantidad Max"),b["\u0275\u0275elementEnd"]())}function Zo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.estudiosMax,"")}}function Jo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Importe Max"),b["\u0275\u0275elementEnd"]())}function er(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,e.importeMax),"")}}function tr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Editar"),b["\u0275\u0275elementEnd"]())}function nr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",24),b["\u0275\u0275elementStart"](2,"mat-icon",25),b["\u0275\u0275text"](3,"edit"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]())}function ar(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",23),b["\u0275\u0275text"](1,"Eliminar "),b["\u0275\u0275elementEnd"]())}function or(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275elementStart"](1,"button",26),b["\u0275\u0275elementStart"](2,"mat-icon",25),b["\u0275\u0275text"](3,"delete"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]())}function rr(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function lr(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}let ir=(()=>{class e{constructor(e){this._conceptos=e,this.MontoContratado=0,this.displayedColumns=["unMed","especialidad","descripcion","unidadMedida","precioCon","canMax","impMax","EditarPro","EliminarPro"],this.tamanioPagina=15,this.tamanios=[15,30,45],this.totalRegistros=0,this.paginaActual=1}ngOnInit(){console.log("2232323",this.data),this.consultarConceptos(),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(e=>{e&&(this.paginaActual=e.pageIndex+1,this.tamanioPagina=e.pageSize,this.consultarConceptos())})}consultarConceptos(){const e=this.data[0].NumeroContrato,t=null!==this.tipo?this.tipo:"",n=null!==this.subTipo?this.subTipo:"";console.log("sdfsdf-*-***",t,n),this._conceptos.ConsultarConceptos(e,t,n,this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(e=>{console.log(e.Data),this.dataSource=new s.by,this.dataSource.data=e.Data.registros.map(e=>e.estudiosLaboratorio)[0],this.MontoContratado=e.Data.total,this.totalRegistros=e.Data.numReg,console.log(this.dataSource)})}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](St.h))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-estudios-laboratorio"]],viewQuery:function(e,t){if(1&e&&b["\u0275\u0275viewQuery"](d.NW,7),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},inputs:{data:"data",tipo:"tipo",subTipo:"subTipo"},decls:56,vars:14,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-10","m-b-10"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary"],[2,"color","#003366"],[2,"color","#661421"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"responsive-table","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","unMed"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","especialidad"],["matColumnDef","descripcion"],["matColumnDef","unidadMedida"],["matColumnDef","precioCon"],["matColumnDef","canMax"],["matColumnDef","impMax"],["matColumnDef","EditarPro"],["matColumnDef","EliminarPro"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-sort-header",""],["mat-icon-button","","color","primary"],[1,"material-icons-outlined"],["mat-icon-button","","color","warn"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-card"),b["\u0275\u0275elementStart"](1,"mat-card-content"),b["\u0275\u0275elementStart"](2,"div",0),b["\u0275\u0275elementStart"](3,"div",1),b["\u0275\u0275elementStart"](4,"button",2),b["\u0275\u0275elementStart"](5,"mat-icon"),b["\u0275\u0275text"](6,"post_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," Agregar nuevo registro "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"div",1),b["\u0275\u0275elementStart"](9,"span",3),b["\u0275\u0275text"](10,"Total Agregado: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"strong"),b["\u0275\u0275elementStart"](12,"span",3),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"div",1),b["\u0275\u0275elementStart"](16,"span",4),b["\u0275\u0275text"](17,"Total Restante: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"strong"),b["\u0275\u0275elementStart"](19,"span",4),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"div",6),b["\u0275\u0275elementStart"](24,"div",7),b["\u0275\u0275elementStart"](25,"mat-table",8),b["\u0275\u0275elementContainerStart"](26,9),b["\u0275\u0275template"](27,Lo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](28,Oo,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](29,12),b["\u0275\u0275template"](30,$o,2,0,"mat-header-cell",10),b["\u0275\u0275template"](31,Ho,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](32,13),b["\u0275\u0275template"](33,Uo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](34,Wo,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](35,14),b["\u0275\u0275template"](36,Go,2,0,"mat-header-cell",10),b["\u0275\u0275template"](37,Yo,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](38,15),b["\u0275\u0275template"](39,Qo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](40,Xo,3,3,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](41,16),b["\u0275\u0275template"](42,Ko,2,0,"mat-header-cell",10),b["\u0275\u0275template"](43,Zo,2,1,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](44,17),b["\u0275\u0275template"](45,Jo,2,0,"mat-header-cell",10),b["\u0275\u0275template"](46,er,3,3,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](47,18),b["\u0275\u0275template"](48,tr,2,0,"mat-header-cell",10),b["\u0275\u0275template"](49,nr,4,0,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](50,19),b["\u0275\u0275template"](51,ar,2,0,"mat-header-cell",10),b["\u0275\u0275template"](52,or,4,0,"mat-cell",11),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](53,rr,1,0,"mat-header-row",20),b["\u0275\u0275template"](54,lr,1,0,"mat-row",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](55,"mat-paginator",22),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](13),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,10,t.MontoContratado)),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](21,12,t.data[0].MontoTotal-t.MontoContratado)),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("dataSource",t.dataSource),b["\u0275\u0275advance"](28),b["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[y.a8,y.dn,I.xw,I.Wh,I.yH,A.lW,k.Hw,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,d.NW,s.ge,C.nU,s.ev,s.XQ,s.Gk],pipes:[a.H9],styles:[""]}),e})();var cr=n(44112);const mr=["conceptos"];function sr(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"a",11),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](e);const t=b["\u0275\u0275nextContext"](2);return t.openDialogDetalleProveedor(t.contrato[0].Proveedor)}),b["\u0275\u0275elementStart"](1,"h3",12),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3,"Proveedor: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"u"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](e.contrato[0].Proveedor.NombreEmpresa)}}function dr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"h4",28),b["\u0275\u0275elementStart"](1,"strong",29),b["\u0275\u0275text"](2,"Representante Legal: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"u"),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.representante.NombreCompleto)}}function pr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"strong"),b["\u0275\u0275text"](2,"Procedimiento: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](e.contrato[0].ProcedContratacion)}}function ur(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",23),b["\u0275\u0275elementStart"](1,"a",11),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"](3).openDialogContacto()}),b["\u0275\u0275template"](2,dr,5,1,"h4",24),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"h4",25),b["\u0275\u0275elementStart"](4,"strong"),b["\u0275\u0275text"](5,"Monto Total (Sin IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"h4",25),b["\u0275\u0275elementStart"](9,"strong"),b["\u0275\u0275text"](10,"Monto Total (Con IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](11),b["\u0275\u0275pipe"](12,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",26),b["\u0275\u0275template"](14,pr,4,1,"span",27),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",e.representante),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](7,4,e.contrato[0].MontoTotal)),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](12,6,1.16*e.contrato[0].MontoTotal)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",e.contrato)}}function fr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",26),b["\u0275\u0275elementStart"](1,"span"),b["\u0275\u0275elementStart"](2,"strong"),b["\u0275\u0275text"](3,"Fecha Inicio: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"span"),b["\u0275\u0275elementStart"](6,"strong"),b["\u0275\u0275text"](7,"Fecha Fin: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"span"),b["\u0275\u0275elementStart"](10,"strong"),b["\u0275\u0275text"](11,"Tipo Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"span"),b["\u0275\u0275elementStart"](14,"strong"),b["\u0275\u0275text"](15,"Fecha Fallo: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.contrato[0].InicioContrato),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.contrato[0].FinContrato),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.contrato[0].TipoContrato.Tipo),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.contrato[0].FechaFallo)}}function hr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",30),b["\u0275\u0275text"](1,"error_outline"),b["\u0275\u0275elementEnd"]())}function xr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",31),b["\u0275\u0275text"](1,"check_circle_outline"),b["\u0275\u0275elementEnd"]())}function gr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",30),b["\u0275\u0275text"](1,"error_outline"),b["\u0275\u0275elementEnd"]())}function vr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",31),b["\u0275\u0275text"](1,"check_circle_outline"),b["\u0275\u0275elementEnd"]())}function Sr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",30),b["\u0275\u0275text"](1,"error_outline"),b["\u0275\u0275elementEnd"]())}function Cr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",31),b["\u0275\u0275text"](1,"check_circle_outline"),b["\u0275\u0275elementEnd"]())}function Er(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",30),b["\u0275\u0275text"](1,"error_outline"),b["\u0275\u0275elementEnd"]())}function br(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-icon",31),b["\u0275\u0275text"](1,"check_circle_outline"),b["\u0275\u0275elementEnd"]())}function yr(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",3),b["\u0275\u0275template"](1,ur,15,8,"div",13),b["\u0275\u0275elementStart"](2,"div",14),b["\u0275\u0275template"](3,fr,17,4,"div",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"div",16),b["\u0275\u0275elementStart"](5,"div",17),b["\u0275\u0275template"](6,hr,2,0,"mat-icon",18),b["\u0275\u0275template"](7,xr,2,0,"mat-icon",19),b["\u0275\u0275elementStart"](8,"button",20),b["\u0275\u0275text"](9,"Penas Convencionales"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",17),b["\u0275\u0275template"](11,gr,2,0,"mat-icon",18),b["\u0275\u0275template"](12,vr,2,0,"mat-icon",19),b["\u0275\u0275elementStart"](13,"button",21),b["\u0275\u0275text"](14,"Penas Deductivas"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"div",17),b["\u0275\u0275template"](16,Sr,2,0,"mat-icon",18),b["\u0275\u0275template"](17,Cr,2,0,"mat-icon",19),b["\u0275\u0275elementStart"](18,"button",21),b["\u0275\u0275text"](19,"Administradores"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275template"](21,Er,2,0,"mat-icon",18),b["\u0275\u0275template"](22,br,2,0,"mat-icon",19),b["\u0275\u0275elementStart"](23,"button",22),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"](2).abrirFianza()}),b["\u0275\u0275text"](24,"Fianza"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.contrato),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",e.contrato),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",!e.estado_convencionales),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.estado_convencionales),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",!e.estado_deductivas),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.estado_deductivas),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",!e.estado_administradores),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.estado_administradores),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",!e.estado_fianza),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.estado_fianza)}}function _r(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",36),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275property"]("value",e.Id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.SubTipo," ")}}function Ir(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",32),b["\u0275\u0275elementStart"](1,"mat-form-field",33),b["\u0275\u0275elementStart"](2,"mat-label"),b["\u0275\u0275text"](3,"Selecciona"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-select"),b["\u0275\u0275template"](5,_r,2,2,"mat-option",34),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-hint",35),b["\u0275\u0275text"](7,"Selecciona el tipo de servicio subrrogado al cual pertenece este contrato "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngForOf",e.lista_sub_tipos)}}function wr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-card-content",2),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"h3",5),b["\u0275\u0275elementStart"](4,"strong"),b["\u0275\u0275text"](5,"Contrato: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](7,sr,6,1,"a",6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](8,"div",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](9,yr,25,10,"div",8),b["\u0275\u0275elementStart"](10,"div",9),b["\u0275\u0275template"](11,Ir,8,1,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"]("",e.contrato_id," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.contrato),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!e.btn_agregar),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!e.sub_tipo_contr)}}let Fr=(()=>{class e{constructor(e,t,n,a,o,r,l,i,c,m,s,d,p){this._route=e,this._contrato=t,this.router=n,this._conceptos=a,this.dialog=o,this._representante=r,this._activar_btn_cancelar=l,this._penas=i,this._fianza=c,this._administrador=m,this._sub_tipo=s,this._sub_tipo_contrato=d,this.resolver=p,this.contrato=[],this.btn_agregar=!1,this.displayedColumns=["id_prei","clave_cuadro","descripcion_prei","marca","modelo","fecha_max","precio","distribucion","EditarPro","EliminarPro"],this.lista_sub_tipos=[],this.tipo_contrato=""}ngOnInit(){this.contrato_id=this._route.snapshot.paramMap.get("contrato_id"),this.consultarContrato(),this._activar_btn_cancelar.setEstadoBtn(!0),this._activar_btn_cancelar.setRuta("/contratos/administrar"),this.consultarRepresentante(),this.consultarPenasDeductivas(),this.consultarPenasConvencionales(),this.consultarAdministradores(),this.consultarFianza()}ngOnDestroy(){this._activar_btn_cancelar.setEstadoBtn(!1),this._activar_btn_cancelar.setRuta("/inicio")}crearComponente(e){switch(e){case"5f587535d7be0a74bf7db093":const e=this.resolver.resolveComponentFactory(jo);this.componentRef=this.container.createComponent(e),this.componentRef.instance.data=this.contrato,this.componentRef.instance.tipo=this.tipo_contrato,this.componentRef.instance.subTipo=this.sub_tipo_contr.SubTipoId,console.log("It is a Sunday.");break;case"5f323c89d7be0a421a2305ff":const t=this.resolver.resolveComponentFactory(zo);this.componentRef=this.container.createComponent(t);break;case"5f587730d7be0a790dbbbe60":const n=this.resolver.resolveComponentFactory(ir);this.componentRef=this.container.createComponent(n),this.componentRef.instance.data=this.contrato,this.componentRef.instance.tipo=this.tipo_contrato,this.componentRef.instance.subTipo=this.sub_tipo_contr.SubTipoId;break;default:console.log("No such day exists!")}}consultarSubTipo(e){this._sub_tipo.ConsultaSubTipo(e).subscribe(t=>{this.lista_sub_tipos=t.Data,this.lista_sub_tipos.length>0?(console.log("Si hay registros"),e="",this.consultarSubTipoContrato(this.contrato[0].NumeroContrato)):this.crearComponente(e)},e=>{""===e.error&&void 0===e.error||console.log(e.error)})}consultarSubTipoContrato(e){this._sub_tipo_contrato.ConsultaSubTipoContrato(e).subscribe(e=>{this.sub_tipo_contr=e.Data,console.log(this.sub_tipo_contr),this.crearComponente(this.sub_tipo_contr.SubTipoId)},e=>{""===e.error&&void 0===e.error||console.log(e.error)})}consultarPenasDeductivas(){this._penas.ConsultarPenaDeductiva(this.contrato_id).subscribe(e=>{this.estado_deductivas=e.Data.estado})}consultarAdministradores(){this._administrador.ConsultarAdministradores(this.contrato_id).subscribe(e=>{this.estado_administradores=e.Data.estado})}consultarFianza(){this._fianza.Consultarfianza(this.contrato_id).subscribe(e=>{this.estado_fianza=e.Data.estado},e=>{""===e.error&&void 0===e.error||(this.estado_fianza=e.error.Data.estado)})}consultarPenasConvencionales(){this._penas.ConsultarPenaConvencional(this.contrato_id).subscribe(e=>{this.estado_convencionales=e.Data.estado},e=>{""===e.error&&void 0===e.error||(this.estado_convencionales=e.error.Data.estado)})}consultarRepresentante(){this._representante.ConsultaRepresentante(this.contrato_id).subscribe(e=>{this.representante=e.Data})}consultarContrato(){this._contrato.ConsultarContratos(this.contrato_id,"","","","","","","","","").subscribe(e=>{this.contrato=e.Data.registros,console.log("Este es el contrato",this.contrato),this.tipo_contrato=this.contrato[0].TipoContratoId,this.consultarSubTipo(this.contrato[0].TipoContratoId)})}regresaDescripcion(e){return e.split(".",1).toString()}estadoDistribucion(e){return 0===e.CantidadDistribuida?"#c42534":e.CantidadDistribuida===e.CantidadConcepto?"#18903f":e.CantidadDistribuida<e.CantidadConcepto?"#d4782c":void 0}openDialogDistribucion(e){this.dialog.open(ea,{height:"auto",width:"90%",disableClose:!0,data:{concepto:e,cantidad:0,archivo:!1}}).afterClosed().subscribe(e=>{})}openDialogActualizar(e){this.dialog.open(oo,{width:"90%",height:"auto",disableClose:!0,data:{conceptoEditar:e}}).afterClosed().subscribe(e=>{})}enviarRuta(){this.router.navigate(["/contratos/agregar",this.contrato_id])}openDialogDetalleProveedor(e){this.dialog.open(ce.Y,{height:"auto",width:"30%",disableClose:!1,data:{proveedor:e}}).afterClosed().subscribe(e=>{})}openDialogContacto(){this.dialog.open(mo,{width:"65%",height:"auto",disableClose:!0,data:{n_contrato:this.contrato_id,representante:this.representante}}).afterClosed().subscribe(e=>{})}EliminarConcepto(e){h().fire({title:"Eliminar",text:"Estas seguro que deseas eliminar este concepto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.value&&this._conceptos.EliminarConcepto(e).subscribe(e=>{h().fire("Correcto",e.Mensaje,"success")},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}abrirFianza(){this.router.navigate(["/contratos/fianza",this.contrato_id])}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](o.gz),b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](o.F0),b["\u0275\u0275directiveInject"](St.h),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](bt.i),b["\u0275\u0275directiveInject"](cr.R),b["\u0275\u0275directiveInject"](so.x),b["\u0275\u0275directiveInject"](po.n),b["\u0275\u0275directiveInject"](uo.p),b["\u0275\u0275directiveInject"](Kt.O),b["\u0275\u0275directiveInject"](qo.J),b["\u0275\u0275directiveInject"](b.ComponentFactoryResolver))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-detalle-contrato"]],viewQuery:function(e,t){if(1&e&&b["\u0275\u0275viewQuery"](mr,5,b.ViewContainerRef),2&e){let e;b["\u0275\u0275queryRefresh"](e=b["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},decls:4,vars:1,consts:[["class","p-t-0",4,"ngIf"],["conceptos",""],[1,"p-t-0"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","70","fxFlex.gt-xs","100","fxFlex","100",1,"mb-1"],[1,"m-0",2,"color","#be1b14"],[3,"routerLink","click",4,"ngIf"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100","align","end",1,"mb-1"],["fxLayout","row wrap","fxLayoutAlign","space-between center",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-10","m-b-10"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],[3,"routerLink","click"],[1,"m-0",2,"color","#003366"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100",1,"text-left"],["fxLayout","column",4,"ngIf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100",2,"border-width","1px","border-color","darkgreen"],[1,"m-b-5"],["color","warn",4,"ngIf"],["color","primary",4,"ngIf"],["mat-raised-button","","color","accent",2,"padding-left","5px"],["mat-raised-button","","color","accent"],["mat-raised-button","","color","accent",3,"click"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100"],["class","m-0",4,"ngIf"],[1,"text-danger","m-0"],["fxLayout","column"],[4,"ngIf"],[1,"m-0"],[2,"color","#000"],["color","warn"],["color","primary"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["style","font-size: 14px",3,"value",4,"ngFor","ngForOf"],[2,"color","#661421"],[2,"font-size","14px",3,"value"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-card"),b["\u0275\u0275template"](1,wr,12,4,"mat-card-content",0),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](2,"template",null,1)),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.contrato.length>0))},directives:[y.a8,a.O5,y.dn,I.xw,I.Wh,I.yH,o.yS,A.lW,k.Hw,w.KE,w.hX,ke.gD,a.sg,w.bx,v.ey],pipes:[a.H9],styles:[".soloNumeros[_ngcontent-%COMP%]{text-align:left}input.soloNumeros[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.soloNumeros[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}input.soloNumeros[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})();var Dr=n(18240);function Vr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-card",7),b["\u0275\u0275elementStart"](1,"mat-card-content"),b["\u0275\u0275elementStart"](2,"h3",8),b["\u0275\u0275elementStart"](3,"strong"),b["\u0275\u0275text"](4,"Clave Cuadro Basico: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"h3",9),b["\u0275\u0275elementStart"](7,"strong"),b["\u0275\u0275text"](8,"Clave PREI: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"h3",10),b["\u0275\u0275elementStart"](11,"strong"),b["\u0275\u0275text"](12,"Descripcion: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"h3",11),b["\u0275\u0275elementStart"](15,"strong"),b["\u0275\u0275text"](16,"Objeto de contratacion: "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](e.claveCuadro),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.clave.IdArticulo),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("",e.regresaDescripcion(e.clave.Descripcion),"."),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](e.clave.CuadroBasico.Grupo)}}function Ar(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-card",12),b["\u0275\u0275elementStart"](1,"div"),b["\u0275\u0275elementStart"](2,"h3",13),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"mat-card-content"),b["\u0275\u0275elementStart"](5,"div",14),b["\u0275\u0275elementStart"](6,"div",15),b["\u0275\u0275element"](7,"img",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"]("No se ecnontro este ID PREI: ",e.data.id_prei,"")}}function kr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",17),b["\u0275\u0275text"](1,"Seleccionar "),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("mat-dialog-close",e.clave)}}let Nr=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this.data=t,this._prei=n,this.id_prei="",this.claveCuadro="",this.error=!1}ngOnInit(){this.id_prei=this.data.id_prei,this._prei.getClavePrei("",this.id_prei).subscribe(e=>{this.clave=e.Data,this.claveCuadro=this.clave.Grupo+"."+this.clave.Generico+"."+this.clave.Especifico+"."+this.clave.Diferenciador+"."+this.clave.Variable},e=>{this.error=!0})}onNoClick(){this.dialogRef.close(!1)}regresaDescripcion(e){return e.split(".",1).toString()}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](u.so),b["\u0275\u0275directiveInject"](u.WI),b["\u0275\u0275directiveInject"](Dr.X))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-conceptos-contrato"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","oh text-left little-profile",4,"ngIf"],["class","oh text-center little-profile",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close",4,"ngIf"],[1,"oh","text-left","little-profile"],[1,"m-b-0",2,"color","#003366"],[1,"m-b-0","m-t-0",2,"color","#003366"],[1,"m-t-0","m-t-10"],[1,"m-t-10","m-b-10"],[1,"oh","text-center","little-profile"],[1,"m-b-0","font-bold",2,"color","#661421"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100",1,"col-md-4"],["src","../../../../assets/images/background/errorNot.png","alt","",1,"img-responsive",2,"overflow","hidden"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h1",0),b["\u0275\u0275text"](1,"Equipo Contratado"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275template"](3,Vr,18,4,"mat-card",2),b["\u0275\u0275template"](4,Ar,8,1,"mat-card",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"button",5),b["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),b["\u0275\u0275text"](7,"Cancelar"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,kr,2,1,"button",6),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.clave),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.error),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.clave))},directives:[u.uh,u.xY,a.O5,u.H8,A.lW,y.a8,y.dn,I.xw,I.Wh,I.yH,u.ZT],styles:[""]}),e})();function Pr(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",42),b["\u0275\u0275elementStart"](1,"mat-icon",43),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().openDialogAgregarConcepto()}),b["\u0275\u0275text"](2,"search"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Mr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",44),b["\u0275\u0275text"](1,"Solo numeros. "),b["\u0275\u0275elementEnd"]())}function Tr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"small",44),b["\u0275\u0275text"](1,"Solo numeros. "),b["\u0275\u0275elementEnd"]())}function Rr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Id Prei"),b["\u0275\u0275elementEnd"]())}function Br(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.PreiIdArticulo)}}function jr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Clave Cuadro"),b["\u0275\u0275elementEnd"]())}function qr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate5"](" ",e.Prei.Grupo,".",e.Prei.Generico,".",e.Prei.Especifico,".",e.Prei.Diferenciador," .",e.Prei.Variable," ")}}function zr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Descripcion"),b["\u0275\u0275elementEnd"]())}function Lr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.regresaDescripcion(e.Prei.Descripcion))}}function Or(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Marca"),b["\u0275\u0275elementEnd"]())}function $r(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](e.Marca)}}function Hr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Modelo"),b["\u0275\u0275elementEnd"]())}function Ur(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.Modelo,"")}}function Wr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Fecha de Entrega"),b["\u0275\u0275elementEnd"]())}function Gr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",e.FechaMaxEntrega,"")}}function Yr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-header-cell",45),b["\u0275\u0275text"](1,"Precio"),b["\u0275\u0275elementEnd"]())}function Qr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-cell"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"currency"),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,e.PrecioUniSnIva),"")}}function Xr(e,t){1&e&&b["\u0275\u0275element"](0,"mat-header-row")}function Kr(e,t){1&e&&b["\u0275\u0275element"](0,"mat-row")}let Zr=(()=>{class e{constructor(e,t,n,a,o,r,l,i){this._route=e,this._contrato=t,this.dialog=n,this.fb=a,this.adapter=o,this._conceptos=r,this._activar_btn_cancelar=l,this.router=i,this.conceptos_contrato=[],this.conceptosAgregados=[],this.fechaMaxima="",this.contrato=[],this.descripcion="",this.datosArray=[],this.estadoDescripcion=!0,this.displayedColumns=["id_prei","clave_cuadro","descripcion_prei","marca","modelo","fecha_max","precio"],this.configuraciones={columns:{PreiIdArticulo:{title:"Id PREI",filter:!0,width:"10%"},Descripcion:{title:"Descripcion",filter:!0,width:"40%"},Marca:{title:"Marca",filter:!0,width:"20%"},Modelo:{title:"Modelo",filter:!0,width:"20%"},CantidadConcepto:{title:"Cantidad",filter:!0,width:"10%"}},mode:"external",actions:{add:!1,edit:!1,delete:!1,custom:[{name:"delete",title:'<i class="material-icons text-danger">delete</i>'},{name:"edit",title:'<i class="material-icons text-info">edit</i>'}]},noDataMessage:"Sin Equipos por incluir"},this.adapter.setLocale("es-mx")}ngOnInit(){this.contrato_id=this._route.snapshot.paramMap.get("contrato_id"),this.crear_formulario_conceptos(),this.consultarContrato(),this._activar_btn_cancelar.setEstadoBtn(!0),this._activar_btn_cancelar.setRuta("/contratos/detalle/"+this.contrato_id)}consultarContrato(){this._contrato.ConsultarContratos(this.contrato_id,"","","","","","","","","").subscribe(e=>{console.log(e.Data),this.contrato=e.Data.registros,this.consultarConceptos()})}consultarConceptos(){const e=this.contrato[0].NumeroContrato;console.log(e),this._conceptos.ConsultarConceptosContrato(e).subscribe(e=>{console.log(e.Data),this.conceptosAgregados=e.Data.registros,this.dataSource=new s.by,this.dataSource.data=e.Data.registros,this.MontoContratado=e.Data.total,this.MontoRestante=this.contrato[0].MontoTotal-this.MontoContratado})}crear_formulario_conceptos(){this.formulario_conceptos=this.fb.group({PrecioUniSnIva:[null,i.Validators.compose([i.Validators.required])],CantidadConcepto:[null,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],Marca:[null,i.Validators.compose([i.Validators.required])],Modelo:[null,i.Validators.compose([i.Validators.required])],FechaMaxEntrega:[null,i.Validators.compose([i.Validators.required])],GarantiaBienes:[null,i.Validators.compose([i.Validators.required,i.Validators.pattern("^([0-9])*$")])],PreiIdArticulo:[null,i.Validators.compose([i.Validators.required])]})}openDialogAgregarConcepto(){const e=this.formulario_conceptos.controls.PreiIdArticulo.value;null!==e&&(this.verificarClaveRepetida(e)?h().fire({title:"Oops...",text:"Esta clave ya esta agregada",icon:"error"}):this.dialog.open(Nr,{height:"auto",width:"70%",disableClose:!0,data:{id_prei:e}}).afterClosed().subscribe(e=>{e&&(this.descripcion=e.Descripcion,this.estadoDescripcion=!1,this.clave_seleccionada=e)}))}verificarClaveRepetida(e){return-1!==this.conceptosAgregados.findIndex(t=>t.PreiIdArticulo===e)||-1!==this.conceptos_contrato.findIndex(t=>t.PreiIdArticulo===e)}agregarConceptos(){const e=this.contrato[0].NumeroContrato;this.conceptoFinal={ConceptoContrato:this.conceptos_contrato},console.log(this.conceptoFinal),h().fire({title:"Estas Seguro",text:"Deseas agregar estos equipos",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si ,agregar"}).then(t=>{t.value&&this._conceptos.AgregarConceptoContrato(this.conceptoFinal,e).subscribe(e=>{h().fire({position:"center",title:"Correcto",text:e.Mensaje,icon:"success",showConfirmButton:!0}),this.router.navigate(["/contratos/detalle",this.contrato_id])},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;console.log(t.Data),h().fire({position:"center",title:"Id Prei: "+t.Data.PreiIdArticulo,text:this.regresaDescripcion(t.Data.Prei.Descripcion),footer:t.Mensaje,icon:"error",showConfirmButton:!0})}console.log(e.error)})})}eliminarConceptoArray(e){const t=this.datosArray.indexOf(e.data);console.log(t),this.datosArray.splice(t,1)}onCustomAction(e){switch(e.action){case"delete":this.eliminarConceptoArray(e);break;case"edit":console.log("editar")}}valorFecha(e){console.log(this.fechaMaxima)}AgregarItemArray(){const e=this.formulario_conceptos.getRawValue();console.log("datos",e);const t=e.PrecioUniSnIva*e.CantidadConcepto;if(console.log(t,"-",this.MontoRestante),t<=this.MontoRestante){console.log("datos despues del if",e),e.Descripcion=this.regresaDescripcion(this.clave_seleccionada.Descripcion),e.Prei=this.clave_seleccionada,e.Fecha=this.fechaMaxima,this.datosArray.push(e);const t={PrecioUniSnIva:e.PrecioUniSnIva,CantidadConcepto:e.CantidadConcepto,Marca:e.Marca,Modelo:e.Modelo,ObjetoContratacion:e.Prei.CuadroBasico.Grupo,FechaMaxEntrega:e.Fecha,GarantiaBienes:e.GarantiaBienes,PreiIdArticulo:e.PreiIdArticulo};console.log(t),this.MontoContratado=this.MontoContratado+t.CantidadConcepto*t.PrecioUniSnIva,this.conceptos_contrato.push(t),this.formulario_conceptos.reset(),this.descripcion="",this.estadoDescripcion=!0,this.MontoRestante=this.contrato[0].MontoTotal-this.MontoContratado}else h().fire({title:"Oops...",text:"No se puede agregar esta cantidad superas el limite de monto contratado",icon:"error"})}regresaDescripcion(e){return e.split(".",1).toString()}estaVacioArreglo(){return this.datosArray.length<=0}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](o.gz),b["\u0275\u0275directiveInject"](p.d),b["\u0275\u0275directiveInject"](u.uw),b["\u0275\u0275directiveInject"](i.FormBuilder),b["\u0275\u0275directiveInject"](v._A),b["\u0275\u0275directiveInject"](St.h),b["\u0275\u0275directiveInject"](cr.R),b["\u0275\u0275directiveInject"](o.F0))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-conceptos-contrato"]],features:[b["\u0275\u0275ProvidersFeature"]([{provide:v.Ad,useValue:"ja-JP"},{provide:v._A,useClass:S.t7,deps:[v.Ad]},{provide:v.sG,useValue:S.$o}])],decls:102,vars:16,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","13","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","formControlName","PreiIdArticulo","autocomplete","off","placeholder","ID SIN CEROS",3,"keyup.enter"],["fxFlex.gt-sm","8","fxFlex.gt-xs","100","fxFlex","100"],["mat-icon-button","","matSuffix","","aria-label","buscar",4,"ngIf"],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","autocomplete","off","readonly","","placeholder","Marca del equipo",3,"value","click"],["fxFlex.gt-sm","22","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","formControlName","Marca","autocomplete","off","placeholder","Marca del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","Modelo","autocomplete","off","placeholder","Modelo del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","CantidadConcepto","type","number","autocomplete","off","placeholder","Cantidad contratada",1,"soloNumeros"],["class","text-danger support-text",4,"ngIf"],["matInput","","formControlName","PrecioUniSnIva","type","number","autocomplete","off","placeholder","Precio Unitario",1,"soloNumeros"],["matPrefix",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FechaMaxEntrega",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","formControlName","GarantiaBienes","type","number","autocomplete","off","placeholder","Numero de Meses",1,"soloNumeros"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm","35","fxFlex.gt-xs","100","fxFlex","100"],[2,"color","#661421"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["inset","",2,"background-color","#263238"],["align","center",2,"color","#661421"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","id_prei"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","clave_cuadro"],["matColumnDef","descripcion_prei"],["matColumnDef","marca"],["matColumnDef","modelo"],["matColumnDef","fecha_max"],["matColumnDef","precio"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-icon-button","","matSuffix","","aria-label","buscar"],[2,"color","#1e88e5",3,"click"],[1,"text-danger","support-text"],["mat-sort-header",""]],template:function(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-card"),b["\u0275\u0275elementStart"](1,"mat-card-content"),b["\u0275\u0275elementStart"](2,"form",0),b["\u0275\u0275elementStart"](3,"div",1),b["\u0275\u0275elementStart"](4,"div",2),b["\u0275\u0275elementStart"](5,"mat-form-field",3),b["\u0275\u0275elementStart"](6,"mat-label"),b["\u0275\u0275text"](7,"ID PREI"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"input",4),b["\u0275\u0275listener"]("keyup.enter",function(){return t.openDialogAgregarConcepto()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"div",5),b["\u0275\u0275template"](10,Pr,3,0,"button",6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",7),b["\u0275\u0275elementStart"](12,"mat-form-field",3),b["\u0275\u0275elementStart"](13,"mat-label"),b["\u0275\u0275text"](14,"Descripcion"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"input",8),b["\u0275\u0275listener"]("click",function(){return t.openDialogAgregarConcepto()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",9),b["\u0275\u0275elementStart"](17,"mat-form-field",3),b["\u0275\u0275elementStart"](18,"mat-label"),b["\u0275\u0275text"](19,"Marca"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](20,"input",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",9),b["\u0275\u0275elementStart"](22,"mat-form-field",3),b["\u0275\u0275elementStart"](23,"mat-label"),b["\u0275\u0275text"](24,"Modelo"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](25,"input",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",9),b["\u0275\u0275elementStart"](27,"mat-form-field",3),b["\u0275\u0275elementStart"](28,"mat-label"),b["\u0275\u0275text"](29,"Cantidad Contratada"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](30,"input",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](31,Mr,2,0,"small",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",9),b["\u0275\u0275elementStart"](33,"mat-form-field",3),b["\u0275\u0275elementStart"](34,"mat-label"),b["\u0275\u0275text"](35,"Precio Sin IVA"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](36,"input",14),b["\u0275\u0275elementStart"](37,"span",15),b["\u0275\u0275text"](38,"$\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"div",9),b["\u0275\u0275elementStart"](40,"mat-form-field",16),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275reference"](46).open()}),b["\u0275\u0275elementStart"](41,"mat-label"),b["\u0275\u0275text"](42,"Fecha Maxima de Entrega"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",17),b["\u0275\u0275listener"]("dateChange",function(e){return t.valorFecha(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](44,"mat-datepicker-toggle",18),b["\u0275\u0275element"](45,"mat-datepicker",19,20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"div",9),b["\u0275\u0275elementStart"](48,"mat-form-field",3),b["\u0275\u0275elementStart"](49,"mat-label"),b["\u0275\u0275text"](50,"Meses de garantia"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](51,"input",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](52,Tr,2,0,"small",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"div",1),b["\u0275\u0275elementStart"](54,"div",22),b["\u0275\u0275elementStart"](55,"button",23),b["\u0275\u0275listener"]("click",function(){return t.agregarConceptos()}),b["\u0275\u0275elementStart"](56,"mat-icon"),b["\u0275\u0275text"](57,"save"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](58," Finalizar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](59,"div",24),b["\u0275\u0275elementStart"](60,"span",25),b["\u0275\u0275text"](61,"Total Restante del contrato (SIN IVA): "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"strong"),b["\u0275\u0275elementStart"](63,"span",25),b["\u0275\u0275text"](64),b["\u0275\u0275pipe"](65,"currency"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"div",22),b["\u0275\u0275elementStart"](67,"button",23),b["\u0275\u0275listener"]("click",function(){return t.AgregarItemArray()}),b["\u0275\u0275elementStart"](68,"mat-icon"),b["\u0275\u0275text"](69,"playlist_add"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](70," Siguiente "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](71,"div",1),b["\u0275\u0275elementStart"](72,"div",1),b["\u0275\u0275elementStart"](73,"div",26),b["\u0275\u0275element"](74,"mat-divider",27),b["\u0275\u0275elementStart"](75,"h4",28),b["\u0275\u0275text"](76,"Lista de equipos ya incluidos en el contrato"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](77,"div",29),b["\u0275\u0275elementStart"](78,"mat-table",30),b["\u0275\u0275elementContainerStart"](79,31),b["\u0275\u0275template"](80,Rr,2,0,"mat-header-cell",32),b["\u0275\u0275template"](81,Br,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](82,34),b["\u0275\u0275template"](83,jr,2,0,"mat-header-cell",32),b["\u0275\u0275template"](84,qr,2,5,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](85,35),b["\u0275\u0275template"](86,zr,2,0,"mat-header-cell",32),b["\u0275\u0275template"](87,Lr,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](88,36),b["\u0275\u0275template"](89,Or,2,0,"mat-header-cell",32),b["\u0275\u0275template"](90,$r,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](91,37),b["\u0275\u0275template"](92,Hr,2,0,"mat-header-cell",32),b["\u0275\u0275template"](93,Ur,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](94,38),b["\u0275\u0275template"](95,Wr,2,0,"mat-header-cell",32),b["\u0275\u0275template"](96,Gr,2,1,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](97,39),b["\u0275\u0275template"](98,Yr,2,0,"mat-header-cell",32),b["\u0275\u0275template"](99,Qr,3,3,"mat-cell",33),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](100,Xr,1,0,"mat-header-row",40),b["\u0275\u0275template"](101,Kr,1,0,"mat-row",41),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275reference"](46);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("formGroup",t.formulario_conceptos),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.PreiIdArticulo.value),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("value",t.descripcion),b["\u0275\u0275advance"](16),b["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.CantidadConcepto.hasError("pattern")&&t.formulario_conceptos.controls.CantidadConcepto.touched),b["\u0275\u0275advance"](12),b["\u0275\u0275property"]("matDatepicker",e),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("for",e),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.GarantiaBienes.hasError("pattern")&&t.formulario_conceptos.controls.GarantiaBienes.touched),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("disabled",t.estaVacioArreglo()),b["\u0275\u0275advance"](9),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](65,14,t.MontoRestante)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("disabled",t.estadoDescripcion||t.formulario_conceptos.invalid),b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("dataSource",t.dataSource),b["\u0275\u0275advance"](22),b["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns)}},directives:[y.a8,y.dn,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,F.Nt,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,a.O5,i.NumberValueAccessor,w.qo,Ae.hl,Ae.nW,w.R9,Ae.Mq,A.lW,k.Hw,_t.d,s.BZ,C.YE,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,C.nU,s.ev,s.XQ,s.Gk],pipes:[a.H9],styles:[""]}),e})();function Jr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"form",6),b["\u0275\u0275elementStart"](1,"div",7),b["\u0275\u0275elementStart"](2,"div",8),b["\u0275\u0275elementStart"](3,"mat-form-field",9),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Tipo de Fianza"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",10),b["\u0275\u0275elementStart"](7,"mat-option",11),b["\u0275\u0275text"](8,"Afianzadora"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"mat-option",12),b["\u0275\u0275text"](10,"Cheque"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",8),b["\u0275\u0275elementStart"](12,"mat-form-field",9),b["\u0275\u0275elementStart"](13,"mat-label"),b["\u0275\u0275text"](14,"Afianzadora / Cheque"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](15,"input",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",8),b["\u0275\u0275elementStart"](17,"mat-form-field",9),b["\u0275\u0275elementStart"](18,"mat-label"),b["\u0275\u0275text"](19,"Numero Poliza / Cheque"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](20,"input",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",8),b["\u0275\u0275elementStart"](22,"mat-form-field",9),b["\u0275\u0275elementStart"](23,"mat-label"),b["\u0275\u0275text"](24,"Monto de la Fianza"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](25,"input",15),b["\u0275\u0275elementStart"](26,"span",16),b["\u0275\u0275text"](27,"$\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("formGroup",e.formulario_fianza)}}function el(e,t){if(1&e){const e=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",17),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](e),b["\u0275\u0275nextContext"]().agregarFianza()}),b["\u0275\u0275text"](1," Agregar "),b["\u0275\u0275elementEnd"]()}if(2&e){const e=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("disabled",e.formulario_fianza.invalid)}}let tl=(()=>{class e{constructor(e,t,n,a){this._ruta=e,this._fianza=t,this._route=n,this.fb=a}ngOnInit(){this._route.params.subscribe(e=>{this.numero_contrato=e.numero_contrato,this.consultarFianza(),this.crearFormulario()})}crearFormulario(){this.formulario_fianza=this.fb.group({Afianzadora:["",i.Validators.compose([i.Validators.required])],NumPoliza:["",i.Validators.compose([i.Validators.required])],Tipo:["",i.Validators.compose([i.Validators.required])],MontoFianza:["",i.Validators.compose([i.Validators.required])]})}consultarFianza(){this._fianza.Consultarfianza(this.numero_contrato).subscribe(e=>{this.estado_fianza=e.Data.estado,console.log(e.Data.datos);const t=e.Data.datos;this.formulario_fianza.controls.Afianzadora.setValue(t.Afianzadora),this.formulario_fianza.controls.NumPoliza.setValue(t.NumPoliza),this.formulario_fianza.controls.Tipo.setValue(t.Tipo),this.formulario_fianza.controls.MontoFianza.setValue(t.MontoFianza),this.formulario_fianza.disable()},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;console.log(t),this.estado_fianza=t.Data.estado}})}agregarFianza(){console.log(this.formulario_fianza.value),h().fire({title:"Confirmaci\xf3n",text:"\xbfEstas seguro de agregar estos datos?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si",cancelButtonText:"Cancelar",reverseButtons:!0}).then(e=>{e.value&&this._fianza.AgregarFianza(this.numero_contrato,this.formulario_fianza.value).subscribe(e=>{h().fire("Agregado",e.Mensaje,"success"),this._ruta.back()},e=>{if(""!==e.error||void 0!==e.error){const t=e.error;h().fire("Error",t.Mensaje,"error")}})})}regresar(){this._ruta.back()}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](a.Ye),b["\u0275\u0275directiveInject"](po.n),b["\u0275\u0275directiveInject"](o.gz),b["\u0275\u0275directiveInject"](i.FormBuilder))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-fianza"]],decls:12,vars:2,consts:[["mat-icon-button","","color","warn",3,"click"],["aria-label","regresar"],["align","center"],[3,"formGroup",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary","class","margenBoton",3,"disabled","click",4,"ngIf"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-20"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["formControlName","Tipo","required",""],["value","Afianzadora"],["value","Cheque"],["matInput","","placeholder","Afianzadora o Cheque","formControlName","Afianzadora","autocomplete","off","required",""],["matInput","","placeholder","Numero de poliza o Cheque","formControlName","NumPoliza","autocomplete","off","required",""],["matInput","","placeholder","Monto de Fianza","type","number","autocomplete","off","formControlName","MontoFianza","required","",1,"example-right-align"],["matPrefix",""],["mat-raised-button","","color","primary",1,"margenBoton",3,"disabled","click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"mat-card"),b["\u0275\u0275elementStart"](1,"mat-card-header"),b["\u0275\u0275elementStart"](2,"button",0),b["\u0275\u0275listener"]("click",function(){return t.regresar()}),b["\u0275\u0275elementStart"](3,"mat-icon",1),b["\u0275\u0275text"](4,"keyboard_return"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](5," Regresar "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-card-title",2),b["\u0275\u0275text"](7,"Fianza"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"mat-card-content"),b["\u0275\u0275template"](9,Jr,28,1,"form",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"mat-card-actions",4),b["\u0275\u0275template"](11,el,2,1,"button",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](9),b["\u0275\u0275property"]("ngIf",t.numero_contrato),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!t.estado_fianza))},directives:[y.a8,y.dk,A.lW,k.Hw,y.n5,y.dn,a.O5,y.hq,i["\u0275NgNoValidate"],i.NgControlStatusGroup,i.FormGroupDirective,I.xw,I.Wh,I.yH,w.KE,w.hX,ke.gD,i.NgControlStatus,i.FormControlName,i.RequiredValidator,v.ey,F.Nt,i.DefaultValueAccessor,i.NumberValueAccessor,w.qo],styles:["mat-card-header[_ngcontent-%COMP%]{padding:0!important}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}.margenBoton[_ngcontent-%COMP%]{margin-bottom:8px!important;margin-right:8px!important}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})(),nl=(()=>{class e{constructor(e){this._router=e,this.permisos=[]}canActivate(){return this.havePermision()}havePermision(){return this.permisos=JSON.parse(localStorage.getItem("permisos")),0!==this.permisos.filter(e=>"Administrador de contratos"===e).length}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](o.F0))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const al=[{path:"",children:[{path:"administrar",component:Ja},{path:"seguimiento",component:eo},{path:"detalle/:contrato_id",component:Fr},{path:"agregar/:contrato_id",component:Zr},{path:"agregar/contrato:numero_contrato",component:$t},{path:"fianza/:numero_contrato",component:tl,canActivate:[nl]},{path:"fianza",component:tl,canActivate:[nl]}],canActivate:[m.a]}];let ol=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=b["\u0275\u0275defineInjector"]({imports:[[a.ez,r.q,o.Bz.forChild(al),l.m,i.FormsModule,i.ReactiveFormsModule,c.o9]]}),e})()}}]);