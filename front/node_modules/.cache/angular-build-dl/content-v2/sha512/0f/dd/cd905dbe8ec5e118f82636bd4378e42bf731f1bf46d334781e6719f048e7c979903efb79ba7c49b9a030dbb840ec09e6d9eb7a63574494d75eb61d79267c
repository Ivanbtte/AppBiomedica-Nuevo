!function(){function e(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw i}}}}function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[8],{85031:function(e,t,n){"use strict";n.d(t,{$o:function(){return x},t7:function(){return v}});var a=n(35366),r=n(87064),d=n(29609),u=n.n(d)()||d,p=new a.InjectionToken("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function f(e,t){for(var n=Array(e),a=0;a<e;a++)n[a]=t(a);return n}var v=function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=m(n);function n(e,a){var r;return o(this,n),(r=t.call(this))._options=a,r.setLocale(e||u.locale()),r}return i(n,[{key:"setLocale",value:function(e){var t=this;l(s(n.prototype),"setLocale",this).call(this,e);var a=u.localeData(e);this._localeData={firstDayOfWeek:a.firstDayOfWeek(),longMonths:a.months(),shortMonths:a.monthsShort(),dates:f(31,function(e){return t.createDate(2017,0,e+1).format("D")}),longDaysOfWeek:a.weekdays(),shortDaysOfWeek:a.weekdaysShort(),narrowDaysOfWeek:a.weekdaysMin()}}},{key:"getYear",value:function(e){return this.clone(e).year()}},{key:"getMonth",value:function(e){return this.clone(e).month()}},{key:"getDate",value:function(e){return this.clone(e).date()}},{key:"getDayOfWeek",value:function(e){return this.clone(e).day()}},{key:"getMonthNames",value:function(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(e){return this.clone(e).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(e){return this.clone(e).daysInMonth()}},{key:"clone",value:function(e){return e.clone().locale(this.locale)}},{key:"createDate",value:function(e,t,n){var a=this._createMoment({year:e,month:t,date:n}).locale(this.locale);return a.isValid(),a}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(e,t){return e&&"string"==typeof e?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}},{key:"format",value:function(e,t){return e=this.clone(e),this.isValid(e),e.format(t)}},{key:"addCalendarYears",value:function(e,t){return this.clone(e).add({years:t})}},{key:"addCalendarMonths",value:function(e,t){return this.clone(e).add({months:t})}},{key:"addCalendarDays",value:function(e,t){return this.clone(e).add({days:t})}},{key:"toIso8601",value:function(e){return this.clone(e).format()}},{key:"deserialize",value:function(e){var t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;t=this._createMoment(e,u.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):l(s(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return u.isMoment(e)}},{key:"isValid",value:function(e){return this.clone(e).isValid()}},{key:"invalid",value:function(){return u.invalid()}},{key:"_createMoment",value:function(e,t,n){var a=this._options||{},o=a.strict;return a.useUtc?u.utc(e,t,n,o):u(e,t,n,o)}}]),n}(r._A);return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.Ad,8),a["\u0275\u0275inject"](p,8))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),x={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},82051:function(e,t){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";function t(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,i){var l=o.URL||o.webkitURL,c=document.createElement("a");c.download=r=r||e.name||"download",c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?a(c):n(c.href)?t(e,r,i):a(c,c.target="_blank")):(c.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(c.href)},4e4),setTimeout(function(){a(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){a(i)})}}:function(e,n,a,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,a);var l="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||l&&c||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=m?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},d.readAsDataURL(e)}else{var s=o.URL||o.webkitURL,u=s.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){s.revokeObjectURL(u)},4e4)}});o.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,[]):n)||(e.exports=a)},27008:function(n,a,r){"use strict";r.r(a),r.d(a,{ContratosModule:function(){return Lr}});var l=r(61116),c=r(29996),m=r(47066),d=r(75425),s=r(31041),u=r(77154),p=r(82573),f=r(39199),v=r(5609),x=r(86350),h=r(92935),g=r(22501),S=r.n(g),C=r(19516),E=r(45350),b=r(87064),y=r(85031),_=r(59241),I=r(27406),w=r(35366),F=r(22797),k=r(6489),D=r(35965),V=r(13070),A=r(9550),N=r(7436),P=r(27701),M=r(84369),T=r(77307);function R(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-hint",23),w["\u0275\u0275elementStart"](1,"button",50),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().cambiarValidaCorreo()}),w["\u0275\u0275text"](2," No tengo Correo imss "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275propertyInterpolate"]("disabled",a.estadoBoton)}}function B(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.mensajeErrorCorreo," ")}}function j(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Nombre no valido "),w["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Apellido no valido "),w["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Apellido no valido "),w["\u0275\u0275elementEnd"]())}function z(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Campo requerido "),w["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Campo requerido. "),w["\u0275\u0275elementEnd"]())}function $(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Tel\xe9fono incorrecto. "),w["\u0275\u0275elementEnd"]())}function H(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Extensi\xf3n incorrecta. "),w["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Matricula incorrecta. "),w["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",51),w["\u0275\u0275text"](1,"Celular incorrecto. "),w["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",13),w["\u0275\u0275elementStart"](1,"button",52),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().agregar_persona()}),w["\u0275\u0275text"](2,"Agregar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.formulario_persona.invalid)}}function Y(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Nombre"),w["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Nombre)}}function X(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Apellido Paterno"),w["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.ApellidoPat)}}function Z(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Apellido Materno"),w["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.ApellidoMat)}}function ee(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Correo"),w["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Correo)}}function ne(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Telefono"),w["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Telefono)}}function oe(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Matricula"),w["\u0275\u0275elementEnd"]())}function re(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Matricula,"")}}function ie(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",53),w["\u0275\u0275text"](1,"Seleccionar"),w["\u0275\u0275elementEnd"]())}function le(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",54),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().Selecionar(e)}),w["\u0275\u0275elementStart"](2,"mat-icon"),w["\u0275\u0275text"](3,"check_box_outline_blank"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function ce(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function me(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}var de=function(){var e=function(){function e(t,n,a,r){o(this,e),this.dialogRef=t,this.data=n,this.fb=a,this._personas=r,this.estadoBoton=!1,this.mensajeErrorCorreo="example@imss.gob.mx",this.botonVisible=!0,this.cerrarPanel=!1,this.tamanioPagina=50,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.displayedColumns=["Nombre","ApellidoP","ApellidoM","Correo","Telefono","Matricula","SeleccionarPer"],this.cargando=!1,this.disableAnimation=!0}return i(e,[{key:"ngOnInit",value:function(){this.crear_formulario_persona(),this.llenarTabla()}},{key:"llenarTabla",value:function(){var e=this;this._personas.getAllPersona(this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(function(t){var n=t.Data.registros;e.dataSource=new f.by,e.dataSource.data=n,e.totalRegistros=t.Data.total,e.cargando=!0,console.log(n)})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){return e.disableAnimation=!1})}},{key:"crear_formulario_persona",value:function(){this.formulario_persona=this.fb.group({Nombre:[null,s.Validators.compose([s.Validators.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\\s]*$"),s.Validators.required])],ApellidoPat:[null,s.Validators.compose([s.Validators.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\\s]*$"),s.Validators.required])],ApellidoMat:[null,s.Validators.compose([s.Validators.pattern("^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\\s]*$"),s.Validators.required])],FechaNac:[null,s.Validators.compose([s.Validators.required])],Genero:[null,s.Validators.compose([s.Validators.required])],Correo:[null,s.Validators.compose([s.Validators.required,s.Validators.pattern("^[_a-z0-9-]+(.[_a-z0-9-]+)*@imss.gob.mx$")])],Telefono:[null,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])],Extension:[null,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])],Matricula:[null,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])],Celular:[null,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])]})}},{key:"cambiarValidaCorreo",value:function(){this.formulario_persona.removeControl("Correo"),this.formulario_persona.addControl("Correo",this.fb.control("",s.Validators.compose([s.Validators.required,s.Validators.email]))),this.mensajeErrorCorreo="Correo invalido",this.botonVisible=!1,this.estadoBoton=!0}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.trim().toLowerCase(),console.log(this.dataSource.filteredData)}},{key:"agregar_persona",value:function(){var e=this,t=this.formulario_persona.getRawValue();console.log(t),S().fire({title:"Estas seguro",text:"Deseas agregar esta persona",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Agregar"}).then(function(n){n.value&&(e.cerrarPanel=!0,e._personas.AgregarPersona(t).subscribe(function(t){console.log(t.Data),S().fire("Agregado","La persona ha sido agregada correctamente","success"),e.dialogRef.close(t.Data),e.cerrarPanel=!1}))})}},{key:"Selecionar",value:function(e){var t=this;S().fire({title:"Seleccionar",text:"Persona:"+e.Nombre+" "+e.ApellidoPat+" "+e.ApellidoMat,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Seleccionar"}).then(function(n){n.value&&t.dialogRef.close(e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](I.J))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-crud-personas"]],viewQuery:function(e,t){var n;(1&e&&(w["\u0275\u0275viewQuery"](v.NW,5),w["\u0275\u0275viewQuery"](_.YE,5)),2&e)&&(w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.sort=n.first))},decls:108,vars:27,consts:[["mat-dialog-content",""],["align","center"],[2,"color","#c90025"],["tabindex","-1"],["tabindex","-1",3,"expanded","expandedChange"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","example@imss.gob.mx","type","text","formControlName","Correo","required",""],["align","end",4,"ngIf"],["class","text-danger support-text",4,"ngIf"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Nombre(s)","formControlName","Nombre","required",""],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Apellido Paterno","formControlName","ApellidoPat","required",""],["matInput","","placeholder","Apellido Materno","formControlName","ApellidoMat","required",""],[1,"example-full-width"],["matInput","","placeholder","Fecha de Nacimiento","type","date","formControlName","FechaNac","required",""],["aria-label","Select an option","formControlName","Genero",2,"flex-direction","column","display","flex",3,"required"],["value","M"],["value","F"],["matInput","","maxlength","10","placeholder","Tel\xe9fono","formControlName","Telefono","required",""],["input",""],["align","end"],["matInput","","maxlength","5","placeholder","Extensi\xf3n","formControlName","Extension"],["matInput","","maxlength","10","placeholder","Matricula","formControlName","Matricula","required",""],["matInput","","maxlength","10","placeholder","Celular","formControlName","Celular"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","fxLayoutAlign","center center",1,"p-0"],[1,"p-l-20","p-r-20"],["matInput","","placeholder","Buscar","autocomplete","off",3,"keyup"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[3,"hidden"],["mode","query"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","Nombre"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","ApellidoP"],["matColumnDef","ApellidoM"],["matColumnDef","Correo"],["matColumnDef","Telefono"],["matColumnDef","Matricula"],["matColumnDef","SeleccionarPer"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-dialog-actions",""],["mat-flat-button","","color","warn","cdkFocusInitial","",3,"click"],["mat-button","","color","warn",3,"disabled","click"],[1,"text-danger","support-text"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-sort-header",""],["mat-icon-button","",2,"color","#3a83c2",3,"click"]],template:function(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",0),w["\u0275\u0275elementStart"](1,"mat-card"),w["\u0275\u0275elementStart"](2,"mat-card-title",1),w["\u0275\u0275text"](3,"Personal IMSS"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-card-subtitle",2),w["\u0275\u0275text"](5,"Si no encuentras a la persona que deseas seleccionar puedes agregar sus datos "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"mat-card-content"),w["\u0275\u0275elementStart"](7,"mat-accordion",3),w["\u0275\u0275elementStart"](8,"mat-expansion-panel",4),w["\u0275\u0275listener"]("expandedChange",function(e){return t.cerrarPanel=e}),w["\u0275\u0275elementStart"](9,"mat-expansion-panel-header",3),w["\u0275\u0275elementStart"](10,"mat-panel-title",3),w["\u0275\u0275text"](11," Agregar Persona "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](12,"mat-panel-description",3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"form",5),w["\u0275\u0275elementStart"](14,"div",6),w["\u0275\u0275elementStart"](15,"div",7),w["\u0275\u0275elementStart"](16,"mat-form-field"),w["\u0275\u0275elementStart"](17,"mat-label"),w["\u0275\u0275text"](18,"Correo electr\xf3nico"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](19,"input",8),w["\u0275\u0275template"](20,R,3,1,"mat-hint",9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](21,B,2,1,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"div",11),w["\u0275\u0275elementStart"](23,"mat-form-field"),w["\u0275\u0275element"](24,"input",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](25,j,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](26,"div",13),w["\u0275\u0275elementStart"](27,"mat-form-field"),w["\u0275\u0275element"](28,"input",14),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](29,O,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](30,"div",13),w["\u0275\u0275elementStart"](31,"mat-form-field"),w["\u0275\u0275element"](32,"input",15),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](33,q,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](34,"div",13),w["\u0275\u0275elementStart"](35,"mat-form-field",16),w["\u0275\u0275element"](36,"input",17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](37,z,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](38,"div",13),w["\u0275\u0275elementStart"](39,"mat-radio-group",18),w["\u0275\u0275elementStart"](40,"mat-label"),w["\u0275\u0275text"](41,"Genero"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](42,"mat-radio-button",19),w["\u0275\u0275text"](43,"Masculino"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](44,"mat-radio-button",20),w["\u0275\u0275text"](45,"Femenino"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](46,"br"),w["\u0275\u0275template"](47,L,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](48,"div",13),w["\u0275\u0275elementStart"](49,"mat-form-field"),w["\u0275\u0275element"](50,"input",21,22),w["\u0275\u0275elementStart"](52,"mat-hint",23),w["\u0275\u0275text"](53),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](54,$,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](55,"div",13),w["\u0275\u0275elementStart"](56,"mat-form-field"),w["\u0275\u0275element"](57,"input",24),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](58,H,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](59,"div",13),w["\u0275\u0275elementStart"](60,"mat-form-field"),w["\u0275\u0275element"](61,"input",25),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](62,U,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](63,"div",13),w["\u0275\u0275elementStart"](64,"mat-form-field"),w["\u0275\u0275element"](65,"input",26),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](66,W,2,0,"small",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](67,G,3,1,"div",27),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](68,"mat-card-content"),w["\u0275\u0275elementStart"](69,"div",6),w["\u0275\u0275elementStart"](70,"div",28),w["\u0275\u0275elementStart"](71,"mat-form-field",29),w["\u0275\u0275elementStart"](72,"input",30),w["\u0275\u0275listener"]("keyup",function(e){return t.applyFilter(e.target.value)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](73,"div",31),w["\u0275\u0275elementStart"](74,"div",32),w["\u0275\u0275element"](75,"mat-progress-bar",33),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](76,"div",31),w["\u0275\u0275elementStart"](77,"div",32),w["\u0275\u0275element"](78,"mat-progress-bar",33),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](79,"div",34),w["\u0275\u0275elementStart"](80,"mat-table",35),w["\u0275\u0275elementContainerStart"](81,36),w["\u0275\u0275template"](82,Y,2,0,"mat-header-cell",37),w["\u0275\u0275template"](83,Q,2,1,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](84,39),w["\u0275\u0275template"](85,X,2,0,"mat-header-cell",37),w["\u0275\u0275template"](86,K,2,1,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](87,40),w["\u0275\u0275template"](88,Z,2,0,"mat-header-cell",37),w["\u0275\u0275template"](89,J,2,1,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](90,41),w["\u0275\u0275template"](91,ee,2,0,"mat-header-cell",37),w["\u0275\u0275template"](92,te,2,1,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](93,42),w["\u0275\u0275template"](94,ne,2,0,"mat-header-cell",37),w["\u0275\u0275template"](95,ae,2,1,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](96,43),w["\u0275\u0275template"](97,oe,2,0,"mat-header-cell",37),w["\u0275\u0275template"](98,re,2,1,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](99,44),w["\u0275\u0275template"](100,ie,2,0,"mat-header-cell",37),w["\u0275\u0275template"](101,le,4,0,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](102,ce,1,0,"mat-header-row",45),w["\u0275\u0275template"](103,me,1,0,"mat-row",46),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](104,"mat-paginator",47),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](105,"div",48),w["\u0275\u0275elementStart"](106,"button",49),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](107,"Cancelar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275reference"](51);w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("@.disabled",t.disableAnimation),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("expanded",t.cerrarPanel),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("formGroup",t.formulario_persona),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Correo.dirty&&t.formulario_persona.controls.Correo.invalid),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Correo.hasError("pattern")&&t.formulario_persona.controls.Correo.touched||t.formulario_persona.controls.Correo.hasError("email")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Nombre.hasError("pattern")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.ApellidoPat.hasError("pattern")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.ApellidoMat.hasError("pattern")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.FechaNac.hasError("required")&&t.formulario_persona.controls.FechaNac.touched),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("required",!0),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Genero.hasError("required")&&t.formulario_persona.controls.Genero.touched),w["\u0275\u0275advance"](6),w["\u0275\u0275textInterpolate1"]("",(null==n.value?null:n.value.length)||0,"/10"),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Telefono.hasError("pattern")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Extension.hasError("pattern")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Matricula.hasError("pattern")),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.formulario_persona.controls.Celular.hasError("pattern")),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",!t.data.editar),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("hidden",t.cargando),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("hidden",t.cargando),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("dataSource",t.dataSource),w["\u0275\u0275advance"](22),w["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0)}},directives:[h.xY,F.a8,F.n5,F.$j,F.dn,k.pp,k.ib,k.yz,k.yK,k.u4,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,s.RequiredValidator,l.O5,N.VQ,N.U0,s.MaxLengthValidator,V.bx,P.pW,f.BZ,_.YE,f.w1,f.fO,f.Dz,f.as,f.nj,v.NW,h.H8,M.lW,f.ge,_.nU,f.ev,T.Hw,f.XQ,f.Gk],styles:[""]}),e}(),se=r(21694),ue=r(56213);function pe(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Ver"),w["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",30),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().openDialogDetalleProveedor(e)}),w["\u0275\u0275elementStart"](2,"mat-icon"),w["\u0275\u0275text"](3,"remove_red_eye"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function ve(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Nombre Empresa"),w["\u0275\u0275elementEnd"]())}function xe(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"a",31),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().openDialogDetalleProveedor(e)}),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](a.AliasEmpresa)}}function he(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Estado"),w["\u0275\u0275elementEnd"]())}function ge(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Estados.Nombre)}}function Se(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Municipio"),w["\u0275\u0275elementEnd"]())}function Ce(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Municipio)}}function Ee(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Correo"),w["\u0275\u0275elementEnd"]())}function be(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Correo)}}function ye(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"No. Prov IMSS"),w["\u0275\u0275elementEnd"]())}function _e(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NProvImss,"")}}function Ie(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Telefono"),w["\u0275\u0275elementEnd"]())}function we(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Telefono,"")}}function Fe(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Seleccionar"),w["\u0275\u0275elementEnd"]())}function ke(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",30),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().SelecionarProveedor(e)}),w["\u0275\u0275elementStart"](2,"mat-icon"),w["\u0275\u0275text"](3,"check_box_outline_blank"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function De(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function Ve(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}var Ae=function(){var e=function(){function e(t,n,a,r){o(this,e),this.dialogRef=t,this.data=n,this._proveedores=a,this.dialog=r,this.dataSource=new f.by,this.tamanioPagina=20,this.tamanios=[20,50,100],this.totalRegistros=0,this.paginaActual=1,this.displayedColumns=["DetallePro","Alias","Estado","Municipio","CorreoPro","RFC","Telefono","SeleccionarPro"],this.cargando=!1,this.id_proveedor="",this.nombre_proveedor="",this.control_nombre=new s.FormControl}return i(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.dataSource.paginator=this.paginator,this.dataSource.paginator.page.subscribe(function(t){t&&(e.paginaActual=t.pageIndex+1,e.tamanioPagina=t.pageSize,e.llenarTabla())}),this.paginator._intl.itemsPerPageLabel="Resultados por pagina"}},{key:"ngOnInit",value:function(){var e=this;this.llenarTabla(),this.control_nombre.valueChanges.subscribe(function(t){console.log(t),""!==t&&null!==t||e.llenarTabla()})}},{key:"llenarTabla",value:function(){var e=this;this._proveedores.ConsultarProveedores(this.id_proveedor,null!==this.control_nombre.value?this.control_nombre.value:"",this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(function(t){console.log(t);var n=t.Data.registros;e.dataSource=new f.by,e.dataSource=new f.by(n),e.totalRegistros=t.Data.total,e.cargando=!0})}},{key:"openDialogAgregar",value:function(){var e=this;this.dialog.open(se.R,{height:"auto",width:"80%",disableClose:!0,data:{editar:!1,proveedor:""}}).afterClosed().subscribe(function(t){t&&e.llenarTabla()})}},{key:"SelecionarProveedor",value:function(e){var t=this;S().fire({title:"Has decidido seleccionar a este proveedor",text:e.AliasEmpresa,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Seleccionar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(n){n.value&&t.dialogRef.close(e)})}},{key:"openDialogDetalleProveedor",value:function(e){this.dialog.open(ue.Y,{height:"auto",width:"40%",disableClose:!1,data:{proveedor:e}}).afterClosed().subscribe(function(e){})}},{key:"buscarPorNombre",value:function(){this.llenarTabla(),this.paginator.firstPage()}},{key:"cerrarDialog",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](C.v),w["\u0275\u0275directiveInject"](h.uw))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seleccionar-proveedor-representante"]],viewQuery:function(e,t){var n;(1&e&&w["\u0275\u0275viewQuery"](v.NW,5),2&e)&&(w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.paginator=n.first))},decls:52,vars:10,consts:[["mat-dialog-title","",1,"m-0"],["mat-dialog-content","",1,"m-0"],["fxLayout","row wrap",1,"b-all"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",1,"p-10","centerText",2,"color","white","background-color","#3a83c2"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","fxLayoutAlign","end center",1,"p-10"],["mat-flat-button","","color","primary",3,"click"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","fxLayoutAlign","center center",1,"p-0"],[1,"p-l-20","p-r-20"],["matInput","","placeholder","Buscar","autocomplete","off",3,"formControl","keyup.enter"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[3,"hidden"],["mode","query"],[1,"responsive-table"],[3,"dataSource"],["matColumnDef","DetallePro"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Alias"],["matColumnDef","Estado"],["matColumnDef","Municipio"],["matColumnDef","CorreoPro"],["matColumnDef","RFC"],["matColumnDef","Telefono"],["matColumnDef","SeleccionarPro"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-dialog-actions","","fxLayout","row wrap",1,"m-0"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","warn",3,"click"],["mat-icon-button","",2,"color","#3a83c2",3,"click"],["routerLink","",3,"click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"div",0),w["\u0275\u0275text"](1," Selecciona un Proveedor\n"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-content"),w["\u0275\u0275elementStart"](5,"div",2),w["\u0275\u0275elementStart"](6,"div",3),w["\u0275\u0275text"](7,"Lista de Proveedores "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"div",4),w["\u0275\u0275elementStart"](9,"button",5),w["\u0275\u0275listener"]("click",function(){return t.openDialogAgregar()}),w["\u0275\u0275elementStart"](10,"mat-icon"),w["\u0275\u0275text"](11,"add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](12," Proveedor "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"div",6),w["\u0275\u0275elementStart"](14,"mat-form-field",7),w["\u0275\u0275elementStart"](15,"input",8),w["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"div",9),w["\u0275\u0275elementStart"](17,"div",10),w["\u0275\u0275element"](18,"mat-progress-bar",11),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"div",12),w["\u0275\u0275elementStart"](20,"mat-table",13),w["\u0275\u0275elementContainerStart"](21,14),w["\u0275\u0275template"](22,pe,2,0,"mat-header-cell",15),w["\u0275\u0275template"](23,fe,4,0,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](24,17),w["\u0275\u0275template"](25,ve,2,0,"mat-header-cell",15),w["\u0275\u0275template"](26,xe,3,1,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](27,18),w["\u0275\u0275template"](28,he,2,0,"mat-header-cell",15),w["\u0275\u0275template"](29,ge,2,1,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](30,19),w["\u0275\u0275template"](31,Se,2,0,"mat-header-cell",15),w["\u0275\u0275template"](32,Ce,2,1,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](33,20),w["\u0275\u0275template"](34,Ee,2,0,"mat-header-cell",15),w["\u0275\u0275template"](35,be,2,1,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](36,21),w["\u0275\u0275template"](37,ye,2,0,"mat-header-cell",15),w["\u0275\u0275template"](38,_e,2,1,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](39,22),w["\u0275\u0275template"](40,Ie,2,0,"mat-header-cell",15),w["\u0275\u0275template"](41,we,2,1,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](42,23),w["\u0275\u0275template"](43,Fe,2,0,"mat-header-cell",15),w["\u0275\u0275template"](44,ke,4,0,"mat-cell",16),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](45,De,1,0,"mat-header-row",24),w["\u0275\u0275template"](46,Ve,1,0,"mat-row",25),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](47,"mat-paginator",26),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](48,"div",27),w["\u0275\u0275elementStart"](49,"div",28),w["\u0275\u0275elementStart"](50,"button",29),w["\u0275\u0275listener"]("click",function(){return t.cerrarDialog()}),w["\u0275\u0275text"](51," Cerrar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](15),w["\u0275\u0275property"]("formControl",t.control_nombre),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("hidden",t.cargando),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("dataSource",t.dataSource),w["\u0275\u0275advance"](25),w["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[h.uh,h.xY,F.a8,F.dn,D.xw,D.yH,D.Wh,M.lW,T.Hw,V.KE,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,P.pW,f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,v.NW,h.H8,f.ge,f.ev,f.XQ,f.Gk],styles:[""]}),e}(),Ne=r(40233),Pe=r(57173),Me=r(69024),Te=r(13841),Re=r(85078),Be=["tabGroup"];function je(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",10),w["\u0275\u0275elementStart"](1,"mat-form-field",11),w["\u0275\u0275elementStart"](2,"mat-label"),w["\u0275\u0275text"](3,"Proveedor"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](4,"input",76),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("value",n.representante.AliasEmpresa)}}function Oe(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",10),w["\u0275\u0275elementStart"](1,"mat-form-field",11),w["\u0275\u0275elementStart"](2,"mat-label"),w["\u0275\u0275text"](3,"Representante Legal"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](4,"input",77),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("value",n.representante.NombreCompleto)}}function qe(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",79),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NombreDele," ")}}function ze(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",10),w["\u0275\u0275elementStart"](1,"mat-form-field",11),w["\u0275\u0275elementStart"](2,"mat-label"),w["\u0275\u0275text"](3,"Selecciona una delegacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-select",78),w["\u0275\u0275listener"]("selectionChange",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().seleccionados()}),w["\u0275\u0275template"](5,qe,2,2,"mat-option",40),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("formControl",a.form_delegaciones),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",a.delegacionesArray)}}function Le(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",79),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NombreDele," ")}}function $e(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-hint",80),w["\u0275\u0275text"](1,"No has agregado ninguna delegacion en el contrato "),w["\u0275\u0275elementEnd"]())}function He(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-list-item",81),w["\u0275\u0275elementStart"](1,"p",82),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"p",82),w["\u0275\u0275text"](4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"p",82),w["\u0275\u0275text"](6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"button",83),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().eliminar_admin(e)}),w["\u0275\u0275elementStart"](8,"mat-icon",84),w["\u0275\u0275text"](9,"highlight_off "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate2"]("",a.Persona.Nombre," ",a.Persona.ApellidoPat,""),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](a.Responsabilidad),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](a.Delegaciones.NombreDele)}}function Ue(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-list-item",81),w["\u0275\u0275text"](1),w["\u0275\u0275elementStart"](2,"button",85),w["\u0275\u0275elementStart"](3,"mat-icon",86),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().eliminar_pena_deductiva(e)}),w["\u0275\u0275text"](4,"highlight_off "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",a.DescripcionDeduccion," ")}}function We(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",10),w["\u0275\u0275elementStart"](1,"button",29),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().agregar_contrato()}),w["\u0275\u0275text"](2,"Agregar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.formulario_penas_conv.invalid)}}function Ge(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",10),w["\u0275\u0275elementStart"](1,"button",87),w["\u0275\u0275text"](2," Guardar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",n.formulario_contrato.invalid||n.formulario_contrato.pristine)}}var Ye=function(){var e=function(){function e(t,n,a,r,i,l,c,m,d){o(this,e),this.dialogRef=t,this.data=n,this.fb=a,this._delegaciones=r,this._proveedores=i,this._contacto_proveedor=l,this.dialog=c,this.adapter=m,this._contrato=d,this.form_delegaciones=new s.FormControl,this.fechaInico="",this.fechaFin="",this.fechaFallo="",this.titulo="",this.array_penas_deductivas=[],this.array_admin=[],this.delegacionesArray=[],this.proveedoresArray=[],this.lastFilter="",this.date=new s.FormControl(new Date),this.fechaActual=new Date,this.m=this.fechaActual.getUTCMonth(),this.d=this.fechaActual.getDate(),this.y=this.fechaActual.getFullYear(),this.minDate=new Date(this.y-10,this.m,this.d),this.maxDate=new Date(this.y+20,0,1),this.nombre_compelto="",this.array_delegaciones_admin=[],this.index_tab=0,this.disableAnimation=!0,this.adapter.setLocale("es-mx")}return i(e,[{key:"ngOnInit",value:function(){var e=this;console.log(this.data.editar),this.datos=this.data.contrato,this.crear_formulario_contratos(),this.crear_formulario_penas_conv(),this.crear_formulario_penas_ded(),this.crear_formulario_fianza(),this.crear_formulario_admin_aux(),this.titulo=this.data.editar?"Editar un Contrato":"Agregar un nuevo Contrato",this._delegaciones.ConsultarDelegaciones().subscribe(function(t){e.delegacionesArray=t.Data})}},{key:"crear_formulario_contratos",value:function(){this.formulario_contrato=this.fb.group({NumeroContrato:[null,s.Validators.compose([s.Validators.required])],InicioContrato:[null,s.Validators.compose([s.Validators.required])],FinContrato:[null,s.Validators.compose([s.Validators.required])],ProcedContratacion:[null,s.Validators.compose([s.Validators.required])],TipoProcedContratacion:[null,s.Validators.compose([s.Validators.required])],FechaFallo:[null,s.Validators.compose([s.Validators.required])],MontoTotal:[null,s.Validators.compose([s.Validators.required])],TipoContrato:[null,s.Validators.compose([s.Validators.required])],ContactoProveedorId:[null,s.Validators.compose([s.Validators.required])],ProveedorNProvImss:[null,s.Validators.compose([s.Validators.required])]})}},{key:"crear_formulario_penas_conv",value:function(){this.formulario_penas_conv=this.fb.group({Descripcion:["",s.Validators.compose([s.Validators.required])],Porcentaje:["",s.Validators.compose([s.Validators.required])]})}},{key:"crear_formulario_penas_ded",value:function(){this.formulario_penas_ded=this.fb.group({ConceptoObligacion:["",s.Validators.compose([s.Validators.required])],NivelServicio:["",s.Validators.compose([s.Validators.required])],UnidadMedida:["",s.Validators.compose([s.Validators.required])],Deduccion:["",s.Validators.compose([s.Validators.required])],DescripcionDeduccion:["",s.Validators.compose([s.Validators.required])],LimiteIncumplimiento:["",s.Validators.compose([s.Validators.required])]})}},{key:"crear_formulario_fianza",value:function(){this.formulario_fianza=this.fb.group({Afianzadora:["",s.Validators.compose([s.Validators.required])],NumPoliza:["",s.Validators.compose([s.Validators.required])],Tipo:["",s.Validators.compose([s.Validators.required])],MontoFianza:["",s.Validators.compose([s.Validators.required])]})}},{key:"crear_formulario_admin_aux",value:function(){this.formulario_admin_aux=this.fb.group({DelegacionesClvDele:["",s.Validators.compose([s.Validators.required])],Cargo:["",s.Validators.compose([s.Validators.required])],Responsabilidad:["",s.Validators.compose([s.Validators.required])],PersonaId:["",s.Validators.compose([s.Validators.required])]})}},{key:"cerrarDialog",value:function(){this.dialogRef.close()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){return e.disableAnimation=!1})}},{key:"openDialogRepresentante",value:function(){var e=this;this.dialog.open(Ae,{height:"auto",width:"88%",disableClose:!0,data:{dato:""}}).afterClosed().subscribe(function(t){t&&(e.representante=t,e.formulario_contrato.controls.ContactoProveedorId.setValue(e.representante.Id),e.formulario_contrato.controls.ProveedorNProvImss.setValue(e.representante.ProveedorNProvImss),console.log(e.representante))})}},{key:"openDialogPersona",value:function(){var e=this;this.dialog.open(de,{autoFocus:!0,height:"auto",width:"90%",disableClose:!0,data:{}}).afterClosed().subscribe(function(t){t&&(console.log(t),e.nombre_compelto=t.Nombre+" "+t.ApellidoPat+" "+t.ApellidoMat,e.formulario_admin_aux.controls.PersonaId.setValue(t))})}},{key:"valorFecha",value:function(e){console.log(e.value)}},{key:"valorFechaLimite",value:function(e){console.log(e.value)}},{key:"valorFechaFallo",value:function(e){console.log(e.value)}},{key:"agregar_pena_deductiva",value:function(){var e=this.formulario_penas_ded.getRawValue();console.log(e),this.array_penas_deductivas.push(e),console.log(this.array_penas_deductivas),this.formulario_penas_ded.reset()}},{key:"eliminar_pena_deductiva",value:function(e){var t=this.array_penas_deductivas.indexOf(e);console.log(t),this.array_penas_deductivas.splice(t,1)}},{key:"agregar_admin_aux",value:function(){var e=this.formulario_admin_aux.getRawValue(),t=this.formulario_admin_aux.controls.DelegacionesClvDele.value,n=this.formulario_admin_aux.controls.PersonaId.value;e.DelegacionesClvDele=t.ClvDele,e.Delegaciones=t,e.PersonaId=n.Id,e.Persona=n,console.log(e),this.array_admin.push(e),console.log(this.array_admin),this.formulario_admin_aux.reset(),this.nombre_compelto=""}},{key:"eliminar_admin",value:function(e){var t=this.array_admin.indexOf(e);console.log(t),this.array_admin.splice(t,1)}},{key:"seleccionados",value:function(){this.array_delegaciones_admin=this.form_delegaciones.value,console.log(this.array_delegaciones_admin)}},{key:"agregar_contrato",value:function(){var e=this,t=this.array_delegaciones_admin.map(function(e){return e.ClvDele}),n=this.formulario_contrato.getRawValue(),a=this.formulario_penas_conv.getRawValue(),o=this.formulario_fianza.getRawValue();n.InicioContrato=this.fechaInico,n.FechaFallo=this.fechaFallo,n.FinContrato=this.fechaFin,this.repre_legal={Id:"",ContratoId:"",ContactoProveedorId:n.ContactoProveedorId},this.contrato_nuevo={Contrato:n,Delegaciones:t,AdminAuxContrato:this.array_admin,PenasConvencionales:a,RepresentanteLegal:this.repre_legal,PenasDeductivas:this.array_penas_deductivas,Fianza:o},console.log(this.contrato_nuevo),S().fire({title:"Confirmacion",text:"Agregar Contrato"+n.NumeroContrato,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Agregar"}).then(function(t){t.value&&e._contrato.AgregarContrato(e.contrato_nuevo).subscribe(function(t){console.log(t),S().fire({position:"center",title:"Correcto",text:t.Mensaje,icon:"success",showConfirmButton:!0}),e.dialogRef.close(!0)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({position:"center",title:t.Mensaje,icon:"error",showConfirmButton:!0})}})})}},{key:"siguiente",value:function(){this.index_tab=this.tabGroup.selectedIndex+1}},{key:"verificarArrayAdmin",value:function(){return this.array_admin.length>0}},{key:"verificarArrayPenas",value:function(){return this.array_penas_deductivas.length>0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](Ne.$),w["\u0275\u0275directiveInject"](C.v),w["\u0275\u0275directiveInject"](E.b),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](b._A),w["\u0275\u0275directiveInject"](x.d))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-editar-contrato"]],viewQuery:function(e,t){var n;(1&e&&w["\u0275\u0275viewQuery"](Be,5),2&e)&&(w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.tabGroup=n.first))},features:[w["\u0275\u0275ProvidersFeature"]([{provide:b.Ad,useValue:"ja-JP"},{provide:b._A,useClass:y.t7,deps:[b.Ad]},{provide:b.sG,useValue:y.$o}])],decls:237,vars:37,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-stretch-tabs","","backgroundColor","primary","color","warn",1,"mat-elevation-z4",3,"selectedIndex"],["tabGroup",""],["label","Datos Contrato"],[2,"background-color","white",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-20"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","tabIndex","-1"],["mat-flat-button","","color","primary","type","button",2,"max-width","100%",3,"click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","Numero de contrato","formControlName","NumeroContrato","autocomplete","off","required",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","InicioContrato",3,"min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FinContrato",3,"min","matDatepicker","dateChange"],["picker2",""],["matInput","","placeholder","Procedimiento de contratacion","formControlName","ProcedContratacion","autocomplete","off"],["matInput","","placeholder","Descripcion del procedimiento","formControlName","TipoProcedContratacion","autocomplete","off"],["matInput","","placeholder","Fecha del fallo","readonly","","formControlName","FechaFallo",3,"min","matDatepicker","dateChange"],["picker3",""],["matInput","","placeholder","Monto total del contrato","formControlName","MontoTotal","autocomplete","off","type","number",1,"soloNumeros"],["formControlName","TipoContrato"],["value","Equipo Medico"],["value","Servicios"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm"," 100\n                ","fxFlex.gt-xs","100","fxFlex","100","align","end"],["label","Administrador",3,"disabled"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between",1,"p-20"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","65","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Nombre Completo","autocomplete","off","readonly","","required","",3,"value"],["matInput","","placeholder","Cargo","formControlName","Cargo","autocomplete","off","required",""],["formControlName","DelegacionesClvDele","required",""],[3,"value",4,"ngFor","ngForOf"],["align","end",4,"ngIf"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100"],["formControlName","Responsabilidad","required",""],["value","Administrador de contratos"],["value","Auxiliar de contratos"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100",1,"b-all",2,"border-width","medium","height","200px","overflow","auto"],["align","center"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",1,"m-t-30"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["label","Pena Convencional"],["matInput","","placeholder","Pena Convencional","formControlName","Descripcion","autocomplete","off","required",""],["matInput","","type","number","placeholder","Porcentaje","autocomplete","off","required","","formControlName","Porcentaje",1,"example-right-align"],["matPrefix",""],["matSuffix",""],["label","Penas Deductivas",3,"disabled"],["fxFlex.gt-sm","60","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Concepto Obligacion","formControlName","ConceptoObligacion","autocomplete","off","required",""],["matInput","","placeholder","Nivel del servicio","formControlName","NivelServicio","autocomplete","off","required",""],["matInput","","placeholder","Unidad de Medida","formControlName","UnidadMedida","autocomplete","off","required",""],["matInput","","type","number","placeholder","Porcentaje","autocomplete","off","required","","formControlName","Deduccion",1,"example-right-align"],["matInput","","placeholder","Descripcion","formControlName","DescripcionDeduccion","autocomplete","off","required",""],["matInput","","placeholder","Limite incumplimiento","formControlName","LimiteIncumplimiento","autocomplete","off","required",""],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","align","end"],["label","Fianza",3,"disabled"],["formControlName","Tipo","required",""],["value","Afianzadora"],["value","Cheque"],["matInput","","placeholder","Afianzadora o Cheque","formControlName","Afianzadora","autocomplete","off","required",""],["matInput","","placeholder","Numero de poliza o Cheque","formControlName","NumPoliza","autocomplete","off","required",""],["matInput","","placeholder","Monto de Fianza","type","number","formControlName","MontoFianza",1,"example-right-align"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","space-around end"],["mat-flat-button","","color","warn",3,"click"],["matInput","","formControlName","ProveedorNProvImss","autocomplete","off","readonly","",3,"value"],["matInput","","formControlName","ContactoProveedorId","autocomplete","off","readonly","",3,"value"],["required","","multiple","",3,"formControl","selectionChange"],[3,"value"],["align","end"],["role","listitem"],["matLine",""],["mat-icon-button","",3,"click"],["aria-label","Example icon-button with a heart icon","color","warn"],["mat-icon-button",""],["aria-label","Example icon-button with a heart icon","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-content"),w["\u0275\u0275elementStart"](5,"mat-tab-group",2,3),w["\u0275\u0275elementStart"](7,"mat-tab",4),w["\u0275\u0275elementStart"](8,"form",5),w["\u0275\u0275elementStart"](9,"div",6),w["\u0275\u0275elementStart"](10,"div",7),w["\u0275\u0275elementStart"](11,"button",8),w["\u0275\u0275listener"]("click",function(){return t.openDialogRepresentante()}),w["\u0275\u0275text"](12," Seleccionar Proveedor "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](13,je,5,1,"div",9),w["\u0275\u0275template"](14,Oe,5,1,"div",9),w["\u0275\u0275elementStart"](15,"div",10),w["\u0275\u0275elementStart"](16,"mat-form-field",11),w["\u0275\u0275elementStart"](17,"mat-label"),w["\u0275\u0275text"](18,"Numero de contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](19,"input",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](20,"div",10),w["\u0275\u0275elementStart"](21,"mat-form-field",13),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](27).open()}),w["\u0275\u0275elementStart"](22,"mat-label"),w["\u0275\u0275text"](23,"Fecha Inicio contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"input",14),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFecha(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](25,"mat-datepicker-toggle",15),w["\u0275\u0275element"](26,"mat-datepicker",16,17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](28,"div",10),w["\u0275\u0275elementStart"](29,"mat-form-field",13),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](35).open()}),w["\u0275\u0275elementStart"](30,"mat-label"),w["\u0275\u0275text"](31,"Fecha fin contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](32,"input",18),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaLimite(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](33,"mat-datepicker-toggle",15),w["\u0275\u0275element"](34,"mat-datepicker",16,19),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](36,"div",10),w["\u0275\u0275elementStart"](37,"mat-form-field",11),w["\u0275\u0275elementStart"](38,"mat-label"),w["\u0275\u0275text"](39,"Procedimiento de contratacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](40,"input",20),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](41,"div",10),w["\u0275\u0275elementStart"](42,"mat-form-field",11),w["\u0275\u0275elementStart"](43,"mat-label"),w["\u0275\u0275text"](44,"Descripcion Procedimiento"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](45,"input",21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](46,"div",10),w["\u0275\u0275elementStart"](47,"mat-form-field",13),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](53).open()}),w["\u0275\u0275elementStart"](48,"mat-label"),w["\u0275\u0275text"](49,"Fecha Fallo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](50,"input",22),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaFallo(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](51,"mat-datepicker-toggle",15),w["\u0275\u0275element"](52,"mat-datepicker",16,23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](54,"div",10),w["\u0275\u0275elementStart"](55,"mat-form-field",11),w["\u0275\u0275elementStart"](56,"mat-label"),w["\u0275\u0275text"](57,"Monto total del contrato sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](58,"input",24),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](59,"div",10),w["\u0275\u0275elementStart"](60,"mat-form-field",11),w["\u0275\u0275elementStart"](61,"mat-label"),w["\u0275\u0275text"](62,"Tipo de Contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](63,"mat-select",25),w["\u0275\u0275elementStart"](64,"mat-option",26),w["\u0275\u0275text"](65,"Equipo Medico"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](66,"mat-option",27),w["\u0275\u0275text"](67,"Servicios"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](68,ze,6,2,"div",9),w["\u0275\u0275elementStart"](69,"div",28),w["\u0275\u0275elementStart"](70,"button",29),w["\u0275\u0275listener"]("click",function(){return t.siguiente()}),w["\u0275\u0275text"](71," Siguiente "),w["\u0275\u0275elementStart"](72,"mat-icon"),w["\u0275\u0275text"](73,"arrow_right_alt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](74,"div",30),w["\u0275\u0275elementStart"](75,"label"),w["\u0275\u0275text"](76,"* Campos requeridos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](77,"mat-tab",31),w["\u0275\u0275elementStart"](78,"form",32),w["\u0275\u0275elementStart"](79,"div",33),w["\u0275\u0275elementStart"](80,"div",34),w["\u0275\u0275elementStart"](81,"div",35),w["\u0275\u0275elementStart"](82,"div",36),w["\u0275\u0275elementStart"](83,"mat-form-field",13),w["\u0275\u0275listener"]("click",function(){return t.openDialogPersona()}),w["\u0275\u0275elementStart"](84,"mat-label"),w["\u0275\u0275text"](85,"Nombre Completo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](86,"input",37),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](87,"div",10),w["\u0275\u0275elementStart"](88,"mat-form-field",11),w["\u0275\u0275elementStart"](89,"mat-label"),w["\u0275\u0275text"](90,"Cargo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](91,"input",38),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](92,"div",34),w["\u0275\u0275elementStart"](93,"mat-form-field",11),w["\u0275\u0275elementStart"](94,"mat-label"),w["\u0275\u0275text"](95,"Selecciona una delegacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](96,"mat-select",39),w["\u0275\u0275template"](97,Le,2,2,"mat-option",40),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](98,$e,2,0,"mat-hint",41),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](99,"div",42),w["\u0275\u0275elementStart"](100,"mat-form-field",11),w["\u0275\u0275elementStart"](101,"mat-label"),w["\u0275\u0275text"](102,"Responsabilidad"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](103,"mat-select",43),w["\u0275\u0275elementStart"](104,"mat-option",44),w["\u0275\u0275text"](105,"Administrador de contratos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](106,"mat-option",45),w["\u0275\u0275text"](107,"Auxiliar de contratos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](108,"div",46),w["\u0275\u0275elementStart"](109,"mat-label",47),w["\u0275\u0275text"](110,"Lista de Asignaciones"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](111,"mat-list",48),w["\u0275\u0275template"](112,He,10,4,"mat-list-item",49),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](113,"div",50),w["\u0275\u0275elementStart"](114,"button",29),w["\u0275\u0275listener"]("click",function(){return t.agregar_admin_aux()}),w["\u0275\u0275text"](115,"Agregar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](116,"div",28),w["\u0275\u0275elementStart"](117,"button",29),w["\u0275\u0275listener"]("click",function(){return t.siguiente()}),w["\u0275\u0275text"](118,"Siguiente "),w["\u0275\u0275elementStart"](119,"mat-icon"),w["\u0275\u0275text"](120,"arrow_right_alt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](121,"div",51),w["\u0275\u0275elementStart"](122,"p"),w["\u0275\u0275elementStart"](123,"strong"),w["\u0275\u0275text"](124,"NOTA: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](125,"Debes agregar al menos un administrador del contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](126,"mat-tab",52),w["\u0275\u0275elementStart"](127,"form",5),w["\u0275\u0275elementStart"](128,"div",6),w["\u0275\u0275elementStart"](129,"div",51),w["\u0275\u0275elementStart"](130,"mat-form-field",11),w["\u0275\u0275elementStart"](131,"mat-label"),w["\u0275\u0275text"](132,"Descripcion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](133,"textarea",53),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](134,"div",10),w["\u0275\u0275elementStart"](135,"mat-form-field",11),w["\u0275\u0275elementStart"](136,"mat-label"),w["\u0275\u0275text"](137,"Porcentaje de la pena por dia"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](138,"input",54),w["\u0275\u0275elementStart"](139,"span",55),w["\u0275\u0275text"](140,"\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](141,"span",56),w["\u0275\u0275text"](142,"%"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](143,"div",28),w["\u0275\u0275elementStart"](144,"button",29),w["\u0275\u0275listener"]("click",function(){return t.siguiente()}),w["\u0275\u0275text"](145,"Siguiente "),w["\u0275\u0275elementStart"](146,"mat-icon"),w["\u0275\u0275text"](147,"arrow_right_alt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](148,"mat-tab",57),w["\u0275\u0275elementStart"](149,"form",5),w["\u0275\u0275elementStart"](150,"div",33),w["\u0275\u0275elementStart"](151,"div",58),w["\u0275\u0275elementStart"](152,"div",35),w["\u0275\u0275elementStart"](153,"div",59),w["\u0275\u0275elementStart"](154,"mat-form-field",11),w["\u0275\u0275elementStart"](155,"mat-label"),w["\u0275\u0275text"](156,"Concepto Obligacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](157,"textarea",60),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](158,"div",59),w["\u0275\u0275elementStart"](159,"mat-form-field",11),w["\u0275\u0275elementStart"](160,"mat-label"),w["\u0275\u0275text"](161,"Nivel Servicio"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](162,"textarea",61),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](163,"div",59),w["\u0275\u0275elementStart"](164,"mat-form-field",11),w["\u0275\u0275elementStart"](165,"mat-label"),w["\u0275\u0275text"](166,"Unidad de Medida"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](167,"textarea",62),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](168,"div",59),w["\u0275\u0275elementStart"](169,"mat-form-field",11),w["\u0275\u0275elementStart"](170,"mat-label"),w["\u0275\u0275text"](171,"Porcentaje deduccion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](172,"input",63),w["\u0275\u0275elementStart"](173,"span",55),w["\u0275\u0275text"](174,"\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](175,"span",56),w["\u0275\u0275text"](176,"%"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](177,"div",59),w["\u0275\u0275elementStart"](178,"mat-form-field",11),w["\u0275\u0275elementStart"](179,"mat-label"),w["\u0275\u0275text"](180,"Descripcion de la deduccion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](181,"textarea",64),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](182,"div",59),w["\u0275\u0275elementStart"](183,"mat-form-field",11),w["\u0275\u0275elementStart"](184,"mat-label"),w["\u0275\u0275text"](185,"Limite incumplimiento"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](186,"textarea",65),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](187,"div",10),w["\u0275\u0275elementStart"](188,"mat-list",48),w["\u0275\u0275elementStart"](189,"mat-label",47),w["\u0275\u0275text"](190,"Lista de penas"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](191,Ue,5,1,"mat-list-item",49),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](192,"div",10),w["\u0275\u0275elementStart"](193,"button",29),w["\u0275\u0275listener"]("click",function(){return t.agregar_pena_deductiva()}),w["\u0275\u0275text"](194,"Agregar Pena "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](195,"div",66),w["\u0275\u0275elementStart"](196,"button",29),w["\u0275\u0275listener"]("click",function(){return t.siguiente()}),w["\u0275\u0275text"](197,"Siguiente "),w["\u0275\u0275elementStart"](198,"mat-icon"),w["\u0275\u0275text"](199,"arrow_right_alt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](200,"mat-tab",67),w["\u0275\u0275elementStart"](201,"form",32),w["\u0275\u0275elementStart"](202,"div",6),w["\u0275\u0275elementStart"](203,"div",10),w["\u0275\u0275elementStart"](204,"mat-form-field",11),w["\u0275\u0275elementStart"](205,"mat-label"),w["\u0275\u0275text"](206,"Tipo de Fianza"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](207,"mat-select",68),w["\u0275\u0275elementStart"](208,"mat-option",69),w["\u0275\u0275text"](209,"Afianzadora"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](210,"mat-option",70),w["\u0275\u0275text"](211,"Cheque"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](212,"div",10),w["\u0275\u0275elementStart"](213,"mat-form-field",11),w["\u0275\u0275elementStart"](214,"mat-label"),w["\u0275\u0275text"](215,"Afianzadora / Cheque"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](216,"input",71),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](217,"div",10),w["\u0275\u0275elementStart"](218,"mat-form-field",11),w["\u0275\u0275elementStart"](219,"mat-label"),w["\u0275\u0275text"](220,"Numero Poliza / Cheque"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](221,"input",72),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](222,"div",10),w["\u0275\u0275elementStart"](223,"mat-form-field"),w["\u0275\u0275elementStart"](224,"mat-label"),w["\u0275\u0275text"](225,"Monto de Fianza"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](226,"input",73),w["\u0275\u0275elementStart"](227,"span",55),w["\u0275\u0275text"](228,"$\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](229,"span",56),w["\u0275\u0275text"](230,".00"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](231,"div",74),w["\u0275\u0275elementStart"](232,"div",10),w["\u0275\u0275elementStart"](233,"button",75),w["\u0275\u0275listener"]("click",function(){return t.cerrarDialog()}),w["\u0275\u0275text"](234," Cancelar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](235,We,3,1,"div",9),w["\u0275\u0275template"](236,Ge,3,1,"div",9),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275reference"](27),o=w["\u0275\u0275reference"](35),r=w["\u0275\u0275reference"](53);w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](t.titulo),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("selectedIndex",t.index_tab),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("formGroup",t.formulario_contrato),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("@.disabled",t.disableAnimation),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",t.representante),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.representante),w["\u0275\u0275advance"](10),w["\u0275\u0275property"]("min",t.minDate)("max",t.maxDate)("matDatepicker",a),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",a),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("min",t.minDate2)("matDatepicker",o),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",o),w["\u0275\u0275advance"](17),w["\u0275\u0275property"]("min",t.minDate)("matDatepicker",r),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",r),w["\u0275\u0275advance"](17),w["\u0275\u0275property"]("ngIf",t.delegacionesArray),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("disabled",t.formulario_contrato.invalid),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("disabled",t.formulario_contrato.invalid),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("formGroup",t.formulario_admin_aux),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("value",t.nombre_compelto),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("ngForOf",t.array_delegaciones_admin),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",!t.array_delegaciones_admin),w["\u0275\u0275advance"](14),w["\u0275\u0275property"]("ngForOf",t.array_admin),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("disabled",t.formulario_admin_aux.invalid),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("disabled",!t.verificarArrayAdmin()),w["\u0275\u0275advance"](10),w["\u0275\u0275property"]("formGroup",t.formulario_penas_conv),w["\u0275\u0275advance"](17),w["\u0275\u0275property"]("disabled",t.formulario_penas_conv.invalid),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("disabled",t.formulario_penas_conv.invalid),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("formGroup",t.formulario_penas_ded),w["\u0275\u0275advance"](42),w["\u0275\u0275property"]("ngForOf",t.array_penas_deductivas),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("disabled",t.formulario_penas_ded.invalid),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("disabled",!t.verificarArrayPenas()),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("disabled",t.formulario_penas_conv.invalid),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("formGroup",t.formulario_fianza),w["\u0275\u0275advance"](34),w["\u0275\u0275property"]("ngIf",!t.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.data.editar)}},directives:[h.uh,h.xY,F.a8,F.dn,Pe.SP,Pe.uX,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,M.lW,l.O5,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,s.RequiredValidator,Me.hl,Me.nW,V.R9,Me.Mq,s.NumberValueAccessor,Te.gD,b.ey,T.Hw,l.sg,Re.i$,V.qo,h.H8,s.FormControlDirective,V.bx,Re.Tg,b.X2],styles:[".example-right-align[_ngcontent-%COMP%]{text-align:right}input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}.soloNumeros[_ngcontent-%COMP%]{text-align:left}input.soloNumeros[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.soloNumeros[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}input.soloNumeros[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e}();function Qe(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-card",5),w["\u0275\u0275elementStart"](1,"mat-card-title",6),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3,"Contrato Numero: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"mat-card-content"),w["\u0275\u0275elementStart"](6,"h5",7),w["\u0275\u0275elementStart"](7,"strong"),w["\u0275\u0275text"](8,"Numero de Procedimiento: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"h5",7),w["\u0275\u0275elementStart"](11,"strong"),w["\u0275\u0275text"](12,"Tipo de Procedimiento: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](14,"h5",7),w["\u0275\u0275elementStart"](15,"strong"),w["\u0275\u0275text"](16,"Tipo de Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](18,"h5",7),w["\u0275\u0275elementStart"](19,"strong"),w["\u0275\u0275text"](20,"Inicio de Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"h5",7),w["\u0275\u0275elementStart"](23,"strong"),w["\u0275\u0275text"](24,"Fin de Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](25),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](26,"h5",7),w["\u0275\u0275elementStart"](27,"strong"),w["\u0275\u0275text"](28,"Monto Total (Sin IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](29),w["\u0275\u0275pipe"](30,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](31,"h5",7),w["\u0275\u0275elementStart"](32,"strong"),w["\u0275\u0275text"](33,"Numero de Proveedor: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](34),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](35,"h5",7),w["\u0275\u0275elementStart"](36,"strong"),w["\u0275\u0275text"](37,"Proveedor: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](38),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](39,"h5",7),w["\u0275\u0275elementStart"](40,"strong"),w["\u0275\u0275text"](41,"Fecha de Fallo: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](42),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.NumeroContrato),w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate"](n.Contrato.ProcedContratacion),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.TipoProcedContratacion),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.TipoContrato.Tipo),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.InicioContrato),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.FinContrato),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](30,10,n.Contrato.MontoTotal)),w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate"](n.Contrato.ProveedorNProvImss),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.Proveedor.NombreEmpresa),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.Contrato.FechaFallo)}}var Xe=function(){var e=function(){function e(t,n,a){o(this,e),this.dialogRef=t,this.data=n,this._contrato=a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._contrato.ConsultarContratos(this.data.num_contrato,"","","","","","","","","").subscribe(function(t){e.Contrato=t.Data.registros[0],console.log(e.Contrato)})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](x.d))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-consultar-contrato"]],decls:7,vars:1,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["class","oh text-left little-profile",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[1,"oh","text-left","little-profile"],["align","center"],[1,"m-t-10","m-b-10"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Detalles del Contrato Registrado"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275template"](3,Qe,43,12,"mat-card",2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"div",3),w["\u0275\u0275elementStart"](5,"button",4),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](6,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngIf",t.Contrato))},directives:[h.uh,h.xY,l.O5,h.H8,M.lW,F.a8,F.n5,F.dn],pipes:[l.H9],styles:[""]}),e}(),Ke=r(82051),Ze=r(90911),Je=r(762),et=r(63031),tt=r(24311),nt=r(41293);function at(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",19),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n.id),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.tipo," ")}}function ot(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-form-field"),w["\u0275\u0275elementStart"](1,"mat-label"),w["\u0275\u0275text"](2,"Seleciona el tipo de contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"mat-select",17),w["\u0275\u0275listener"]("selectionChange",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().cambio(e.value)}),w["\u0275\u0275template"](4,at,2,2,"mat-option",18),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("formControl",a.tipo),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",a.tipo_contrato)}}function rt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"ngx-dropzone-preview",20),w["\u0275\u0275listener"]("removed",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onRemove(e)}),w["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),w["\u0275\u0275text"](2),w["\u0275\u0275pipe"](3,"number"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275property"]("removable",!0),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate2"]("",a.name," (",w["\u0275\u0275pipeBind2"](3,3,a.size/1024/1024,".2")," MB)")}}var it=function(e){return{background:e}};function lt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"tr"),w["\u0275\u0275elementStart"](1,"td"),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4),w["\u0275\u0275pipe"](5,"number"),w["\u0275\u0275elementStart"](6,"td"),w["\u0275\u0275elementStart"](7,"button",21),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().ValidarArchivo()}),w["\u0275\u0275element"](8,"span",22),w["\u0275\u0275text"](9," Validar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"button",23),w["\u0275\u0275listener"]("click",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onRemove(e)}),w["\u0275\u0275element"](11,"span",24),w["\u0275\u0275text"](12," Eliminar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"button",25),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().SubirArchivo()}),w["\u0275\u0275element"](14,"span",26),w["\u0275\u0275text"](15," Guardar Registros "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](null==a?null:a.name),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind2"](5,4,(null==a?null:a.size)/1024/1024,".2")," MB "),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngStyle",w["\u0275\u0275pureFunction1"](7,it,o.color)),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("disabled",!o.validado||!o.valor_tipo)}}function ct(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",39),w["\u0275\u0275text"](1,"Numero de contrato"),w["\u0275\u0275elementEnd"]())}function mt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NumContra," ")}}function dt(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",39),w["\u0275\u0275text"](1,"Error"),w["\u0275\u0275elementEnd"]())}function st(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Error)}}function ut(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",39),w["\u0275\u0275text"](1," Columna"),w["\u0275\u0275elementEnd"]())}function pt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Columna,"")}}function ft(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",39),w["\u0275\u0275text"](1," Linea"),w["\u0275\u0275elementEnd"]())}function vt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Linea,"")}}function xt(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",39),w["\u0275\u0275text"](1," Accion"),w["\u0275\u0275elementEnd"]())}function ht(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",40),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"](2).AbrirAccion(e)}),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](o.MensajeBoton(a.Tipo))}}function gt(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function St(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}function Ct(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",7),w["\u0275\u0275elementStart"](1,"h4",27),w["\u0275\u0275text"](2,"Resultado de validacion: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"div",28),w["\u0275\u0275elementStart"](4,"mat-table",29),w["\u0275\u0275elementContainerStart"](5,30),w["\u0275\u0275template"](6,ct,2,0,"mat-header-cell",31),w["\u0275\u0275template"](7,mt,2,1,"mat-cell",32),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](8,33),w["\u0275\u0275template"](9,dt,2,0,"mat-header-cell",31),w["\u0275\u0275template"](10,st,2,1,"mat-cell",32),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](11,34),w["\u0275\u0275template"](12,ut,2,0,"mat-header-cell",31),w["\u0275\u0275template"](13,pt,2,1,"mat-cell",32),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](14,35),w["\u0275\u0275template"](15,ft,2,0,"mat-header-cell",31),w["\u0275\u0275template"](16,vt,2,1,"mat-cell",32),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](17,36),w["\u0275\u0275template"](18,xt,2,0,"mat-header-cell",31),w["\u0275\u0275template"](19,ht,3,1,"mat-cell",32),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](20,gt,1,0,"mat-header-row",37),w["\u0275\u0275template"](21,St,1,0,"mat-row",38),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("dataSource",n.dataSource),w["\u0275\u0275advance"](16),w["\u0275\u0275property"]("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",n.displayedColumns)}}function Et(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h2"),w["\u0275\u0275text"](1,"Archivo sin errores de validacion"),w["\u0275\u0275elementEnd"]())}var bt=function(){var e=function(){function e(t,n,a,r,i){o(this,e),this._contrato=t,this.dialog=n,this.contrato_puesto=a,this.dialogRef=r,this.data=i,this.files=[],this.Errores=[],this.displayedColumns=["NumContrato","Columna","Linea","Error","Tipo"],this.validado=!1,this.color="",this.tipo_contrato=[],this.tipo=new s.FormControl,this.valor_tipo=""}return i(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnInit",value:function(){var e=this,t=(0,Ze.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(t.PuestoId).subscribe(function(t){e.tipo_contrato=t.Data.map(function(e){return{id:e.TipoContrato.Id,tipo:e.TipoContrato.Tipo}})}),this.dataSource=new f.by}},{key:"SubirArchivo",value:function(){var e=this,t=new FormData;t.append("file",this.files[0]),S().fire({title:"Estas seguro de agregar estos datos",showCancelButton:!0,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, agregar"}).then(function(n){n.value&&e._contrato.SubirArchivo(t,e.valor_tipo).subscribe(function(t){console.log(t),S().fire({position:"center",title:t.Mensaje,icon:"success",showConfirmButton:!0}),e.dialogRef.close(!0)},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;console.log(e.Errores),e.color="#d4782c",S().fire({position:"center",title:n.Mensaje,icon:"error",showConfirmButton:!0})}})})}},{key:"ValidarArchivo",value:function(){var e=this;this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores;var t=new FormData;t.append("file",this.files[0]),this._contrato.ValidarArchivo(t).subscribe(function(t){S().fire({position:"center",title:t.Mensaje,icon:"success",showConfirmButton:!0}),e.validado=!0,e.color="#18903f"},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;e.Errores=n.Data,e.dataSource.data=e.Errores,console.log(e.Errores),e.color="#d4782c",S().fire({position:"center",title:n.Mensaje,icon:"error",showConfirmButton:!0})}})}},{key:"cambio",value:function(e){this.valor_tipo=e}},{key:"AbrirAccion",value:function(e){var t=this;if(2===e.Tipo){var n=this.dataSource.data.indexOf(e);console.log(n),this.dialog.open(se.R,{height:"auto",width:"80%",disableClose:!0,data:{editar:!1,proveedor:""}}).afterClosed().subscribe(function(e){!0===e&&t.ValidarArchivo()})}0===e.Tipo&&S().fire({position:"center",title:"Debes editar tu archivo  de carga",text:e.Error,icon:"error",showConfirmButton:!0}),1===e.Tipo&&this.dialog.open(Xe,{height:"auto",width:"50%",disableClose:!0,data:{num_contrato:e.NumContra}}).afterClosed().subscribe(function(e){})}},{key:"MensajeBoton",value:function(e){return 1===e?"Consultar":2===e?"Agregar":"Ver"}},{key:"descargar",value:function(){this._contrato.DescargarPlantillaContrato().subscribe(function(e){console.log(e),File&&(0,Ke.saveAs)(e,"plantilla_contrato.xlsx")})}},{key:"onSelect",value:function(e){var n,a;this.files.length<1&&((n=console).log.apply(n,t(e.addedFiles)),(a=this.files).push.apply(a,t(e.addedFiles)))}},{key:"onRemove",value:function(e){console.log(e),this.files.splice(this.files.indexOf(e),1),this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores,this.color="#0089e1"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](Je.L),w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-carga-csv"]],decls:38,vars:9,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["accept",".xlsx","matTooltip","Solo puedes seleccionar un archivo","matTooltipPosition","above","matTooltipClass","example-tooltip-red",3,"multiple","disableClick","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"table"],["width","30%"],["width","50%"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","color","warn",3,"click"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"removable","removed"],["mat-raised-button","","color","primary",3,"ngStyle","click"],[1,"fa","fa-upload"],["mat-raised-button","","color","warn",1,"m-l-10",3,"click"],[1,"fa","fa-trash"],["mat-raised-button","","color","primary",1,"m-l-10",3,"disabled","click"],[1,"fa","fa-save"],[2,"color","#003366"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","NumContrato"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Error"],["matColumnDef","Columna"],["matColumnDef","Linea"],["matColumnDef","Tipo"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Carga Masiva de Contratos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"div",2),w["\u0275\u0275elementStart"](5,"div",3),w["\u0275\u0275template"](6,ot,5,2,"mat-form-field",4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"mat-card-title"),w["\u0275\u0275elementStart"](8,"button",5),w["\u0275\u0275listener"]("click",function(){return t.descargar()}),w["\u0275\u0275elementStart"](9,"mat-icon"),w["\u0275\u0275text"](10,"cloud_download"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](11," Descargar Plantilla "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](12,"mat-card-content"),w["\u0275\u0275elementStart"](13,"div",6),w["\u0275\u0275elementStart"](14,"div",7),w["\u0275\u0275elementStart"](15,"ngx-dropzone",8),w["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),w["\u0275\u0275elementStart"](16,"ngx-dropzone-label"),w["\u0275\u0275text"](17,"Haga clic o arrastra tu archivo aqui!!"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](18,rt,4,6,"ngx-dropzone-preview",9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"div",7),w["\u0275\u0275elementStart"](20,"p"),w["\u0275\u0275text"](21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"table",10),w["\u0275\u0275elementStart"](23,"thead"),w["\u0275\u0275elementStart"](24,"tr"),w["\u0275\u0275elementStart"](25,"th",11),w["\u0275\u0275text"](26,"Nombre"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](27,"th"),w["\u0275\u0275text"](28,"Tama\xf1o"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](29,"th",12),w["\u0275\u0275text"](30,"Acciones"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](31,"tbody"),w["\u0275\u0275template"](32,lt,16,9,"tr",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](33,Ct,22,4,"div",14),w["\u0275\u0275template"](34,Et,2,0,"h2",4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](35,"div",15),w["\u0275\u0275elementStart"](36,"button",16),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](37,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngIf",t.tipo_contrato),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("disabled",!t.valor_tipo),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("multiple",!1)("disableClick",t.files.length>0),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngForOf",t.files),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate1"]("Archivo para subir: ",null==t.files?null:t.files.length,""),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("ngForOf",t.files),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.Errores&&t.files.length>0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.validado&&t.files.length>0))},directives:[h.uh,h.xY,F.a8,D.xw,D.Wh,D.yH,l.O5,F.n5,M.lW,T.Hw,F.dn,et._f,tt.gM,et.Jj,l.sg,h.H8,V.KE,V.hX,Te.gD,s.RequiredValidator,s.NgControlStatus,s.FormControlDirective,b.ey,et.dt,l.PC,nt.Zl,f.BZ,_.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.ge,_.nU,f.ev,f.XQ,f.Gk],pipes:[l.JJ],styles:["ngx-dropzone:hover{border:2px dotted #0089e1}.example-tooltip-red{background:#661421}"],encapsulation:2}),e}(),yt=r(79058),_t=r(29609),It=r.n(_t),wt=r(30990),Ft=r(21219),kt=r(36278);function Dt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",19),w["\u0275\u0275elementStart"](1,"div",20),w["\u0275\u0275elementStart"](2,"div",21),w["\u0275\u0275elementStart"](3,"mat-form-field",5),w["\u0275\u0275elementStart"](4,"mat-label"),w["\u0275\u0275text"](5,"Nombre del correo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](6,"input",22),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"div",23),w["\u0275\u0275elementStart"](8,"mat-form-field",5),w["\u0275\u0275elementStart"](9,"mat-label"),w["\u0275\u0275text"](10,"Correo electronico"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](11,"input",24),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](12,"div",25),w["\u0275\u0275elementStart"](13,"button",26),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).index;return w["\u0275\u0275nextContext"]().borrarCorreo(e)}),w["\u0275\u0275text"](14," Eliminar "),w["\u0275\u0275elementStart"](15,"mat-icon",10),w["\u0275\u0275text"](16,"email"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.index;w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("formGroupName",a),w["\u0275\u0275advance"](3),w["\u0275\u0275attribute"]("for","TipoCorreo"+a),w["\u0275\u0275advance"](2),w["\u0275\u0275attribute"]("id","TipoCorreo"+a),w["\u0275\u0275advance"](3),w["\u0275\u0275attribute"]("for","Correo"+a),w["\u0275\u0275advance"](2),w["\u0275\u0275attribute"]("id","Correo"+a)}}function Vt(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-error"),w["\u0275\u0275text"](1," Introduce un telefono Valido. "),w["\u0275\u0275elementEnd"]())}function At(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-error"),w["\u0275\u0275text"](1," Extensi\xf3n inv\xe1lida. "),w["\u0275\u0275elementEnd"]())}function Nt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",27),w["\u0275\u0275elementStart"](1,"div",20),w["\u0275\u0275elementStart"](2,"div",21),w["\u0275\u0275elementStart"](3,"mat-form-field",5),w["\u0275\u0275elementStart"](4,"mat-label"),w["\u0275\u0275text"](5,"Nombre del telefono"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](6,"input",28),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"div",21),w["\u0275\u0275elementStart"](8,"mat-form-field",5),w["\u0275\u0275elementStart"](9,"mat-label"),w["\u0275\u0275text"](10,"Telefono"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](11,"input",29),w["\u0275\u0275template"](12,Vt,2,0,"mat-error",30),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"div",31),w["\u0275\u0275elementStart"](14,"mat-form-field",5),w["\u0275\u0275elementStart"](15,"mat-label"),w["\u0275\u0275text"](16,"Extensi\xf3n"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](17,"input",32),w["\u0275\u0275template"](18,At,2,0,"mat-error",30),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"div",33),w["\u0275\u0275elementStart"](20,"button",26),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).index;return w["\u0275\u0275nextContext"]().borrarTelefono(e)}),w["\u0275\u0275text"](21," Eliminar "),w["\u0275\u0275elementStart"](22,"mat-icon",10),w["\u0275\u0275text"](23,"local_phone"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.index,o=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("formGroupName",a),w["\u0275\u0275advance"](3),w["\u0275\u0275attribute"]("for","TipoTelefono"+a),w["\u0275\u0275advance"](2),w["\u0275\u0275attribute"]("id","TipoTelefono"+a),w["\u0275\u0275advance"](3),w["\u0275\u0275attribute"]("for","Telefono"+a),w["\u0275\u0275advance"](2),w["\u0275\u0275attribute"]("id","Telefono"+a),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",null==o.Telefonos.controls[a].get("Telefono").errors?null:o.Telefonos.controls[a].get("Telefono").errors.pattern),w["\u0275\u0275advance"](3),w["\u0275\u0275attribute"]("for","Extension"+a),w["\u0275\u0275advance"](2),w["\u0275\u0275attribute"]("id","Extension"+a),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",null==o.Telefonos.controls[a].get("Extension").errors?null:o.Telefonos.controls[a].get("Extension").errors.pattern)}}function Pt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",25),w["\u0275\u0275elementStart"](1,"button",34),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().editarRepresentante()}),w["\u0275\u0275text"](2,"Guardar Cambios "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",!a.representanteForm.dirty||a.representanteForm.invalid)}}function Mt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",35),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().guardar()}),w["\u0275\u0275elementStart"](1,"button",36),w["\u0275\u0275text"](2,"Guardar Datos "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.representanteForm.invalid)}}var Tt=function(){var t=function(){function t(e,n,a,r,i){o(this,t),this.dialogRef=e,this.data=n,this._representante=a,this.formBuilder=r,this._contactoCont=i,this.titulo="Agregar Representante Legal",this.representanteForm=this.formBuilder.group({NombreCompleto:[null,s.Validators.compose([s.Validators.required])],Correos:this.formBuilder.array([]),Telefonos:this.formBuilder.array([])}),n.editar&&(this.titulo="Editar Representante Legal",this.consultarRepresentante(),this.consultarCorreos(),this.consultarTelefonos()),this.representante=this.data.representante,console.log("Esto llega en el data",this.representante)}return i(t,[{key:"Correos",get:function(){return this.representanteForm.get("Correos")}},{key:"Telefonos",get:function(){return this.representanteForm.get("Telefonos")}},{key:"ngOnInit",value:function(){if(!this.data.editar&&this.representante){this.representanteForm.controls.NombreCompleto.setValue(this.representante.NombreCompleto);var t,n=e(this.representante.Correos);try{for(n.s();!(t=n.n()).done;){var a=t.value;console.log(a);var o=this.formBuilder.group({Correo:[a.Correo,s.Validators.compose([s.Validators.email,s.Validators.required])],TipoCorreo:[a.TipoCorreo,s.Validators.compose([s.Validators.required])]});this.Correos.push(o)}}catch(m){n.e(m)}finally{n.f()}var r,i=e(this.representante.Telefonos);try{for(i.s();!(r=i.n()).done;){var l=r.value,c=this.formBuilder.group({Telefono:[l.Telefono,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],Extension:[l.Extension,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])],TipoTelefono:[l.TipoTelefono,s.Validators.compose([s.Validators.required])]});this.Telefonos.push(c)}}catch(m){i.e(m)}finally{i.f()}}(!this.data.editar&&null==this.representante||""==this.representante)&&(console.log("Mejecuteeee"),this.agregarCorreo(),this.agregarTelefonos())}},{key:"agregarCorreo",value:function(){var e=this.formBuilder.group({Correo:[null,s.Validators.compose([s.Validators.email,s.Validators.required])],TipoCorreo:[null,s.Validators.compose([s.Validators.required])]});this.Correos.push(e)}},{key:"borrarCorreo",value:function(e){var t=this,n=this.Correos.at(e).value;console.log(n),n.Id?S().fire({title:"Eliminar",text:"\xbfEstas seguro de eliminar este correo?",icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(a){a.value&&(console.log("Se tiene que eliminar de la base de datos"),t._contactoCont.EliminarCorreoContrato(n.Id).subscribe(function(n){S().fire("Correcto","El correo ha sido eliminado","success"),t.Correos.removeAt(e)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({icon:"error",title:"Ocurrio un error",text:t.Mensaje})}}))}):(console.log("Solo eliminar del arreglo"),this.Correos.removeAt(e))}},{key:"agregarTelefonos",value:function(){var e=this.formBuilder.group({Telefono:[null,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],Extension:[null,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])],TipoTelefono:[null,s.Validators.compose([s.Validators.required])]});this.Telefonos.push(e)}},{key:"borrarTelefono",value:function(e){var t=this,n=this.Telefonos.at(e).value;console.log(n),n.Id?S().fire({title:"Eliminar",text:"\xbfEstas seguro de eliminar este telefono?",icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(a){a.value&&(console.log("Se tiene que eliminar de la base de datos"),t._contactoCont.EliminarTelefonoContrato(n.Id).subscribe(function(n){S().fire("Correcto","El telefono ha sido eliminado","success"),t.Telefonos.removeAt(e)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({icon:"error",title:"Ocurrio un error",text:t.Mensaje})}}))}):(console.log("Solo eliminar del arreglo"),this.Telefonos.removeAt(e))}},{key:"consultarRepresentante",value:function(){var e=this;this._representante.ConsultaRepresentante(this.data.num_contrato).subscribe(function(t){e.representante=t.Data,console.log(e.representante),e.representanteForm.controls.NombreCompleto.setValue(e.representante.NombreCompleto)})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"guardar",value:function(){console.log(this.representanteForm.value),this.dialogRef.close(this.representanteForm.value)}},{key:"editarRepresentante",value:function(){var e=this;S().fire({title:"Actualizacion",text:"\xbfEstas seguro de actualizar los datos?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",reverseButtons:!0,confirmButtonText:"Si, Actualizar",cancelButtonText:"Cancelar"}).then(function(t){t.value&&e._representante.EditarRepresentante(e.data.num_contrato,e.representanteForm.value).subscribe(function(t){S().fire("Correcto","Los datos han sido actualizados","success"),e.dialogRef.close(!0)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({icon:"error",title:"Ocurrio un error",text:t.Mensaje})}})})}},{key:"consultarCorreos",value:function(){var t=this;this._contactoCont.ConsultaCorreosContrato(this.data.num_contrato).subscribe(function(n){t.correo_contrato=n.Data,console.log("Correos",t.correo_contrato);var a,o=e(n.Data.map(function(e){return{id:e.Id,correo:e.Correos.Correo,tipo:e.TipoCorreo}}));try{for(o.s();!(a=o.n()).done;){var r=a.value,i=t.formBuilder.group({Id:[r.id],Correo:[r.correo,s.Validators.compose([s.Validators.email,s.Validators.required])],TipoCorreo:[r.tipo,s.Validators.compose([s.Validators.required])]});t.Correos.push(i)}}catch(l){o.e(l)}finally{o.f()}})}},{key:"consultarTelefonos",value:function(){var t=this;this._contactoCont.ConsultaTelefonosContrato(this.data.num_contrato).subscribe(function(n){console.log("Telefonosssss",n.Data);var a=n.Data.map(function(e){return{id:e.Id,telefono:e.Telefonos.Telefono,tipo:e.TipoTelefono,extension:e.Extension}});console.log(a);var o,r=e(a);try{for(r.s();!(o=r.n()).done;){var i=o.value,l=t.formBuilder.group({Id:[i.id],Telefono:[i.telefono,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],Extension:[i.extension,s.Validators.compose([s.Validators.pattern("^([0-9])*$")])],TipoTelefono:[i.tipo,s.Validators.compose([s.Validators.required])]});t.Telefonos.push(l)}}catch(c){r.e(c)}finally{r.f()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](wt.i),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](Ft.G))},t.\u0275cmp=w["\u0275\u0275defineComponent"]({type:t,selectors:[["app-representante-legal"]],decls:30,vars:6,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","Nombre y Apellidos","formControlName","NombreCompleto","autocomplete","off","required",""],[1,"p-b-20"],[1,"p-b-10"],["mat-stroked-button","","color","primary","type","button",3,"click"],[1,"material-icons-outlined"],["formArrayName","Correos",4,"ngFor","ngForOf"],[1,"p-b-20",2,"color","#0d453c"],["formArrayName","Telefonos",4,"ngFor","ngForOf"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100","align","start"],["mat-stroked-button","","color","warn","cdkFocusInitial","",3,"click"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100","align","end",4,"ngIf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end",3,"click",4,"ngIf"],["formArrayName","Correos"],["fxLayout","row wrap","fxLayoutAlign","space-between center",3,"formGroupName"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Ej. Personal, Ventas ,Soporte","autocomplete","off","required","","formControlName","TipoCorreo"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Correo","autocomplete","off","required","","formControlName","Correo"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-stroked-button","","color","warn",3,"click"],["formArrayName","Telefonos"],["matInput","","placeholder","Ej. Personal, Ventas ,Soporte","autocomplete","off","required","","formControlName","TipoTelefono"],["matInput","","placeholder","Telefono","maxlength","13","minlength","7","autocomplete","off","required","","formControlName","Telefono"],[4,"ngIf"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","placeholder","Extensi\xf3n","autocomplete","off","formControlName","Extension","maxlength","5"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"form",2),w["\u0275\u0275elementStart"](4,"div",3),w["\u0275\u0275elementStart"](5,"div",4),w["\u0275\u0275elementStart"](6,"mat-form-field",5),w["\u0275\u0275elementStart"](7,"mat-label"),w["\u0275\u0275text"](8,"Nombre del Representante"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](9,"input",6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](10,"mat-divider",7),w["\u0275\u0275elementStart"](11,"div",8),w["\u0275\u0275elementStart"](12,"button",9),w["\u0275\u0275listener"]("click",function(){return t.agregarCorreo()}),w["\u0275\u0275text"](13," Agregar nuevo "),w["\u0275\u0275elementStart"](14,"mat-icon",10),w["\u0275\u0275text"](15,"email"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](16,Dt,17,5,"div",11),w["\u0275\u0275element"](17,"mat-divider",12),w["\u0275\u0275elementStart"](18,"div",8),w["\u0275\u0275elementStart"](19,"button",9),w["\u0275\u0275listener"]("click",function(){return t.agregarTelefonos()}),w["\u0275\u0275text"](20," Agregar nuevo "),w["\u0275\u0275elementStart"](21,"mat-icon",10),w["\u0275\u0275text"](22,"local_phone"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](23,Nt,24,9,"div",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"div",14),w["\u0275\u0275elementStart"](25,"div",15),w["\u0275\u0275elementStart"](26,"button",16),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](27,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](28,Pt,3,1,"div",17),w["\u0275\u0275template"](29,Mt,3,1,"div",18),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](t.titulo),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("formGroup",t.representanteForm),w["\u0275\u0275advance"](13),w["\u0275\u0275property"]("ngForOf",t.Correos.controls),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("ngForOf",t.Telefonos.controls),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("ngIf",t.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",!t.data.editar))},directives:[h.uh,h.xY,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,s.RequiredValidator,kt.d,M.lW,T.Hw,l.sg,h.H8,l.O5,s.FormArrayName,s.FormGroupName,s.MaxLengthValidator,s.MinLengthValidator,V.TO],styles:[""]}),t}(),Rt=r(55850);function Bt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",30),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().DialogProveedor()}),w["\u0275\u0275elementStart"](1,"mat-icon",31),w["\u0275\u0275text"](2,"search"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function jt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",30),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().DialogProveedor()}),w["\u0275\u0275elementStart"](1,"mat-icon",31),w["\u0275\u0275text"](2,"edit"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function Ot(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",30),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().DialogRepresentante()}),w["\u0275\u0275elementStart"](1,"mat-icon",31),w["\u0275\u0275text"](2,"search"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function qt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",30),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().DialogRepresentante()}),w["\u0275\u0275elementStart"](1,"mat-icon",31),w["\u0275\u0275text"](2,"edit"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function zt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",32),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n.Id),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.TipoContrato," ")}}function Lt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",32),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NombreDele," ")}}function $t(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-form-field",5),w["\u0275\u0275elementStart"](1,"mat-label"),w["\u0275\u0275text"](2,"Selecciona una delegacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"mat-select",34),w["\u0275\u0275listener"]("selectionChange",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"](2).seleccionados()}),w["\u0275\u0275template"](4,Lt,2,2,"mat-option",23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("compareWith",a.compareDeleg),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",a.delegacionesArray)}}function Ht(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",4),w["\u0275\u0275template"](1,$t,5,2,"mat-form-field",33),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",!n.data.editar)}}function Ut(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",27),w["\u0275\u0275elementStart"](1,"button",35),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().agregar_contrato()}),w["\u0275\u0275text"](2," Agregar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.formulario_contrato.invalid)}}function Wt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",27),w["\u0275\u0275elementStart"](1,"button",35),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().editarContrato()}),w["\u0275\u0275text"](2," Guardar Cambios "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",!a.formulario_contrato.dirty||a.formulario_contrato.invalid)}}var Gt=function(){var e=function(){function e(t,n,a,r,i,l,c,m,d,s){o(this,e),this.dialogRef=t,this.data=n,this.fb=a,this.dialog=r,this.adapter=i,this._delegaciones=l,this._contrato=c,this._delegacion_contrato=m,this._representante=d,this.contrato_puesto=s,this.fechaInico="",this.fechaFin="",this.fechaFallo="",this.fechaActual=new Date,this.m=this.fechaActual.getUTCMonth(),this.d=this.fechaActual.getDate(),this.y=this.fechaActual.getFullYear(),this.minDate=new Date(this.y-10,this.m,this.d),this.maxDate=new Date(this.y+20,0,1),this.delegacionesArray=[],this.array_delegaciones_admin=[],this.titulo="Agregar Contrato",this.tipo_contrato=[],this.disableAnimation=!0,this.adapter.setLocale("es-mx"),this.contrato=this.data.contrato,this.data.editar&&(this.titulo="Editar Contrato",this.proveedor=this.data.proveedor,this.consultarRepresentante()),this.proveedor=this.data.proveedor,this.representante=this.data.representante,console.log(n.contrato)}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.fecha_inicio=It()(this.data.contrato.InicioContrato,"DD-MM-YYYY"),this.fecha_fin=It()(this.data.contrato.FinContrato,"DD-MM-YYYY"),this.fecha_fallo=It()(this.data.contrato.FechaFallo,"DD-MM-YYYY"),this.fechaInico=this.data.contrato.InicioContrato,this.fechaFin=this.data.contrato.FinContrato,this.fechaFallo=this.data.contrato.FechaFallo,this.crear_formulario_contratos(),this._delegaciones.ConsultarDelegaciones().subscribe(function(t){e.delegacionesArray=t.Data,console.log(e.delegacionesArray)}),this.consultarDelegaciones(),this.consultarTipoContrato()}},{key:"consultarTipoContrato",value:function(){var e=this,t=(0,Ze.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(t.PuestoId).subscribe(function(t){e.tipo_contrato=t.Data.map(function(e){return{Id:e.TipoContrato.Id,TipoContrato:e.TipoContrato.Tipo}}),console.log(e.tipo_contrato)})}},{key:"consultarDelegaciones",value:function(){var e=this;this._delegacion_contrato.ConsultarDelegacionContrato(this.data.contrato.NumeroContrato).subscribe(function(t){var n=t.Data.map(function(e){return e.Delegaciones});console.log(n),e.formulario_contrato.controls.form_delegaciones.setValue(n),e.array_delegaciones_admin=n})}},{key:"compareDeleg",value:function(e,t){return e&&t&&e.NombreDele===t.NombreDele}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"consultarRepresentante",value:function(){var e=this;this._representante.ConsultaRepresentante(this.contrato.NumeroContrato).subscribe(function(t){e.representante=t.Data,console.log(e.representante),e.formulario_contrato.controls.NombreCompleto.setValue(e.representante.NombreCompleto),e.formulario_contrato.controls.AliasEmpresa.setValue(e.proveedor.AliasEmpresa)})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){return e.disableAnimation=!1})}},{key:"crear_formulario_contratos",value:function(){this.formulario_contrato=this.fb.group({NumeroContrato:[this.contrato.NumeroContrato,s.Validators.compose([s.Validators.required])],InicioContrato:[this.fecha_inicio,s.Validators.compose([s.Validators.required])],FinContrato:[this.fecha_fin,s.Validators.compose([s.Validators.required])],ProcedContratacion:[this.contrato.ProcedContratacion,s.Validators.compose([s.Validators.required])],TipoProcedContratacion:[this.contrato.TipoProcedContratacion,s.Validators.compose([s.Validators.required])],FechaFallo:[this.fecha_fallo,s.Validators.compose([s.Validators.required])],MontoTotal:[this.contrato.MontoTotal,s.Validators.compose([s.Validators.required])],TipoContrato:[this.contrato.TipoContrato,s.Validators.compose([s.Validators.required])],NombreCompleto:[this.representante.NombreCompleto,s.Validators.compose([s.Validators.required])],AliasEmpresa:[this.proveedor.AliasEmpresa,s.Validators.compose([s.Validators.required])],form_delegaciones:[null,s.Validators.compose([])]})}},{key:"compare",value:function(e,t){return console.log(e,t),e&&t&&e.TipoContrato===t.TipoContrato}},{key:"DialogProveedor",value:function(){var e=this;this.dialog.open(Ae,{height:"auto",width:"89%",disableClose:!0,data:{proveedor:""}}).afterClosed().subscribe(function(t){t&&(e.proveedor=t,console.log(e.proveedor),e.formulario_contrato.controls.AliasEmpresa.setValue(e.proveedor.AliasEmpresa),e.data.editar&&e.formulario_contrato.controls.AliasEmpresa.markAsDirty())})}},{key:"DialogRepresentante",value:function(){var e=this;this.dialog.open(Tt,{height:"auto",width:"65%",disableClose:!0,data:{representante:this.representante,num_contrato:this.data.contrato.NumeroContrato,editar:this.data.editar}}).afterClosed().subscribe(function(t){t&&(e.data.editar?e.consultarRepresentante():(e.representante=t,console.log(e.representante),e.formulario_contrato.controls.NombreCompleto.setValue(e.representante.NombreCompleto),e.data.editar&&e.formulario_contrato.controls.NombreCompleto.markAsDirty()))})}},{key:"valorFecha",value:function(e){console.log(e.value)}},{key:"valorFechaLimite",value:function(e){console.log(e.value)}},{key:"valorFechaFallo",value:function(e){console.log(e.value)}},{key:"seleccionados",value:function(){this.array_delegaciones_admin=this.formulario_contrato.controls.form_delegaciones.value}},{key:"agregar_contrato",value:function(){var e=this,t=this.array_delegaciones_admin.map(function(e){return e.ClvDele}),n=this.formulario_contrato.getRawValue();n.InicioContrato=this.fechaInico,n.FechaFallo=this.fechaFallo,n.FinContrato=this.fechaFin,n.ProveedorNProvImss=this.proveedor.NProvImss,this.contrato_nuevo={Contrato:n,Delegaciones:t,Representante:this.representante},console.log(this.contrato_nuevo,n.ProveedorNProvImss),S().fire({title:"Confirmacion",text:"Agregar Contrato"+n.NumeroContrato,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si Agregar"}).then(function(t){t.value&&e._contrato.AgregarUnContrato(e.contrato_nuevo).subscribe(function(t){console.log(t),S().fire({position:"center",title:"Correcto",text:t.Mensaje,icon:"success",showConfirmButton:!0}),e.dialogRef.close(!0)})})}},{key:"editarContrato",value:function(){var e=this,t=this.formulario_contrato.getRawValue();t.InicioContrato=this.fechaInico,t.FechaFallo=this.fechaFallo,t.FinContrato=this.fechaFin,t.ProveedorNProvImss=this.proveedor.NProvImss,console.log(t),S().fire({title:"Actualizacion",text:"\xbfEstas seguro de editar la informacion?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, editar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(n){n.value&&e._contrato.ActualizarContrato(e.contrato.Id,t).subscribe(function(t){S().fire("Actualizado",t.Mensaje,"success"),e.dialogRef.close(!0)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](b._A),w["\u0275\u0275directiveInject"](Ne.$),w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](Rt.O),w["\u0275\u0275directiveInject"](wt.i),w["\u0275\u0275directiveInject"](Je.L))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-un-contrato"]],features:[w["\u0275\u0275ProvidersFeature"]([{provide:b.Ad,useValue:"ja-JP"},{provide:b._A,useClass:y.t7,deps:[b.Ad]},{provide:b.sG,useValue:y.$o}])],decls:79,vars:21,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],[2,"background-color","white",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-20"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","formControlName","AliasEmpresa","autocomplete","off","readonly","","required",""],["matSuffix","","mat-icon-button","","color","primary","type","button",3,"click",4,"ngIf"],["matInput","","formControlName","NombreCompleto","autocomplete","off","readonly","","required",""],["matInput","","placeholder","Numero de contrato","formControlName","NumeroContrato","autocomplete","off","required",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","InicioContrato","required","",3,"min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FinContrato","required","",3,"min","matDatepicker","dateChange"],["picker2",""],["matInput","","placeholder","Procedimiento de contratacion","formControlName","ProcedContratacion","autocomplete","off","required",""],["matInput","","placeholder","Descripcion del procedimiento","formControlName","TipoProcedContratacion","autocomplete","off","required",""],["matInput","","placeholder","Fecha del fallo","readonly","","formControlName","FechaFallo","required","",3,"min","matDatepicker","dateChange"],["picker3",""],["matInput","","placeholder","Monto total del contrato","formControlName","MontoTotal","autocomplete","off","type","number","required","",1,"soloNumeros"],["formControlName","TipoContrato","required","",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center","align","end"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100"],["mat-stroked-button","","color","warn","cdkFocusInitial","",3,"click"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["matSuffix","","mat-icon-button","","color","primary","type","button",3,"click"],["aria-label","Selecciona"],[3,"value"],["appearance","outline",4,"ngIf"],["multiple","","formControlName","form_delegaciones",3,"compareWith","selectionChange"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"form",2),w["\u0275\u0275elementStart"](4,"div",3),w["\u0275\u0275elementStart"](5,"div",4),w["\u0275\u0275elementStart"](6,"mat-form-field",5),w["\u0275\u0275elementStart"](7,"mat-label"),w["\u0275\u0275text"](8,"Selecciona Proveedor"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](9,"input",6),w["\u0275\u0275template"](10,Bt,3,0,"button",7),w["\u0275\u0275template"](11,jt,3,0,"button",7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](12,"div",4),w["\u0275\u0275elementStart"](13,"mat-form-field",5),w["\u0275\u0275elementStart"](14,"mat-label"),w["\u0275\u0275text"](15,"Informaci\xf3n del representante"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](16,"input",8),w["\u0275\u0275template"](17,Ot,3,0,"button",7),w["\u0275\u0275template"](18,qt,3,0,"button",7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"div",4),w["\u0275\u0275elementStart"](20,"mat-form-field",5),w["\u0275\u0275elementStart"](21,"mat-label"),w["\u0275\u0275text"](22,"Numero de contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](23,"input",9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"div",4),w["\u0275\u0275elementStart"](25,"mat-form-field",10),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](31).open()}),w["\u0275\u0275elementStart"](26,"mat-label"),w["\u0275\u0275text"](27,"Fecha Inicio contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](28,"input",11),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFecha(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](29,"mat-datepicker-toggle",12),w["\u0275\u0275element"](30,"mat-datepicker",13,14),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](32,"div",4),w["\u0275\u0275elementStart"](33,"mat-form-field",10),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](39).open()}),w["\u0275\u0275elementStart"](34,"mat-label"),w["\u0275\u0275text"](35,"Fecha fin contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](36,"input",15),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaLimite(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](37,"mat-datepicker-toggle",12),w["\u0275\u0275element"](38,"mat-datepicker",13,16),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](40,"div",4),w["\u0275\u0275elementStart"](41,"mat-form-field",5),w["\u0275\u0275elementStart"](42,"mat-label"),w["\u0275\u0275text"](43,"Procedimiento de contratacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](44,"input",17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](45,"div",4),w["\u0275\u0275elementStart"](46,"mat-form-field",5),w["\u0275\u0275elementStart"](47,"mat-label"),w["\u0275\u0275text"](48,"Descripcion Procedimiento"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](49,"input",18),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](50,"div",4),w["\u0275\u0275elementStart"](51,"mat-form-field",10),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](57).open()}),w["\u0275\u0275elementStart"](52,"mat-label"),w["\u0275\u0275text"](53,"Fecha Fallo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](54,"input",19),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFechaFallo(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](55,"mat-datepicker-toggle",12),w["\u0275\u0275element"](56,"mat-datepicker",13,20),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](58,"div",4),w["\u0275\u0275elementStart"](59,"mat-form-field",5),w["\u0275\u0275elementStart"](60,"mat-label"),w["\u0275\u0275text"](61,"Monto total del contrato sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](62,"input",21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](63,"div",4),w["\u0275\u0275elementStart"](64,"mat-form-field",5),w["\u0275\u0275elementStart"](65,"mat-label"),w["\u0275\u0275text"](66,"Tipo de Contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](67,"mat-select",22),w["\u0275\u0275template"](68,zt,2,2,"mat-option",23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](69,Ht,2,1,"div",24),w["\u0275\u0275elementStart"](70,"div",25),w["\u0275\u0275elementStart"](71,"label"),w["\u0275\u0275text"](72,"* Campos requeridos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](73,"div",26),w["\u0275\u0275elementStart"](74,"div",27),w["\u0275\u0275elementStart"](75,"button",28),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](76,"Cancelar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](77,Ut,3,1,"div",29),w["\u0275\u0275template"](78,Wt,3,1,"div",29),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275reference"](31),o=w["\u0275\u0275reference"](39),r=w["\u0275\u0275reference"](57);w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](t.titulo),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("formGroup",t.formulario_contrato),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("ngIf",!t.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.data.editar),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngIf",!t.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.data.editar),w["\u0275\u0275advance"](10),w["\u0275\u0275property"]("min",t.minDate)("max",t.maxDate)("matDatepicker",a),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",a),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("min",t.minDate2)("matDatepicker",o),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",o),w["\u0275\u0275advance"](17),w["\u0275\u0275property"]("min",t.minDate)("matDatepicker",r),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",r),w["\u0275\u0275advance"](12),w["\u0275\u0275property"]("compareWith",t.compare),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",t.tipo_contrato),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.delegacionesArray),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("ngIf",!t.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.data.editar)}},directives:[h.uh,h.xY,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,s.RequiredValidator,l.O5,Me.hl,Me.nW,V.R9,Me.Mq,s.NumberValueAccessor,Te.gD,l.sg,h.H8,M.lW,T.Hw,b.ey],styles:[""]}),e}();function Yt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",4),w["\u0275\u0275elementStart"](1,"mat-card",14),w["\u0275\u0275elementStart"](2,"div",6),w["\u0275\u0275elementStart"](3,"h5",7),w["\u0275\u0275text"](4,"Monto total registrado en el contrato sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"h3",7),w["\u0275\u0275text"](6),w["\u0275\u0275pipe"](7,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](6),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](7,1,n.Contrato.MontoTotal),"")}}function Qt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",4),w["\u0275\u0275elementStart"](1,"mat-card",15),w["\u0275\u0275elementStart"](2,"div",6),w["\u0275\u0275elementStart"](3,"h5",7),w["\u0275\u0275text"](4,"Monto total registrado previamente sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"h3",7),w["\u0275\u0275text"](6),w["\u0275\u0275pipe"](7,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](6),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](7,1,n.MontoContratado),"")}}function Xt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",16),w["\u0275\u0275elementStart"](1,"mat-card",17),w["\u0275\u0275elementStart"](2,"div",6),w["\u0275\u0275elementStart"](3,"h5",7),w["\u0275\u0275text"](4,"Monto Excedido sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"h3",7),w["\u0275\u0275text"](6),w["\u0275\u0275pipe"](7,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](6),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](7,1,n.data.total_contratado+n.MontoContratado-n.Contrato.MontoTotal))}}function Kt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",18),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().AutorizacionEdicion()}),w["\u0275\u0275text"](1,"Editar Monto Total del Contrato "),w["\u0275\u0275elementEnd"]()}}function Zt(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",16),w["\u0275\u0275elementStart"](1,"mat-form-field",19),w["\u0275\u0275elementStart"](2,"mat-label"),w["\u0275\u0275text"](3,"Monto Total sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](4,"input",20),w["\u0275\u0275elementStart"](5,"span",21),w["\u0275\u0275text"](6,"$\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"mat-hint"),w["\u0275\u0275text"](8),w["\u0275\u0275pipe"](9,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("formControl",n.Monto),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate1"]("**Monto total sugerido: ",w["\u0275\u0275pipeBind1"](9,2,n.MontoSugerido),"")}}function Jt(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",22),w["\u0275\u0275elementStart"](1,"button",23),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().ActualizarMonto()}),w["\u0275\u0275element"](2,"span",24),w["\u0275\u0275text"](3," Guardar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.Monto.invalid)}}var en=function(){var e=function(){function e(t,n,a,r){o(this,e),this.dialogRef=t,this.data=n,this._contrato=a,this._conceptos=r,this.Conceptos=[],this.Autorizado=!1,this.Monto=new s.FormControl(null,s.Validators.required)}return i(e,[{key:"ngOnInit",value:function(){var e=this;console.log(this.data.num_contrato),this._contrato.ConsultarContratos(this.data.num_contrato,"","","","","","","","","").subscribe(function(t){e.Contrato=t.Data.registros[0],console.log(e.Contrato)}),this._conceptos.ConsultarConceptosContrato(this.data.num_contrato).subscribe(function(t){e.Conceptos=t.Data.registros,e.MontoContratado=t.Data.total,console.log(e.Conceptos,e.MontoContratado)})}},{key:"AutorizacionEdicion",value:function(){var e=this;S().fire({title:"\xbfEstas Seguro?",text:"Editaras el monto total del contrato",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, editar"}).then(function(t){t.value&&(e.Autorizado=!0,e.MontoSugerido=e.data.total_contratado+e.MontoContratado-e.Contrato.MontoTotal+e.Contrato.MontoTotal,e.Monto.setValue(e.MontoSugerido))})}},{key:"ActualizarMonto",value:function(){var e=this;null!==this.Monto.value&&S().fire({title:"Estas Seguro",text:"Editaras el monto total del contrato",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, editar"}).then(function(t){t.value&&(e.Contrato.MontoTotal=e.Monto.value,e._contrato.ActualizarContrato(e.Contrato.Id,e.Contrato).subscribe(function(t){S().fire("Actualizado",t.Mensaje,"success"),e.dialogRef.close(!0)}))})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](yt.h))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-examinar-monto-contrato"]],decls:27,vars:10,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[1,"bg-warning","text-inverse","text-center"],[1,"p-10"],[1,"m-0"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["fxFlex.gt-sm","18","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn",3,"click"],[1,"bg-megna","text-white","text-center"],[1,"bg-info","text-white","text-center"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],[1,"bg-danger","text-white","text-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],["matInput","","type","number","placeholder","Monto Total sin IVA","autocomplete","off",1,"example-right-align",3,"formControl"],["matPrefix",""],["fxFlex.gt-sm","18","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"fa","fa-save"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-content"),w["\u0275\u0275elementStart"](5,"div",2),w["\u0275\u0275template"](6,Yt,8,3,"div",3),w["\u0275\u0275template"](7,Qt,8,3,"div",3),w["\u0275\u0275elementStart"](8,"div",4),w["\u0275\u0275elementStart"](9,"mat-card",5),w["\u0275\u0275elementStart"](10,"div",6),w["\u0275\u0275elementStart"](11,"h5",7),w["\u0275\u0275text"](12,"Monto total a registrar sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"h3",7),w["\u0275\u0275text"](14),w["\u0275\u0275pipe"](15,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](16,Xt,8,3,"div",8),w["\u0275\u0275elementStart"](17,"div",4),w["\u0275\u0275template"](18,Kt,2,0,"button",9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](19,Zt,10,4,"div",8),w["\u0275\u0275template"](20,Jt,4,1,"div",10),w["\u0275\u0275elementStart"](21,"div",11),w["\u0275\u0275elementStart"](22,"small"),w["\u0275\u0275text"](23,"Nota: Si el monto total del contrato es correcto, se debera validar el precio de los conceptos y las cantidades."),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"div",12),w["\u0275\u0275elementStart"](25,"button",13),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](26,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"]("Numero de Contrato: ",t.data.num_contrato,""),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("ngIf",t.Contrato),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.MontoContratado),w["\u0275\u0275advance"](7),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](15,8,t.data.total_contratado)),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",t.MontoContratado),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",!t.Autorizado),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.Autorizado),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.Autorizado))},directives:[h.uh,h.xY,F.a8,F.dn,D.xw,D.Wh,l.O5,D.yH,h.H8,M.lW,V.KE,V.hX,A.Nt,s.NumberValueAccessor,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,V.qo,V.bx],pipes:[l.H9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}.example-right-align[_ngcontent-%COMP%]{text-align:right}"]}),e}(),tn=r(21287);function nn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",22),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.tipo," ")}}function an(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-form-field",19),w["\u0275\u0275elementStart"](1,"mat-label"),w["\u0275\u0275text"](2,"Seleciona el tipo de contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"mat-select",20),w["\u0275\u0275listener"]("selectionChange",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().tipoSeleccionado(e.value)}),w["\u0275\u0275template"](4,nn,2,2,"mat-option",21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngForOf",a.tipo_contrato)}}function on(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",24),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.SubTipo," ")}}function rn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-form-field",19),w["\u0275\u0275elementStart"](1,"mat-label"),w["\u0275\u0275text"](2,"Selecciona"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"mat-select",20),w["\u0275\u0275listener"]("selectionChange",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().subTipoSeleccionado(e.value)}),w["\u0275\u0275template"](4,on,2,2,"mat-option",23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngForOf",a.lista_sub_tipos)}}function ln(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"ngx-dropzone-preview",25),w["\u0275\u0275listener"]("removed",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onRemove(e)}),w["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),w["\u0275\u0275text"](2),w["\u0275\u0275pipe"](3,"number"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275property"]("removable",!0),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate2"]("",a.name," (",w["\u0275\u0275pipeBind2"](3,3,a.size/1024/1024,".2")," MB)")}}var cn=function(e){return{background:e}};function mn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"tr"),w["\u0275\u0275elementStart"](1,"td"),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4),w["\u0275\u0275pipe"](5,"number"),w["\u0275\u0275elementStart"](6,"td"),w["\u0275\u0275elementStart"](7,"button",26),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().ValidarArchivo()}),w["\u0275\u0275element"](8,"span",27),w["\u0275\u0275text"](9," Validar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"button",28),w["\u0275\u0275listener"]("click",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onRemove(e)}),w["\u0275\u0275element"](11,"span",29),w["\u0275\u0275text"](12," Eliminar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"button",30),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().AgregarConceptos()}),w["\u0275\u0275element"](14,"span",31),w["\u0275\u0275text"](15," Guardar Registros "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](null==a?null:a.name),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind2"](5,4,(null==a?null:a.size)/1024/1024,".2")," MB "),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngStyle",w["\u0275\u0275pureFunction1"](7,cn,o.color)),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("disabled",!o.validado)}}function dn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",44),w["\u0275\u0275text"](1,"Numero de contrato"),w["\u0275\u0275elementEnd"]())}function sn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NumContrato," ")}}function un(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",44),w["\u0275\u0275text"](1,"Error"),w["\u0275\u0275elementEnd"]())}function pn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Error)}}function fn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",44),w["\u0275\u0275text"](1," Columna"),w["\u0275\u0275elementEnd"]())}function vn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Columna,"")}}function xn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",44),w["\u0275\u0275text"](1," Fila"),w["\u0275\u0275elementEnd"]())}function hn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Fila,"")}}function gn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",44),w["\u0275\u0275text"](1," Accion"),w["\u0275\u0275elementEnd"]())}function Sn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",45),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"](2).AbrirAccion(e)}),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](o.MensajeBoton(a.Tipo))}}function Cn(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function En(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}function bn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",8),w["\u0275\u0275elementStart"](1,"h4",32),w["\u0275\u0275text"](2,"Resultado de validacion: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"div",33),w["\u0275\u0275elementStart"](4,"mat-table",34),w["\u0275\u0275elementContainerStart"](5,35),w["\u0275\u0275template"](6,dn,2,0,"mat-header-cell",36),w["\u0275\u0275template"](7,sn,2,1,"mat-cell",37),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](8,38),w["\u0275\u0275template"](9,un,2,0,"mat-header-cell",36),w["\u0275\u0275template"](10,pn,2,1,"mat-cell",37),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](11,39),w["\u0275\u0275template"](12,fn,2,0,"mat-header-cell",36),w["\u0275\u0275template"](13,vn,2,1,"mat-cell",37),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](14,40),w["\u0275\u0275template"](15,xn,2,0,"mat-header-cell",36),w["\u0275\u0275template"](16,hn,2,1,"mat-cell",37),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](17,41),w["\u0275\u0275template"](18,gn,2,0,"mat-header-cell",36),w["\u0275\u0275template"](19,Sn,3,1,"mat-cell",37),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](20,Cn,1,0,"mat-header-row",42),w["\u0275\u0275template"](21,En,1,0,"mat-row",43),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("dataSource",n.dataSource),w["\u0275\u0275advance"](16),w["\u0275\u0275property"]("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",n.displayedColumns)}}function yn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h2"),w["\u0275\u0275text"](1,"Archivo sin errores de validacion"),w["\u0275\u0275elementEnd"]())}var _n=function(){var e=function(){function e(t,n,a,r,i,l){o(this,e),this._conceptos=t,this.dialogRef=n,this.data=a,this.dialog=r,this.contrato_puesto=i,this._sub_tipo=l,this.files=[],this.Errores=[],this.displayedColumns=["NumContrato","Linea","Fila","Error","Tipo"],this.validado=!1,this.color="",this.tipo_contrato=[],this.tipo_seleccionado="",this.sub_tipo_seleccionado="",this.nombre_plantilla="",this.lista_sub_tipos=[]}return i(e,[{key:"ngOnInit",value:function(){var e=this,t=(0,Ze.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(t.PuestoId).subscribe(function(t){e.tipo_contrato=t.Data.map(function(e){return{id:e.TipoContrato.Id,tipo:e.TipoContrato.Tipo}})}),this.dataSource=new f.by}},{key:"tipoSeleccionado",value:function(e){this.tipo_seleccionado="",this.nombre_plantilla="",console.log(e),this.consultarSubTipo(e)}},{key:"subTipoSeleccionado",value:function(e){console.log(e),this.sub_tipo_seleccionado=e.Id,this.nombre_plantilla=e.SubTipo}},{key:"consultarSubTipo",value:function(e){var t=this;this._sub_tipo.ConsultaSubTipo(e.id).subscribe(function(n){t.lista_sub_tipos=n.Data,0===t.lista_sub_tipos.length&&(t.lista_sub_tipos=[],t.tipo_seleccionado=e.id,t.nombre_plantilla=e.tipo)},function(e){""===e.error&&void 0===e.error||console.log(e.error)})}},{key:"onRemove",value:function(e){console.log(e),this.files.splice(this.files.indexOf(e),1),this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores,this.color="#0089e1"}},{key:"onSelect",value:function(e){var n,a;this.files.length<1&&((n=console).log.apply(n,t(e.addedFiles)),(a=this.files).push.apply(a,t(e.addedFiles)))}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ValidarArchivo",value:function(){var e=this,t=null!==this.tipo_seleccionado?this.tipo_seleccionado:"",n=null!==this.sub_tipo_seleccionado?this.sub_tipo_seleccionado:"";this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores;var a=new FormData;a.append("file",this.files[0]),this._conceptos.ValidarConceptosFile(a,t,n).subscribe(function(t){console.log(t),S().fire({position:"center",title:t.Mensaje,icon:"success",showConfirmButton:!0}),e.validado=!0,e.color="#18903f"},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;e.Errores=n.Data,e.dataSource.data=e.Errores,console.log(e.Errores),e.color="#d4782c",S().fire({position:"center",title:n.Mensaje,icon:"error",showConfirmButton:!0})}})}},{key:"AgregarConceptos",value:function(){var e=this,t=new FormData;t.append("file",this.files[0]);var n=null!==this.tipo_seleccionado?this.tipo_seleccionado:"",a=null!==this.sub_tipo_seleccionado?this.sub_tipo_seleccionado:"";S().fire({title:"Estas seguro de agregar estos datos",showCancelButton:!0,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, agregar"}).then(function(o){o.value&&e._conceptos.AgregarConceptosArchivo(t,n,a).subscribe(function(t){S().fire("Agregados!","Los Datos se han guardado exitosamente","success"),e.dialogRef.close(!0)},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;console.log(e.Errores),e.color="#d4782c",S().fire({position:"center",title:n.Mensaje,icon:"error",showConfirmButton:!0})}})})}},{key:"descargar",value:function(){var e=this;console.log("Tipo",this.tipo_seleccionado,"-----nombre",this.nombre_plantilla);var t=this.nombre_plantilla.toLocaleLowerCase().split(" ").join("_");console.log(t),this._conceptos.DescargarArchivoPlantilla(t).subscribe(function(e){console.log(e),File&&(console.log(File),(0,Ke.saveAs)(e,"plantilla_"+t+".xlsx"))},function(t){""===t.error&&void 0===t.error||(console.log(e.Errores),S().fire({position:"center",title:"No se encontro el archivo",icon:"error",showConfirmButton:!0}))})}},{key:"MensajeBoton",value:function(e){return 1===e?"Agregar":2===e?"Consultar":"Ver"}},{key:"AbrirAccion",value:function(e){var t=this;2===e.Tipo&&this.dialog.open(en,{height:"auto",width:"70%",disableClose:!0,data:{num_contrato:e.NumContrato,total_contratado:e.Suma}}).afterClosed().subscribe(function(e){!0===e&&t.ValidarArchivo()}),1===e.Tipo&&this.dialog.open(Gt,{height:"auto",width:"90%",disableClose:!0,data:{}}).afterClosed().subscribe(function(e){!0===e&&t.ValidarArchivo()}),0===e.Tipo&&S().fire({position:"center",title:"Debes editar tu archivo  de carga",text:e.Error,icon:"error",showConfirmButton:!0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](yt.h),w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](Je.L),w["\u0275\u0275directiveInject"](tn.O))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-enviar-archivo-concept"]],decls:40,vars:10,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline",4,"ngIf"],["fxFlex.gt-sm","35","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["accept",".xlsx","matTooltip","Solo puedes seleccionar un archivo","matTooltipPosition","above","matTooltipClass","example-tooltip-red",3,"multiple","disableClick","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"table"],["width","30%"],["width","50%"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn",3,"click"],["appearance","outline"],["required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["style","font-size: 13px",3,"value",4,"ngFor","ngForOf"],[2,"font-size","13px",3,"value"],[3,"removable","removed"],["mat-raised-button","","color","primary",3,"ngStyle","click"],[1,"fa","fa-upload"],["mat-raised-button","","color","warn",1,"m-l-10",3,"click"],[1,"fa","fa-trash"],["mat-raised-button","","color","primary",1,"m-l-10",3,"disabled","click"],[1,"fa","fa-save"],[2,"color","#003366"],[1,"responsive-table","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","NumContrato"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Error"],["matColumnDef","Linea"],["matColumnDef","Fila"],["matColumnDef","Tipo"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Carga masiva de conceptos o servicios de contratos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"div",2),w["\u0275\u0275elementStart"](5,"div",3),w["\u0275\u0275template"](6,an,5,1,"mat-form-field",4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"div",5),w["\u0275\u0275template"](8,rn,5,1,"mat-form-field",4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"mat-card-title"),w["\u0275\u0275elementStart"](10,"button",6),w["\u0275\u0275listener"]("click",function(){return t.descargar()}),w["\u0275\u0275elementStart"](11,"mat-icon"),w["\u0275\u0275text"](12,"cloud_download"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](13," Descaragar Plantilla "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](14,"mat-card-content"),w["\u0275\u0275elementStart"](15,"div",7),w["\u0275\u0275elementStart"](16,"div",8),w["\u0275\u0275elementStart"](17,"ngx-dropzone",9),w["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),w["\u0275\u0275elementStart"](18,"ngx-dropzone-label"),w["\u0275\u0275text"](19,"Haga clic o arrastra tu archivo aqui!!"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](20,ln,4,6,"ngx-dropzone-preview",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](21,"div",8),w["\u0275\u0275elementStart"](22,"p"),w["\u0275\u0275text"](23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"table",11),w["\u0275\u0275elementStart"](25,"thead"),w["\u0275\u0275elementStart"](26,"tr"),w["\u0275\u0275elementStart"](27,"th",12),w["\u0275\u0275text"](28,"Nombre"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](29,"th"),w["\u0275\u0275text"](30,"Tama\xf1o"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](31,"th",13),w["\u0275\u0275text"](32,"Acciones"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](33,"tbody"),w["\u0275\u0275template"](34,mn,16,9,"tr",14),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](35,bn,22,4,"div",15),w["\u0275\u0275template"](36,yn,2,0,"h2",16),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](37,"div",17),w["\u0275\u0275elementStart"](38,"button",18),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](39,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngIf",t.tipo_contrato),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",t.lista_sub_tipos.length>0),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("disabled",!t.tipo_seleccionado&&!t.sub_tipo_seleccionado),w["\u0275\u0275advance"](7),w["\u0275\u0275property"]("multiple",!1)("disableClick",t.files.length>0),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngForOf",t.files),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate1"]("Archivo para subir: ",null==t.files?null:t.files.length,""),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("ngForOf",t.files),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.Errores&&t.files.length>0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.validado&&t.files.length>0))},directives:[h.uh,h.xY,F.a8,D.xw,D.Wh,D.yH,l.O5,F.n5,M.lW,T.Hw,F.dn,et._f,tt.gM,et.Jj,l.sg,h.H8,V.KE,V.hX,Te.gD,b.ey,et.dt,l.PC,nt.Zl,f.BZ,_.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.ge,_.nU,f.ev,f.XQ,f.Gk],pipes:[l.JJ],styles:["ngx-dropzone:hover{border:2px dotted #0089e1}.example-tooltip-red{background:#661421}"],encapsulation:2}),e}(),In=r(66102),wn=r(20760);function Fn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",14),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate2"](" ",n.ClvDele," ",n.NombreDele," ")}}function kn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",14),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.DenominacionUni," ")}}function Dn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-error"),w["\u0275\u0275text"](1," Ingresa solo numeros. "),w["\u0275\u0275elementEnd"]())}function Vn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-error"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" La cantidad max es ",n.por_distribuir,". ")}}function An(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-error"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" La cantidad max es ",n.por_distribuir+n.data.distribucion.Cantidad,". ")}}function Nn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"form",5),w["\u0275\u0275elementStart"](1,"div",6),w["\u0275\u0275elementStart"](2,"div",7),w["\u0275\u0275elementStart"](3,"mat-form-field",8),w["\u0275\u0275elementStart"](4,"mat-label"),w["\u0275\u0275text"](5,"Selecciona una delegacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"mat-select",9),w["\u0275\u0275listener"]("selectionChange",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().valorSelecDeleg(e.value)}),w["\u0275\u0275template"](7,Fn,2,3,"mat-option",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"div",7),w["\u0275\u0275elementStart"](9,"mat-form-field",8),w["\u0275\u0275elementStart"](10,"mat-label"),w["\u0275\u0275text"](11,"Unidad Medica"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](12,"mat-select",11),w["\u0275\u0275template"](13,kn,2,2,"mat-option",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](14,"div",7),w["\u0275\u0275elementStart"](15,"mat-form-field",8),w["\u0275\u0275elementStart"](16,"mat-label"),w["\u0275\u0275text"](17,"Cantidad a distribuir"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](18,"input",12),w["\u0275\u0275template"](19,Dn,2,0,"mat-error",13),w["\u0275\u0275template"](20,Vn,2,1,"mat-error",13),w["\u0275\u0275template"](21,An,2,1,"mat-error",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("formGroup",a.formularioDistribucion),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("compareWith",a.compare),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",a.delegacionesArray),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("compareWith",a.UnidadSeleccionada),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",a.UM),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngIf",a.formularioDistribucion.controls.Cantidad.hasError("pattern")),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.formularioDistribucion.controls.Cantidad.hasError("max")&&!a.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.formularioDistribucion.controls.Cantidad.hasError("max")&&a.data.editar)}}function Pn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",16),w["\u0275\u0275elementStart"](1,"button",19),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"](2).EditarDistribucion()}),w["\u0275\u0275text"](2," Editar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.formularioDistribucion.invalid||!a.formularioDistribucion.dirty)}}function Mn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",16),w["\u0275\u0275elementStart"](1,"button",20),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"](2).agregardistribucion()}),w["\u0275\u0275elementStart"](2,"mat-icon"),w["\u0275\u0275text"](3,"save"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4," Guardar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.formularioDistribucion.invalid)}}function Tn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",15),w["\u0275\u0275elementStart"](1,"div",16),w["\u0275\u0275elementStart"](2,"button",17),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onNoClick()}),w["\u0275\u0275text"](3," Cerrar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](4,Pn,3,1,"div",18),w["\u0275\u0275template"](5,Mn,5,1,"div",18),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",a.data.editar),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",!a.data.editar)}}var Rn=function(){var t=function(){function t(e,n,a,r,i,l){o(this,t),this.dialogRef=e,this.data=n,this.fb=a,this._unidades=r,this._distribucion=i,this._delegaciones=l,this.UM=[],this.distribucion=[],this.delegacionesArray=[],this.cambioDelegacion=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.por_distribuir=this.data.cantidadMax,this.consultarDistribucion(),this._delegaciones.ConsultarDelegaciones().subscribe(function(t){e.delegacionesArray=t.Data,e.CrearFormularioReactivo()})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"consultarDistribucion",value:function(){var e=this;this._distribucion.ConsultarDistribucion(this.data.id_concepto.Id).subscribe(function(t){e.distribucion=t.Data})}},{key:"CrearFormularioReactivo",value:function(){this.formularioDistribucion=this.fb.group({Cantidad:[null,s.Validators.compose([s.Validators.pattern("^([0-9])*$"),s.Validators.required,s.Validators.min(1),s.Validators.max(this.por_distribuir)])],UnidadMedClvPresupuestal:new s.FormControl({value:null,disabled:!0},s.Validators.required),Delegacion:[null,s.Validators.required]}),this.data.editar&&(this.formularioDistribucion.controls.Cantidad.setValue(this.data.distribucion.Cantidad),this.formularioDistribucion.controls.Cantidad.setValidators([s.Validators.pattern("^([0-9])*$"),s.Validators.required,s.Validators.min(1),s.Validators.max(this.por_distribuir+this.data.distribucion.Cantidad)]),this.formularioDistribucion.controls.Delegacion.setValue(this.data.distribucion.UnidadMed.Delegacion),this.formularioDistribucion.controls.UnidadMedClvPresupuestal.setValue(this.data.distribucion.UnidadMed),this.cambioDelegacion=!0,this.valorSelecDeleg(this.data.distribucion.UnidadMed.Delegacion))}},{key:"compare",value:function(e,t){return e&&t&&e.NombreDele===t.NombreDele}},{key:"UnidadSeleccionada",value:function(e,t){return e&&t&&e.DenominacionUni===t.DenominacionUni}},{key:"valorSelecDeleg",value:function(e){var t=this;null===e&&""===e||this._unidades.unidades(e.ClvDele).subscribe(function(e){t.UM=e.Data,t.formularioDistribucion.controls.UnidadMedClvPresupuestal.reset(),t.formularioDistribucion.controls.UnidadMedClvPresupuestal.enable(),t.FiltrarUnidadesMed()},function(e){console.log(e)})}},{key:"FiltrarUnidadesMed",value:function(){var t,n=e(this.distribucion.map(function(e){return e.UnidadMed}));try{for(n.s();!(t=n.n()).done;){var a=t.value,o=this.UM.map(function(e){return e.Id}).indexOf(a.Id);o>=0&&this.UM.splice(o,1)}}catch(r){n.e(r)}finally{n.f()}this.data.editar&&this.cambioDelegacion&&(this.formularioDistribucion.controls.UnidadMedClvPresupuestal.setValue(this.data.distribucion.UnidadMed),this.UM.push(this.data.distribucion.UnidadMed),this.cambioDelegacion=!1),console.log("Eliminados",this.UM)}},{key:"agregardistribucion",value:function(){var e=this,t=this.formularioDistribucion.getRawValue(),n=this.formularioDistribucion.controls.Delegacion.value;console.log(t);var a={Id:"",UnidadMedClvPresupuestal:t.UnidadMedClvPresupuestal.ClvPresupuestal,ConceptoContratoId:this.data.id_concepto.Id,Cantidad:parseInt(t.Cantidad,10)};console.log(a,this.data.id_concepto.ContratoNumeroContrato,n.ClvDele,this.data.id_concepto.CantidadConcepto),S().fire({title:"Confirmacion",text:"Estas seguro de agregar esta distribucion",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Agregar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(t){t.value&&e._distribucion.AgregaDistribucion(a,e.data.id_concepto.CantidadConcepto,e.data.id_concepto.ContratoNumeroContrato,n.ClvDele).subscribe(function(t){S().fire("Correcto",t.Mensaje,"success"),e.dialogRef.close(!0)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}console.log(e)})})}},{key:"EditarDistribucion",value:function(){var e=this,t=this.formularioDistribucion.getRawValue(),n=this.formularioDistribucion.controls.Delegacion.value;console.log(t);var a={Id:this.data.distribucion.Id,UnidadMedClvPresupuestal:t.UnidadMedClvPresupuestal.ClvPresupuestal,ConceptoContratoId:this.data.id_concepto.Id,Cantidad:parseInt(t.Cantidad,10)};S().fire({title:"Confirmacion",text:"Estas seguro de editar esta distribucion",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si, Editar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(t){t.value&&e._distribucion.ActualizarDistribucion(a,e.data.id_concepto.ContratoNumeroContrato,n.ClvDele).subscribe(function(t){S().fire("Correcto",t.Mensaje,"success"),e.dialogRef.close(!0)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](In.i),w["\u0275\u0275directiveInject"](wn.v),w["\u0275\u0275directiveInject"](Ne.$))},t.\u0275cmp=w["\u0275\u0275defineComponent"]({type:t,selectors:[["app-agregar-editar-distr"]],decls:7,vars:3,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],[2,"color","#003366"],[3,"formGroup",4,"ngIf"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center",4,"ngIf"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"b-all","p-t-20","p-r-20","p-l-20","radius",2,"border-color","rgba(162,162,162,0.67)"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["required","","formControlName","Delegacion",3,"compareWith","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","UnidadMedClvPresupuestal",3,"compareWith"],["matInput","","type","text","autocomplete","off","placeholder","Cantidad","formControlName","Cantidad"],[4,"ngIf"],[3,"value"],["mat-dialog-actions","","fxLayout","row wrap","fxLayoutAlign","end center"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-stroked-button","","color","warn",3,"click"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100","align","end",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Distribucion de clave"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"span",2),w["\u0275\u0275text"](4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](5,Nn,22,8,"form",3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](6,Tn,6,2,"div",4)),2&e&&(w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](t.data.concepto),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.delegacionesArray),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.delegacionesArray))},directives:[h.uh,h.xY,l.O5,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,Te.gD,s.RequiredValidator,s.NgControlStatus,s.FormControlName,l.sg,A.Nt,s.DefaultValueAccessor,b.ey,V.TO,h.H8,M.lW,T.Hw],styles:[""]}),t}();function Bn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",15),w["\u0275\u0275elementStart"](1,"button",16),w["\u0275\u0275listener"]("click",function(){w["\u0275\u0275restoreView"](n);var e=w["\u0275\u0275nextContext"]();return e.cambiarCantidad(e.concepto)}),w["\u0275\u0275elementStart"](2,"mat-icon"),w["\u0275\u0275text"](3,"post_add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4," Editar Cantidad Contratada "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("disabled",a.concepto.CantidadConcepto-a.sumatoriaCantidad==0)}}function jn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",17),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().agregardistribucion()}),w["\u0275\u0275elementStart"](1,"mat-icon"),w["\u0275\u0275text"](2,"post_add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](3," Agregar Distribucion "),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("disabled",a.concepto.CantidadConcepto-a.sumatoriaCantidad==0)}}function On(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",18),w["\u0275\u0275elementStart"](1,"div",19),w["\u0275\u0275elementStart"](2,"mat-card",20),w["\u0275\u0275elementStart"](3,"div",21),w["\u0275\u0275elementStart"](4,"h5",5),w["\u0275\u0275text"](5,"Cantidad contratada"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"h3",5),w["\u0275\u0275text"](7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](7),w["\u0275\u0275textInterpolate"](n.concepto.CantidadConcepto)}}function qn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",18),w["\u0275\u0275elementStart"](1,"div",19),w["\u0275\u0275elementStart"](2,"mat-card",22),w["\u0275\u0275elementStart"](3,"div",21),w["\u0275\u0275elementStart"](4,"h5",5),w["\u0275\u0275text"](5,"Cantidad previamente distribuida"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"h3",5),w["\u0275\u0275text"](7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](7),w["\u0275\u0275textInterpolate"](n.sumatoriaCantidad)}}function zn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",18),w["\u0275\u0275elementStart"](1,"div",19),w["\u0275\u0275elementStart"](2,"mat-card",23),w["\u0275\u0275elementStart"](3,"div",21),w["\u0275\u0275elementStart"](4,"h5",5),w["\u0275\u0275text"](5,"Cantidad pendiente de distribuir"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"h3",5),w["\u0275\u0275text"](7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](7),w["\u0275\u0275textInterpolate"](n.concepto.CantidadConcepto-n.sumatoriaCantidad)}}function Ln(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",18),w["\u0275\u0275elementStart"](1,"div",19),w["\u0275\u0275elementStart"](2,"mat-card",24),w["\u0275\u0275elementStart"](3,"div",21),w["\u0275\u0275elementStart"](4,"h5",5),w["\u0275\u0275text"](5,"Cantidad a registrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"h3",5),w["\u0275\u0275text"](7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"small"),w["\u0275\u0275text"](9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](7),w["\u0275\u0275textInterpolate"](n.data.cantidad),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate1"]("Cantidad excedida: ",n.data.cantidad-(n.concepto.CantidadConcepto-n.sumatoriaCantidad),"")}}function $n(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1," Delegacion"),w["\u0275\u0275elementEnd"]())}function Hn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.UnidadMed.Delegacion.NombreDele," ")}}function Un(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1," Unidad Medica"),w["\u0275\u0275elementEnd"]())}function Wn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.UnidadMed.DenominacionUni,"")}}function Gn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",43),w["\u0275\u0275text"](1," Cantidad Distribuida"),w["\u0275\u0275elementEnd"]())}function Yn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Cantidad," ")}}function Qn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",43),w["\u0275\u0275text"](1,"Monto Total Sin IVA"),w["\u0275\u0275elementEnd"]())}function Xn(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell",44),w["\u0275\u0275text"](1),w["\u0275\u0275pipe"](2,"currency"),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](2,1,n.Cantidad*a.concepto.PrecioUniSnIva)," ")}}function Kn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Editar"),w["\u0275\u0275elementEnd"]())}function Zn(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",45),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"](2).EditarCantidad(e)}),w["\u0275\u0275elementStart"](2,"mat-icon",46),w["\u0275\u0275text"](3,"edit"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function Jn(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Eliminar"),w["\u0275\u0275elementEnd"]())}function ea(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",47),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"](2).EliminarCantidad(e)}),w["\u0275\u0275elementStart"](2,"mat-icon",46),w["\u0275\u0275text"](3,"delete"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function ta(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function na(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}function aa(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",3),w["\u0275\u0275elementStart"](1,"div",25),w["\u0275\u0275elementStart"](2,"h4",26),w["\u0275\u0275text"](3,"Distribucion por unidad medica"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-form-field"),w["\u0275\u0275elementStart"](5,"input",27),w["\u0275\u0275listener"]("keyup",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().applyFilter(e.target.value)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"div",28),w["\u0275\u0275elementStart"](7,"div",29),w["\u0275\u0275elementStart"](8,"mat-table",30),w["\u0275\u0275elementContainerStart"](9,31),w["\u0275\u0275template"](10,$n,2,0,"mat-header-cell",32),w["\u0275\u0275template"](11,Hn,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](12,34),w["\u0275\u0275template"](13,Un,2,0,"mat-header-cell",32),w["\u0275\u0275template"](14,Wn,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](15,35),w["\u0275\u0275template"](16,Gn,2,0,"mat-header-cell",36),w["\u0275\u0275template"](17,Yn,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](18,37),w["\u0275\u0275template"](19,Qn,2,0,"mat-header-cell",36),w["\u0275\u0275template"](20,Xn,3,3,"mat-cell",38),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](21,39),w["\u0275\u0275template"](22,Kn,2,0,"mat-header-cell",32),w["\u0275\u0275template"](23,Zn,4,0,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](24,40),w["\u0275\u0275template"](25,Jn,2,0,"mat-header-cell",32),w["\u0275\u0275template"](26,ea,4,0,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](27,ta,1,0,"mat-header-row",41),w["\u0275\u0275template"](28,na,1,0,"mat-row",42),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("dataSource",a.dataSource),w["\u0275\u0275advance"](19),w["\u0275\u0275property"]("matHeaderRowDef",a.displayedColumns),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",a.displayedColumns)}}var oa=function(){var e=function(){function e(t,n,a,r,i,l,c,m){o(this,e),this.dialogRef=t,this.data=n,this._distribucion=a,this._conceptos=r,this._delegaciones=i,this.fb=l,this._unidades=c,this.dialog=m,this.claveCuadro="",this.distribucion=[],this.displayedColumns=["Delegacion","unidadM","CantidadDis","PrecioDis","EditarPro","EliminarPro"],this.dist_dupl=!1,this.delegacionesArray=[],this.estado_distribucion=!1,this.concepto=n.concepto,this.claveCuadro=this.concepto.Prei.Grupo+"."+this.concepto.Prei.Generico+"."+this.concepto.Prei.Especifico+"."+this.concepto.Prei.Diferenciador+"."+this.concepto.Prei.Variable,console.log(this.concepto),console.log(this.data.cantidad),0!==n.cantidad&&(this.dist_dupl=!0)}return i(e,[{key:"applyFilter",value:function(e){this.dataSource.filter=e.trim().toLowerCase()}},{key:"ngOnInit",value:function(){var e=this;this.consultarDistribucion(),this._delegaciones.ConsultarDelegaciones().subscribe(function(t){e.delegacionesArray=t.Data,console.log(e.delegacionesArray)})}},{key:"sumatoriaCantidades",value:function(e){var t=e.reduce(function(e,t){return e+t.Cantidad},0);this.sumatoriaCantidad=t}},{key:"consultarDistribucion",value:function(){var e=this;this._distribucion.ConsultarDistribucion(this.concepto.Id).subscribe(function(t){console.log(t.Data),e.distribucion=t.Data,e.dataSource=new f.by,e.dataSource.data=e.distribucion,e.sumatoriaCantidades(t.Data),e.por_distribuir=e.concepto.CantidadConcepto-e.sumatoriaCantidad,e.dataSource.filterPredicate=function(e,t){return-1!==e.UnidadMed.DenominacionUni.trim().toLocaleLowerCase().indexOf(t)||-1!==e.UnidadMed.Delegacion.NombreDele.trim().toLocaleLowerCase().indexOf(t)}})}},{key:"regresaDescripcion",value:function(e){return e.split(".",1).toString()}},{key:"onNoClick",value:function(){this.dialogRef.close(this.estado_distribucion)}},{key:"cambiarCantidad",value:function(e){return t=this,a=regeneratorRuntime.mark(function t(){var n,a,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S().fire({title:"Cantidad Contratada",text:e.CantidadConcepto.toString(),input:"number",inputPlaceholder:"Cantidad a editar",showCancelButton:!0});case 2:n=t.sent,(a=n.value)&&(e.CantidadConcepto=parseInt(a,10),this._conceptos.ActualizarConceptoContrato(e.Id,e,e.ContratoNumeroContrato).subscribe(function(e){console.log(e),o.consultarDistribucion(),o.dialogRef.close(!0)}));case 5:case"end":return t.stop()}},t,this)}),new((n=void 0)||(n=Promise))(function(e,o){function r(e){try{l(a.next(e))}catch(t){o(t)}}function i(e){try{l(a.throw(e))}catch(t){o(t)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n(function(e){e(a)})).then(r,i)}l((a=a.apply(t,[])).next())});var t,n,a}},{key:"agregardistribucion",value:function(){var e=this;this.dialog.open(Rn,{width:"50%",height:"auto",disableClose:!0,data:{distribucion:"",concepto:this.regresaDescripcion(this.concepto.Prei.Descripcion),editar:!1,cantidadMax:this.por_distribuir,id_concepto:this.concepto}}).afterClosed().subscribe(function(t){t&&e.consultarDistribucion()})}},{key:"EditarCantidad",value:function(e){var t=this;console.log("Editando"),this.dialog.open(Rn,{width:"50%",height:"auto",disableClose:!0,data:{distribucion:e,concepto:this.regresaDescripcion(this.concepto.Prei.Descripcion),editar:!0,cantidadMax:this.por_distribuir,id_concepto:this.concepto}}).afterClosed().subscribe(function(e){e&&t.consultarDistribucion()})}},{key:"EliminarCantidad",value:function(e){var t=this;console.log(e),S().fire({title:"\xbfEst\xe1s seguro que deseas eliminar esta distribuci\xf3n?",icon:"warning",showCancelButton:!0,cancelButtonColor:"#a2a2a2",confirmButtonColor:"#e62324",cancelButtonText:"Cancelar",confirmButtonText:"Si, Eliminar",reverseButtons:!0}).then(function(n){n.value&&t._distribucion.EliminarDistribucion(e.Id,t.concepto.ContratoNumeroContrato,e.UnidadMed.DelegacionesClvDele).subscribe(function(e){S().fire("Correcto",e.Mensaje,"success"),t.consultarDistribucion()},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](wn.v),w["\u0275\u0275directiveInject"](yt.h),w["\u0275\u0275directiveInject"](Ne.$),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](In.i),w["\u0275\u0275directiveInject"](h.uw))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-distribucion-conceptos"]],decls:44,vars:17,consts:[["mat-dialog-title","","align","center",1,"m-0"],["mat-dialog-content",""],[2,"padding","10px!important"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","fxLayoutAlign","space-between start"],[1,"m-0"],[1,"m-0","text-danger"],[1,"m-0",2,"color","#003366"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100","align","end"],["class","m-b-10",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","class","m-t-10",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],[1,"m-b-10"],["mat-flat-button","","color","accent",3,"disabled","click"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100",1,"m-t-10"],["fxLayout","column"],[1,"bg-megna","text-white","text-center"],[1,"p-10"],[1,"bg-megna","text-center",2,"background-color","#d4782c","color","black"],[1,"bg-megna","text-white","text-center","mat-elevation-z5",2,"background-color","darkred"],[1,"bg-megna","text-white","text-center",2,"background-color","#003366"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100","align","center"],[1,"m-0","m-b-5",2,"color","#003366"],["matInput","","autocomplete","off","placeholder","Buscar",3,"keyup"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"responsive-table","mat-elevation-z8"],["matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","Delegacion"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","unidadM"],["matColumnDef","CantidadDis"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","PrecioDis"],["style","color: #661421",4,"matCellDef"],["matColumnDef","EditarPro"],["matColumnDef","EliminarPro"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[2,"color","#661421"],["mat-button","","color","primary",3,"click"],[1,"material-icons-outlined"],["mat-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Distribucion de clave a unidades medicas"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-content",2),w["\u0275\u0275elementStart"](5,"div",3),w["\u0275\u0275elementStart"](6,"div",4),w["\u0275\u0275elementStart"](7,"h4",5),w["\u0275\u0275elementStart"](8,"strong"),w["\u0275\u0275text"](9,"Id PREI: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](11,"h4",5),w["\u0275\u0275elementStart"](12,"strong"),w["\u0275\u0275text"](13,"Numero del Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](14),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](15,"h4",5),w["\u0275\u0275elementStart"](16,"strong"),w["\u0275\u0275text"](17,"Clave Cuadro Basico: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](18),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"h4",6),w["\u0275\u0275elementStart"](20,"strong"),w["\u0275\u0275text"](21,"Precio Unitario (Sin IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](22),w["\u0275\u0275pipe"](23,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"h4",6),w["\u0275\u0275elementStart"](25,"strong"),w["\u0275\u0275text"](26,"Precio Unitario (Con IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](27),w["\u0275\u0275pipe"](28,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](29,"h4",7),w["\u0275\u0275text"](30),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](31,"div",8),w["\u0275\u0275template"](32,Bn,5,1,"div",9),w["\u0275\u0275elementStart"](33,"div"),w["\u0275\u0275template"](34,jn,4,1,"button",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](35,"div",3),w["\u0275\u0275template"](36,On,8,1,"div",11),w["\u0275\u0275template"](37,qn,8,1,"div",11),w["\u0275\u0275template"](38,zn,8,1,"div",11),w["\u0275\u0275template"](39,Ln,10,2,"div",11),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](40,aa,29,3,"div",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](41,"div",13),w["\u0275\u0275elementStart"](42,"button",14),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](43,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](10),w["\u0275\u0275textInterpolate1"]("",t.regresaDescripcion(t.concepto.PreiIdArticulo)," "),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](t.concepto.Contrato.NumeroContrato),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](t.claveCuadro),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate1"]("",w["\u0275\u0275pipeBind1"](23,13,t.concepto.PrecioUniSnIva)," "),w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate1"]("",w["\u0275\u0275pipeBind1"](28,15,1.16*t.concepto.PrecioUniSnIva)," "),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](t.regresaDescripcion(t.concepto.Prei.Descripcion)),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",t.dist_dupl),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",!t.data.archivo),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",t.concepto),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.concepto),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.concepto),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.dist_dupl),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.sumatoriaCantidad))},directives:[h.uh,h.xY,F.a8,F.dn,D.xw,D.Wh,D.yH,l.O5,h.H8,M.lW,T.Hw,V.KE,A.Nt,f.BZ,_.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.ge,f.ev,_.nU,f.XQ,f.Gk],pipes:[l.H9],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),e}();function ra(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",14),w["\u0275\u0275elementStart"](1,"div",4),w["\u0275\u0275elementStart"](2,"h3",15),w["\u0275\u0275text"](3,"Informacion de la clave registrada"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"div",16),w["\u0275\u0275elementStart"](5,"h4",17),w["\u0275\u0275elementStart"](6,"strong"),w["\u0275\u0275text"](7,"Id PREI: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"h4",17),w["\u0275\u0275elementStart"](10,"strong"),w["\u0275\u0275text"](11,"Numero Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"h4",17),w["\u0275\u0275elementStart"](14,"strong"),w["\u0275\u0275text"](15,"Clave Cuadro: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](16),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](17,"div",18),w["\u0275\u0275elementStart"](18,"h4",19),w["\u0275\u0275elementStart"](19,"strong"),w["\u0275\u0275text"](20,"Precio Unitario (Sin IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](21),w["\u0275\u0275pipe"](22,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](23,"h4",19),w["\u0275\u0275elementStart"](24,"strong"),w["\u0275\u0275text"](25,"Precio Unitario (Con IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](26),w["\u0275\u0275pipe"](27,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](28,"h4",20),w["\u0275\u0275text"](29),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](8),w["\u0275\u0275textInterpolate1"]("",n.idPrei.PreiIdArticulo," "),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.idPrei.ContratoNumeroContrato),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.claveCuadro),w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate1"]("",w["\u0275\u0275pipeBind1"](22,6,n.idPrei.PrecioUniSnIva)," "),w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate1"]("",w["\u0275\u0275pipeBind1"](27,8,1.16*n.idPrei.PrecioUniSnIva)," "),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](n.regresaDescripcion(n.idPrei.Prei.Descripcion))}}function ia(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-error"),w["\u0275\u0275text"](1,"Ingresa solo numeros."),w["\u0275\u0275elementEnd"]())}function la(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",21),w["\u0275\u0275elementStart"](1,"div",16),w["\u0275\u0275elementStart"](2,"mat-form-field",22),w["\u0275\u0275elementStart"](3,"mat-label"),w["\u0275\u0275text"](4,"Precio Registrado Sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](5,"input",23),w["\u0275\u0275pipe"](6,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"div",24),w["\u0275\u0275elementStart"](8,"mat-form-field",22),w["\u0275\u0275elementStart"](9,"mat-label"),w["\u0275\u0275text"](10,"Precio Actualizar Sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](11,"input",25),w["\u0275\u0275template"](12,ia,2,0,"mat-error",26),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"div",6),w["\u0275\u0275elementStart"](14,"button",27),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().actualizarPrecio()}),w["\u0275\u0275text"](15,"Guardar "),w["\u0275\u0275elementStart"](16,"mat-icon"),w["\u0275\u0275text"](17,"save"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("value",w["\u0275\u0275pipeBind1"](6,4,a.idPrei.PrecioUniSnIva)),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("formControl",a.control),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.control.hasError("pattern")),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("disabled",a.control.invalid)}}var ca=function(){var e=function(){function e(t,n,a,r){o(this,e),this.dialogRef=t,this.data=n,this.curre=a,this._conceptos=r,this.claveCuadro="",this.verMas=!1,this.editar=!1,this.control=new s.FormControl(null,s.Validators.compose([s.Validators.pattern("^([0-9])*\\.?[0-9]*$"),s.Validators.required])),this.idPrei=n.concepto}return i(e,[{key:"ngOnInit",value:function(){this.claveCuadro=this.data.concepto.Prei.Grupo+"."+this.data.concepto.Prei.Generico+"."+this.data.concepto.Prei.Especifico+"."+this.data.concepto.Prei.Diferenciador+"."+this.data.concepto.Prei.Variable}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"regresaDescripcion",value:function(e){return e.split(".",1).toString()}},{key:"actualizarPrecio",value:function(){var e=this;this.idPrei.PrecioUniSnIva=parseFloat(this.control.value),this._conceptos.ActualizarConceptoContrato(this.idPrei.Id,this.idPrei,this.idPrei.ContratoNumeroContrato).subscribe(function(t){S().fire({position:"center",title:t.Mensaje,icon:"success",showConfirmButton:!0}),e.dialogRef.close(!0)},function(t){if(""!==t.error||void 0!==t.error){e.idPrei.PrecioUniSnIva=e.data.concepto.PrecioUniSnIva;var n=t.error;S().fire({position:"center",title:n.Mensaje,text:n.Data,icon:"error",showConfirmButton:!0})}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](l.H9),w["\u0275\u0275directiveInject"](yt.h))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-editar-precio-prei"]],features:[w["\u0275\u0275ProvidersFeature"]([l.H9])],decls:34,vars:8,consts:[["mat-dialog-title","","align","center",1,"m-0",2,"color","#003366"],["mat-dialog-content",""],[2,"padding","10px!important"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"text-danger","m-0"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary",3,"click"],["matSuffix",""],["mat-raised-button","",2,"background","#d4782c","color","white",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between center","class","b-all p-10","style","border-width: 1px;  border-color: #0d453c",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center","class","m-t-20",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"b-all","p-10",2,"border-width","1px","border-color","#0d453c"],["align","center",1,"m-0",2,"color","#003366"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","fxLayoutAlign","space-between start"],[1,"m-0"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","align","end"],[1,"m-0","text-danger"],[1,"m-0",2,"color","#003366"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-20"],["appearance","outline"],["readonly","","matInput","","placeholder","Precio registrado",3,"value"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100","fxLayout","column wrap","fxLayoutAlign","space-between end"],["matInput","","placeholder","Precio nuevo Sin IVA","autocomplete","off","cdkFocusInitial","",3,"formControl"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-content",2),w["\u0275\u0275elementStart"](5,"div",3),w["\u0275\u0275elementStart"](6,"div",4),w["\u0275\u0275elementStart"](7,"h3",5),w["\u0275\u0275text"](8," El precio del Id PREI "),w["\u0275\u0275elementStart"](9,"strong"),w["\u0275\u0275text"](10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](11," que estas intentando registrar es incorrecto al precio "),w["\u0275\u0275elementStart"](12,"strong"),w["\u0275\u0275text"](13),w["\u0275\u0275pipe"](14,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](15," ya registrado en el contrato, edita tu archivo de carga."),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"div",4),w["\u0275\u0275elementStart"](17,"h4"),w["\u0275\u0275text"](18," *Nota: Si el precio registrado en el contrato esta mal, puedes editarlo."),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"div",6),w["\u0275\u0275elementStart"](20,"button",7),w["\u0275\u0275listener"]("click",function(){return t.verMas=!t.verMas}),w["\u0275\u0275text"](21,"Registro "),w["\u0275\u0275elementStart"](22,"mat-icon",8),w["\u0275\u0275text"](23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"div",6),w["\u0275\u0275elementStart"](25,"button",9),w["\u0275\u0275listener"]("click",function(){return t.editar=!t.editar}),w["\u0275\u0275text"](26,"Editar "),w["\u0275\u0275elementStart"](27,"mat-icon"),w["\u0275\u0275text"](28,"edit"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](29,ra,30,10,"div",10),w["\u0275\u0275template"](30,la,18,6,"div",11),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](31,"div",12),w["\u0275\u0275elementStart"](32,"button",13),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](33,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"]("Numero de contrato ",t.idPrei.ContratoNumeroContrato,""),w["\u0275\u0275advance"](9),w["\u0275\u0275textInterpolate"](t.idPrei.PreiIdArticulo),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate1"]("",w["\u0275\u0275pipeBind1"](14,6,t.idPrei.PrecioUniSnIva)," "),w["\u0275\u0275advance"](10),w["\u0275\u0275textInterpolate"](t.verMas?"visibility":"visibility_off"),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngIf",t.verMas),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.editar))},directives:[h.uh,h.xY,F.a8,F.dn,D.xw,D.Wh,D.yH,M.lW,T.Hw,V.R9,l.O5,h.H8,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,V.TO],pipes:[l.H9],styles:[""]}),e}();function ma(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",15),w["\u0275\u0275text"](1," Carga Masiva de Distribucion de Equipos con conceptos registrados\n"),w["\u0275\u0275elementEnd"]())}function da(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",15),w["\u0275\u0275text"](1," Carga Masiva de Distribucion de Equipos sin conceptos registrados\n"),w["\u0275\u0275elementEnd"]())}function sa(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"ngx-dropzone-preview",16),w["\u0275\u0275listener"]("removed",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onRemove(e)}),w["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),w["\u0275\u0275text"](2),w["\u0275\u0275pipe"](3,"number"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275property"]("removable",!0),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate2"]("",a.name," (",w["\u0275\u0275pipeBind2"](3,3,a.size/1024/1024,".2")," MB)")}}var ua=function(e){return{background:e}};function pa(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"tr"),w["\u0275\u0275elementStart"](1,"td"),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4),w["\u0275\u0275pipe"](5,"number"),w["\u0275\u0275elementStart"](6,"td"),w["\u0275\u0275elementStart"](7,"button",17),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().ValidarArchivo()}),w["\u0275\u0275element"](8,"span",18),w["\u0275\u0275text"](9," Validar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"button",19),w["\u0275\u0275listener"]("click",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().onRemove(e)}),w["\u0275\u0275element"](11,"span",20),w["\u0275\u0275text"](12," Eliminar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"button",21),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().AgregarArchivo()}),w["\u0275\u0275element"](14,"span",22),w["\u0275\u0275text"](15," Guardar Registros "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](null==a?null:a.name),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind2"](5,4,(null==a?null:a.size)/1024/1024,".2")," MB "),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngStyle",w["\u0275\u0275pureFunction1"](7,ua,o.color)),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("disabled",!o.validado)}}function fa(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Numero de contrato"),w["\u0275\u0275elementEnd"]())}function va(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.NumContrato," ")}}function xa(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Id PREI"),w["\u0275\u0275elementEnd"]())}function ha(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.IdPrei," ")}}function ga(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1,"Error"),w["\u0275\u0275elementEnd"]())}function Sa(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Error)}}function Ca(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1," Columna"),w["\u0275\u0275elementEnd"]())}function Ea(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Columna,"")}}function ba(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1," Linea"),w["\u0275\u0275elementEnd"]())}function ya(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Fila,"")}}function _a(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell"),w["\u0275\u0275text"](1," Accion"),w["\u0275\u0275elementEnd"]())}function Ia(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",2),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"](2).AbrirAccion(e)}),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](o.MensajeBoton(a.Tipo))}}function wa(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function Fa(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}function ka(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",4),w["\u0275\u0275elementStart"](1,"h4",23),w["\u0275\u0275text"](2,"Resultado de validacion: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"div",24),w["\u0275\u0275elementStart"](4,"mat-table",25),w["\u0275\u0275elementContainerStart"](5,26),w["\u0275\u0275template"](6,fa,2,0,"mat-header-cell",27),w["\u0275\u0275template"](7,va,2,1,"mat-cell",28),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](8,29),w["\u0275\u0275template"](9,xa,2,0,"mat-header-cell",27),w["\u0275\u0275template"](10,ha,2,1,"mat-cell",28),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](11,30),w["\u0275\u0275template"](12,ga,2,0,"mat-header-cell",27),w["\u0275\u0275template"](13,Sa,2,1,"mat-cell",28),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](14,31),w["\u0275\u0275template"](15,Ca,2,0,"mat-header-cell",27),w["\u0275\u0275template"](16,Ea,2,1,"mat-cell",28),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](17,32),w["\u0275\u0275template"](18,ba,2,0,"mat-header-cell",27),w["\u0275\u0275template"](19,ya,2,1,"mat-cell",28),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](20,33),w["\u0275\u0275template"](21,_a,2,0,"mat-header-cell",27),w["\u0275\u0275template"](22,Ia,3,1,"mat-cell",28),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](23,wa,1,0,"mat-header-row",34),w["\u0275\u0275template"](24,Fa,1,0,"mat-row",35),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("dataSource",n.dataSource),w["\u0275\u0275advance"](19),w["\u0275\u0275property"]("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",n.displayedColumns)}}function Da(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h2"),w["\u0275\u0275text"](1,"Archivo sin errores de validacion"),w["\u0275\u0275elementEnd"]())}var Va=function(){var e=function(){function e(t,n,a,r,i){o(this,e),this.dialogRef=t,this.data=n,this._distribucion=a,this.dialog=r,this.curre=i,this.nombre_file="",this.files=[],this.Errores=[],this.displayedColumns=["NumContrato","IdPrei","Columna","Fila","Error","Tipo"],this.validado=!1,this.color=""}return i(e,[{key:"ngOnInit",value:function(){this.dataSource=new f.by,this.nombre_file=this.data.conceptos?"distribucion_con_conceptos":"distribucion_sin_concepto"}},{key:"descargar",value:function(){var e=this;this._distribucion.DescargarPlantillaDistribucion(this.nombre_file).subscribe(function(t){File&&(0,Ke.saveAs)(t,"plantilla_"+e.nombre_file+".xlsx")},function(e){""===e.error&&void 0===e.error||S().fire({position:"center",title:"Error",text:"No se pudo descargar la plantilla",icon:"error",showConfirmButton:!0})})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onRemove",value:function(e){console.log(e),this.files.splice(this.files.indexOf(e),1),this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores,this.color="#0089e1"}},{key:"onSelect",value:function(e){var n,a;this.files.length<1&&((n=console).log.apply(n,t(e.addedFiles)),(a=this.files).push.apply(a,t(e.addedFiles)))}},{key:"ValidarArchivo",value:function(){var e=this;this.validado=!1,this.Errores=[],this.dataSource.data=this.Errores;var t=new FormData;t.append("file",this.files[0]),this._distribucion.ValidarArchivo(t,this.nombre_file).subscribe(function(t){console.log(t),e.validado=!0,e.color="#18903f"},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;e.Errores=n.Data,e.dataSource.data=e.Errores,console.log(n.Data),e.color="#d4782c",S().fire({position:"center",title:n.Mensaje,icon:"error",showConfirmButton:!0})}})}},{key:"AgregarArchivo",value:function(){var e=this;this.Errores=[],this.dataSource.data=this.Errores;var t=new FormData;t.append("file",this.files[0]),S().fire({title:"Estas seguro de agregar estos datos",showCancelButton:!0,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, agregar"}).then(function(n){n.value&&e._distribucion.AgregarArchivo(t,e.nombre_file).subscribe(function(t){S().fire("Agregados!","Los Datos se han guardado exitosamente","success"),e.dialogRef.close(!0)},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;e.Errores=n.Data,e.dataSource.data=e.Errores,console.log(n.Data),e.color="#d4782c",S().fire({position:"center",title:n.Mensaje,icon:"error",showConfirmButton:!0})}})})}},{key:"MensajeBoton",value:function(e){return 1===e?"Agregar":2===e||4===e?"Verificar":"Ver"}},{key:"AbrirAccion",value:function(e){var t=this;1===e.Tipo&&this.dialog.open(Gt,{height:"auto",width:"90%",disableClose:!0,data:{}}).afterClosed().subscribe(function(n){if(!0===n){var a=t.dataSource.data.indexOf(e);console.log(a),t.dataSource.data.splice(a,1),t.dataSource=new f.by(t.dataSource.data)}}),2===e.Tipo&&this.dialog.open(oa,{height:"auto",width:"90%",disableClose:!0,data:{concepto:e.Concepto,cantidad:e.Cantidad,archivo:!0}}).afterClosed().subscribe(function(e){!0===e&&t.ValidarArchivo()}),0!==e.Tipo&&3!==e.Tipo||S().fire({position:"center",title:"Debes editar tu archivo  de carga",text:e.Error,icon:"error",showConfirmButton:!0}),4===e.Tipo&&this.dialog.open(en,{height:"auto",width:"auto",disableClose:!0,data:{num_contrato:e.NumContrato,total_contratado:e.Suma}}).afterClosed().subscribe(function(e){!0===e&&t.ValidarArchivo()}),5===e.Tipo&&this.dialog.open(ca,{height:"auto",width:"65%",disableClose:!0,data:{concepto:e.Concepto}}).afterClosed().subscribe(function(e){!0===e&&t.ValidarArchivo()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](wn.v),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](l.H9))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-carga-masiva-distribucion"]],features:[w["\u0275\u0275ProvidersFeature"]([l.H9])],decls:35,vars:9,consts:[["mat-dialog-title","","align","center","style","color: #003366;",4,"ngIf"],["mat-dialog-content",""],["mat-raised-button","","color","primary",3,"click"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["accept",".xlsx","matTooltip","Solo puedes seleccionar un archivo","matTooltipPosition","above","matTooltipClass","example-tooltip-red",3,"multiple","disableClick","change"],["style","width: auto",3,"removable","removed",4,"ngFor","ngForOf"],[1,"table"],["width","35%"],["width","50%"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["mat-dialog-title","","align","center",2,"color","#003366"],[2,"width","auto",3,"removable","removed"],["mat-raised-button","","color","primary",3,"ngStyle","click"],[1,"fa","fa-upload"],["mat-raised-button","","color","warn",1,"m-l-10",3,"click"],[1,"fa","fa-trash"],["mat-raised-button","","color","primary",1,"m-l-10",3,"disabled","click"],[1,"fa","fa-save"],[2,"color","#003366"],[1,"responsive-table"],[3,"dataSource"],["matColumnDef","NumContrato"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IdPrei"],["matColumnDef","Error"],["matColumnDef","Columna"],["matColumnDef","Fila"],["matColumnDef","Tipo"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"]],template:function(e,t){1&e&&(w["\u0275\u0275template"](0,ma,2,0,"h1",0),w["\u0275\u0275template"](1,da,2,0,"h1",0),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-title"),w["\u0275\u0275elementStart"](5,"button",2),w["\u0275\u0275listener"]("click",function(){return t.descargar()}),w["\u0275\u0275elementStart"](6,"mat-icon"),w["\u0275\u0275text"](7,"cloud_download"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](8," Descaragar Plantilla "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"mat-card-content"),w["\u0275\u0275elementStart"](10,"div",3),w["\u0275\u0275elementStart"](11,"div",4),w["\u0275\u0275elementStart"](12,"ngx-dropzone",5),w["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),w["\u0275\u0275elementStart"](13,"ngx-dropzone-label"),w["\u0275\u0275text"](14,"Haga clic o arrastra tu archivo aqui!!"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](15,sa,4,6,"ngx-dropzone-preview",6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"div",4),w["\u0275\u0275elementStart"](17,"p"),w["\u0275\u0275text"](18),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](19,"table",7),w["\u0275\u0275elementStart"](20,"thead"),w["\u0275\u0275elementStart"](21,"tr"),w["\u0275\u0275elementStart"](22,"th",8),w["\u0275\u0275text"](23,"Nombre"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"th"),w["\u0275\u0275text"](25,"Tama\xf1o"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](26,"th",9),w["\u0275\u0275text"](27,"Acciones"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](28,"tbody"),w["\u0275\u0275template"](29,pa,16,9,"tr",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](30,ka,25,4,"div",11),w["\u0275\u0275template"](31,Da,2,0,"h2",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](32,"div",13),w["\u0275\u0275elementStart"](33,"button",14),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](34,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275property"]("ngIf",t.data.conceptos),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",!t.data.conceptos),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("multiple",!1)("disableClick",t.files.length>0),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngForOf",t.files),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate1"]("Archivo para subir: ",null==t.files?null:t.files.length,""),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("ngForOf",t.files),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.Errores&&t.files.length>0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.validado&&t.files.length>0))},directives:[l.O5,h.xY,F.a8,F.n5,M.lW,T.Hw,F.dn,D.xw,D.Wh,D.yH,et._f,tt.gM,et.Jj,l.sg,h.H8,h.uh,et.dt,l.PC,nt.Zl,f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,f.ge,f.ev,f.XQ,f.Gk],pipes:[l.JJ],styles:["ngx-dropzone:hover{border:2px dotted #0089e1}.example-tooltip-red{background:#661421}"],encapsulation:2}),e}();function Aa(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",20),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().buscarProveedor()}),w["\u0275\u0275elementStart"](1,"mat-icon",21),w["\u0275\u0275text"](2,"person_search"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function Na(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",22),w["\u0275\u0275text"](1,"Sin resultados"),w["\u0275\u0275elementEnd"]())}function Pa(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",24),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate2"]("",n.NProvImss," - ",n.NombreEmpresa,"")}}function Ma(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div"),w["\u0275\u0275elementStart"](1,"mat-form-field"),w["\u0275\u0275elementStart"](2,"mat-label"),w["\u0275\u0275text"](3,"Selecciona el proveedor a filtrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-select",23),w["\u0275\u0275template"](5,Pa,2,3,"mat-option",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("formControl",n.resultado_proveedores)("compareWith",n.compare),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",n.provedores)}}function Ta(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",24),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate2"](" ",n.ClvDele," ",n.NombreDele," ")}}var Ra=function(){var e=function(){function e(t,n,a,r,i){o(this,e),this._contrato=t,this._proveedores=n,this.dialogRef=a,this.data=r,this._delegaciones=i,this.provedores=[],this.nombre_proveedor=new s.FormControl(this.data.nombre),this.resultado_proveedores=new s.FormControl(""),this.delegaciones=new s.FormControl,this.sin_resultados=!1,this.delegacionesArray=[],console.log(this.data),null!==this.data.nombre&&""!==this.data.nombre&&void 0!==this.data.nombre&&(this.nombre_proveedor.setValue(this.data.nombre),this.buscarProveedor(),this.resultado_proveedores.setValue(this.data.proveedor)),null===this.data.delegacion&&""===this.data.delegacion||this.delegaciones.setValue(this.data.delegacion)}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.nombre_proveedor.valueChanges.subscribe(function(t){""===t&&(e.provedores=[],e.sin_resultados=!1,e.resultado_proveedores.setValue(""))}),this._delegaciones.ConsultarDelegaciones().subscribe(function(t){e.delegacionesArray=t.Data})}},{key:"limpiarFiltros",value:function(){this.nombre_proveedor.setValue(""),this.provedores=[],this.sin_resultados=!1,this.resultado_proveedores.setValue(""),this.delegaciones.setValue("")}},{key:"buscarProveedor",value:function(){var e=this;console.log(this.nombre_proveedor.value),this._proveedores.ConsultarProveedoresFiltro(null!==this.nombre_proveedor.value?this.nombre_proveedor.value:"").subscribe(function(t){e.provedores=t.Data,e.sin_resultados=!1,console.log(e.provedores),0===e.provedores.length&&(e.sin_resultados=!0)})}},{key:"filtrar",value:function(){console.log(this.resultado_proveedores.value,this.delegaciones.value),this.data.proveedor=this.resultado_proveedores.value,this.data.nombre=this.nombre_proveedor.value,this.data.delegacion=this.delegaciones.value,this.dialogRef.close(this.data)}},{key:"onNoClick",value:function(){this.data.delegacion="",this.data.proveedor="",this.data.nombre="",this.dialogRef.close(this.data)}},{key:"compare",value:function(e,t){return e&&t&&e.NombreEmpresa===t.NombreEmpresa}},{key:"compareDele",value:function(e,t){return e&&t&&e.NombreDele===t.NombreDele}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](C.v),w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](Ne.$))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-filtros-contratos"]],decls:42,vars:7,consts:[["mat-dialog-title","","align","center"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","48","fxFlex.gt-xs","100","fxFlex","100"],[1,"oh","text-center","little-profile"],[2,"color","#003366"],["appearance","outline"],["matInput","","placeholder","Escribe el nombre o el numero prov. imss","autocomplete","off",3,"formControl","keyup.enter"],["mat-icon-button","","matSuffix","","color","primary",3,"click",4,"ngIf"],["class","text-danger support-text",4,"ngIf"],[4,"ngIf"],["required","","multiple","",3,"formControl","compareWith"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center"],["fxFlex.gt-sm","55","fxFlex.gt-xs","100","fxFlex","100","align","start"],["mat-stroked-button","","color","accent","type","button",3,"click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-stroked-button","","color","warn",3,"click"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100","align","end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["aria-label","Buscar"],[1,"text-danger","support-text"],["multiple","",3,"formControl","compareWith"],[3,"value"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Filtrar Contratos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"div",2),w["\u0275\u0275elementStart"](4,"div",3),w["\u0275\u0275elementStart"](5,"mat-card",4),w["\u0275\u0275elementStart"](6,"mat-card-title",5),w["\u0275\u0275text"](7,"Proveedores"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"mat-card-content"),w["\u0275\u0275elementStart"](9,"div"),w["\u0275\u0275elementStart"](10,"mat-form-field",6),w["\u0275\u0275elementStart"](11,"mat-label"),w["\u0275\u0275text"](12,"Busca proveedores"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"input",7),w["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarProveedor()}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](14,Aa,3,0,"button",8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](15,Na,2,0,"small",9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](16,Ma,6,3,"div",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](17,"div",3),w["\u0275\u0275elementStart"](18,"mat-card",4),w["\u0275\u0275elementStart"](19,"mat-card-title",5),w["\u0275\u0275text"](20,"Delegaciones"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](21,"mat-card-content"),w["\u0275\u0275elementStart"](22,"mat-form-field",6),w["\u0275\u0275elementStart"](23,"mat-label"),w["\u0275\u0275text"](24,"Selecciona una delegacion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](25,"mat-select",11),w["\u0275\u0275template"](26,Ta,2,3,"mat-option",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](27,"div",3),w["\u0275\u0275elementStart"](28,"mat-card",4),w["\u0275\u0275elementStart"](29,"mat-card-title"),w["\u0275\u0275text"](30,"Unidad Medica"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](31,"mat-card-content"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](32,"div",13),w["\u0275\u0275elementStart"](33,"div",14),w["\u0275\u0275elementStart"](34,"button",15),w["\u0275\u0275listener"]("click",function(){return t.limpiarFiltros()}),w["\u0275\u0275text"](35,"Limpiar Filtros "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](36,"div",16),w["\u0275\u0275elementStart"](37,"button",17),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](38,"Cerrar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](39,"div",18),w["\u0275\u0275elementStart"](40,"button",19),w["\u0275\u0275listener"]("click",function(){return t.filtrar()}),w["\u0275\u0275text"](41,"Filtrar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](13),w["\u0275\u0275property"]("formControl",t.nombre_proveedor),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.nombre_proveedor.value),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.sin_resultados),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.provedores.length>0&&t.nombre_proveedor.value),w["\u0275\u0275advance"](9),w["\u0275\u0275property"]("formControl",t.delegaciones)("compareWith",t.compareDele),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",t.delegacionesArray))},directives:[h.uh,h.xY,D.xw,D.Wh,D.yH,F.a8,F.n5,F.dn,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,l.O5,Te.gD,s.RequiredValidator,l.sg,h.H8,M.lW,V.R9,T.Hw,b.ey],styles:[""]}),e}(),Ba=r(11406),ja=function(){var e=function(){function e(t,n,a){o(this,e),this.dialogRef=t,this.data=n,this._archivos=a,this.nombre_descarga=""}return i(e,[{key:"ngOnInit",value:function(){this.descargar_archivo(this.data.path),this.nombre_descarga="Contrato_"+this.data.contrato.NumeroContrato+".pdf"}},{key:"descargar_archivo",value:function(e){this._archivos.DescargarArchivo(e).subscribe(function(e){console.log(e),File&&console.log(File)})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](Ba.z))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-visualizador-pdf"]],decls:6,vars:1,consts:[["mat-dialog-title","","align","center",1,"font-bold",2,"color","#003366"],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-raised-button","","cdkFocusInitial","","color","warn",3,"click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](2,"div",1),w["\u0275\u0275elementStart"](3,"div",2),w["\u0275\u0275elementStart"](4,"button",3),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](5,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](t.data.contrato.NumeroContrato))},directives:[h.uh,h.xY,h.H8,M.lW],styles:[""]}),e}();function Oa(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",18),w["\u0275\u0275listener"]("click",function(){w["\u0275\u0275restoreView"](n);var e=w["\u0275\u0275nextContext"]().$implicit;return w["\u0275\u0275nextContext"](2).AbrirPDF(e)}),w["\u0275\u0275elementStart"](1,"mat-icon",12),w["\u0275\u0275text"](2,"picture_as_pdf"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function qa(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-list-item",16),w["\u0275\u0275text"](1),w["\u0275\u0275template"](2,Oa,3,0,"button",17),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Nombre," "),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.visualizar(n))}}function za(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"span"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]().$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Nombre)}}function La(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-list-item"),w["\u0275\u0275template"](1,za,2,1,"span",22),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=w["\u0275\u0275nextContext"](2).$implicit,o=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",o.archivo_carpeta(n,a))}}function $a(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",21),w["\u0275\u0275elementStart"](1,"span",10),w["\u0275\u0275text"](2,"Archivos:"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](3,La,2,1,"mat-list-item",15),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](3);w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngForOf",n.ArchivosSubcarpeta)}}function Ha(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-list-item"),w["\u0275\u0275elementStart"](1,"button",19),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit,t=w["\u0275\u0275nextContext"](2);return t.consultarArchivossubcarpeta(t.tab_seleccioando+"/"+e.Nombre)}),w["\u0275\u0275elementStart"](2,"mat-icon",12),w["\u0275\u0275text"](3,"folder_open"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](5,$a,4,1,"div",20),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,o=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate1"](" ",a.Nombre," "),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",o.ArchivosSubcarpeta)}}function Ua(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-tab",7),w["\u0275\u0275elementStart"](1,"div",8),w["\u0275\u0275elementStart"](2,"div",9),w["\u0275\u0275elementStart"](3,"span",10),w["\u0275\u0275text"](4,"Archivos:"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"div",9),w["\u0275\u0275elementStart"](6,"button",11),w["\u0275\u0275elementStart"](7,"mat-icon",12),w["\u0275\u0275text"](8,"create_new_folder"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](9," Crear Carpeta "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"div",9),w["\u0275\u0275elementStart"](11,"button",11),w["\u0275\u0275elementStart"](12,"mat-icon",12),w["\u0275\u0275text"](13,"cloud_upload"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](14," Subir Archivo "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](15,qa,3,2,"mat-list-item",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"div",14),w["\u0275\u0275element"](17,"mat-divider"),w["\u0275\u0275template"](18,Ha,6,2,"mat-list-item",15),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("label",n.Nombre),w["\u0275\u0275advance"](15),w["\u0275\u0275property"]("ngForOf",a.Archivos),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngForOf",a.Carpetas)}}var Wa=function(){var e=function(){function e(t,n,a,r){o(this,e),this.dialogRef=t,this.data=n,this._archivos=a,this.dialog=r,this.Carpetas=[],this.Archivos=[],this.ArchivosSubcarpeta=[],this.tabs=[],this.selected=new s.FormControl(0),this.tab_seleccioando=""}return i(e,[{key:"ngOnInit",value:function(){this.Contrato=this.data.contrato,console.log(this.Contrato),this.consultarCarpetas("")}},{key:"removeTab",value:function(e){this.tabs.splice(e,1)}},{key:"consultarCarpetas",value:function(e){var t=this;this._archivos.ConsultarCarpetas(e).subscribe(function(e){t.tabs=e.Data})}},{key:"consultarArchivos",value:function(e){var t=this;this._archivos.ConsultarArchivos(this.Contrato.NumeroContrato,e).subscribe(function(e){t.Archivos=e.Data,console.log(t.Archivos)})}},{key:"consultarArchivossubcarpeta",value:function(e){var t=this;this._archivos.ConsultarArchivos(this.Contrato.NumeroContrato,e).subscribe(function(e){t.ArchivosSubcarpeta=e.Data,console.log(t.ArchivosSubcarpeta)})}},{key:"tabSelecionado",value:function(e){this.tab_seleccioando=e.tab.textLabel,console.log("Seleccionaste este",e.tab.textLabel),this.selecionarUnaCarpeta(e.tab.textLabel),this.consultarArchivos(e.tab.textLabel)}},{key:"selecionarUnaCarpeta",value:function(e){var t=this;this._archivos.ConsultarCarpetas(e).subscribe(function(e){t.Carpetas=e.Data,console.log(t.Carpetas)})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"AbrirPDF",value:function(e){this.dialog.open(ja,{height:"auto",width:"80%",disableClose:!0,data:{contrato:this.Contrato,path:e.Ruta+"/"+e.Nombre}}).afterClosed().subscribe(function(e){})}},{key:"visualizar",value:function(e){return e.Nombre.includes(".pdf")}},{key:"archivo_carpeta",value:function(e,t){return e.Ruta.includes(t.Nombre)}},{key:"descargar_archivo",value:function(e){this._archivos.DescargarArchivo(e.Ruta+"/"+e.Nombre).subscribe(function(e){console.log(e),File&&console.log(File)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](Ba.z),w["\u0275\u0275directiveInject"](h.uw))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-archivos-contrato"]],decls:11,vars:4,consts:[["mat-dialog-title","","align","center",1,"font-bold",2,"color","#003366"],["align","center",1,"m-t-5",2,"color","#003366"],["mat-dialog-content",""],[3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","cdkFocusInitial","","color","warn",3,"click"],[3,"label"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-10"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[1,"font-bold",2,"color","#0d453c"],["mat-icon-button","","color","primary",1,"p-l-20"],["aria-label","Example icon-button with a heart icon"],["class","p-0",4,"ngFor","ngForOf"],[1,"p-10"],[4,"ngFor","ngForOf"],[1,"p-0"],["mat-icon-button","","color","primary","class","p-l-20",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",1,"p-l-20",3,"click"],["mat-icon-button","","color","primary",3,"click"],["style","padding-left: 30px",4,"ngIf"],[2,"padding-left","30px"],[4,"ngIf"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"h5",1),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"div",2),w["\u0275\u0275element"](5,"div"),w["\u0275\u0275elementStart"](6,"mat-tab-group",3),w["\u0275\u0275listener"]("selectedIndexChange",function(e){return t.selected.setValue(e)})("selectedTabChange",function(e){return t.tabSelecionado(e)}),w["\u0275\u0275template"](7,Ua,19,3,"mat-tab",4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"div",5),w["\u0275\u0275elementStart"](9,"button",6),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](10,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"]("Archivos: ",t.Contrato.NumeroContrato,""),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate1"](" Proveedor: ",t.Contrato.Proveedor.AliasEmpresa,""),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("selectedIndex",t.selected.value),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",t.tabs))},directives:[h.uh,h.xY,Pe.SP,l.sg,h.H8,M.lW,Pe.uX,D.xw,D.Wh,D.yH,T.Hw,kt.d,Re.Tg,l.O5],styles:[""]}),e}(),Ga=r(97070),Ya=r(95522);function Qa(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"button",25),w["\u0275\u0275elementStart"](1,"mat-icon"),w["\u0275\u0275text"](2,"view_quilt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"span"),w["\u0275\u0275text"](4,"Distribucion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){w["\u0275\u0275nextContext"]();var n=w["\u0275\u0275reference"](34);w["\u0275\u0275property"]("matMenuTriggerFor",n)}}function Xa(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",28),w["\u0275\u0275text"](1,"cancel"),w["\u0275\u0275elementEnd"]())}function Ka(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-chip",26),w["\u0275\u0275listener"]("removed",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().EliminarFiltro("proveedor")}),w["\u0275\u0275text"](1," Proveedores "),w["\u0275\u0275template"](2,Xa,2,0,"mat-icon",27),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("selectable",a.selectable)("removable",a.removable),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",a.removable)}}function Za(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",28),w["\u0275\u0275text"](1,"cancel"),w["\u0275\u0275elementEnd"]())}function Ja(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-chip",26),w["\u0275\u0275listener"]("removed",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().EliminarFiltro("delegacion")}),w["\u0275\u0275text"](1," Delegaciones "),w["\u0275\u0275template"](2,Za,2,0,"mat-icon",27),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("selectable",a.selectable)("removable",a.removable),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",a.removable)}}function eo(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"a",43),w["\u0275\u0275listener"]("click",function(){w["\u0275\u0275restoreView"](n);var e=w["\u0275\u0275nextContext"]().$implicit;return w["\u0275\u0275nextContext"]().openDialogDetalleProveedor(e.Proveedor)}),w["\u0275\u0275elementStart"](1,"h3",44),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]().$implicit;w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](a.Proveedor.NombreEmpresa)}}var to=function(e){return["/contratos/detalle",e]};function no(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",29),w["\u0275\u0275elementStart"](1,"mat-card",30),w["\u0275\u0275elementStart"](2,"div",31),w["\u0275\u0275elementStart"](3,"a",32),w["\u0275\u0275elementStart"](4,"h3",33),w["\u0275\u0275text"](5),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"a",34),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().AbrirDialogArchivos(e)}),w["\u0275\u0275elementStart"](7,"mat-icon",35),w["\u0275\u0275text"](8,"folder_open"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"mat-card-content",36),w["\u0275\u0275template"](10,eo,3,1,"a",37),w["\u0275\u0275elementStart"](11,"h5",38),w["\u0275\u0275elementStart"](12,"strong"),w["\u0275\u0275text"](13,"Vigencia:"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](14),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](15,"a",39),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().AbrirDetallecontrato(e.NumeroContrato)}),w["\u0275\u0275elementStart"](16,"h4",33),w["\u0275\u0275text"](17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](18,"mat-card-actions",40),w["\u0275\u0275elementStart"](19,"button",41),w["\u0275\u0275elementStart"](20,"mat-icon"),w["\u0275\u0275text"](21,"delete"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"span"),w["\u0275\u0275text"](23,"Eliminar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"button",42),w["\u0275\u0275listener"]("click",function(){var e=w["\u0275\u0275restoreView"](n).$implicit;return w["\u0275\u0275nextContext"]().editando(e)}),w["\u0275\u0275elementStart"](25,"mat-icon"),w["\u0275\u0275text"](26,"edit"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](27,"span"),w["\u0275\u0275text"](28,"Editar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("routerLink",w["\u0275\u0275pureFunction1"](6,to,a.NumeroContrato)),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](a.NumeroContrato),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("ngIf",a),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate2"](" del ",a.InicioContrato," al ",a.FinContrato,""),w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](a.ProcedContratacion)}}var ao=function(){var t=function(){function t(e,n,a,r,i){o(this,t),this._contrato=e,this.dialog=n,this.router=a,this.formBuilder=r,this.contrato_puesto=i,this.elementos=[],this.cargando=!1,this.tamanioPagina=15,this.tamanios=[15,30,45],this.totalRegistros=0,this.paginaActual=1,this.control_nombre=new s.FormControl,this.selectable=!0,this.removable=!0,this.proveedor=[],this.delegacion=[],this.nombre="",this.n_prov_imss="",this.delegaciones_filtro="",this.tipo_contrato=""}return i(t,[{key:"ngOnInit",value:function(){var t=this,n=(0,Ze.Z)(localStorage.getItem("token"));this.contrato_puesto.Consultarcontrato_puesto(n.PuestoId).subscribe(function(n){var a=n.Data.map(function(e){return e.TipoContrato.Id});t.tipo_contrato=a.join(),console.log(t.tipo_contrato);var o,r=e(a);try{for(r.s();!(o=r.n()).done;){"5f323c89d7be0a421a2305ff"===o.value&&(t.menu_distribucion=!0)}}catch(i){r.e(i)}finally{r.f()}t.consultarContratos()}),this.uploadForm=this.formBuilder.group({profile:[""]}),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(function(e){e&&(t.paginaActual=e.pageIndex+1,t.tamanioPagina=e.pageSize,t.consultarContratos())})}},{key:"consultarContratos",value:function(){var e=this;this.n_prov_imss="",this.delegaciones_filtro="";var t=null!==this.control_nombre.value?this.control_nombre.value:"";if(this.proveedor.length>0){var n=this.proveedor.map(function(e){return e.NProvImss});this.n_prov_imss=n.join()}if(this.delegacion.length>0){var a=this.delegacion.map(function(e){return e.ClvDele});this.delegaciones_filtro=a.join()}this._contrato.ConsultarContratos("",this.tipo_contrato,t,this.n_prov_imss,this.delegaciones_filtro,"","","",this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(function(t){e.dataSource=new f.by,e.dataSource.data=t.Data.registros,e.elementos=e.dataSource.data,e.totalRegistros=t.Data.total,e.cargando=!0,0===e.elementos.length&&S().fire({icon:"error",title:"Sin Resultados",text:"No se encontraron resultados para tu busqueda"})})}},{key:"buscarPorNombre",value:function(){this.consultarContratos(),this.paginator.firstPage()}},{key:"openDialogAgregar",value:function(){var e=this;this.dialog.open(Ye,{width:"95%",disableClose:!0,data:{editar:!1,contrato:""}}).afterClosed().subscribe(function(t){t&&e.consultarContratos()})}},{key:"editando",value:function(e){var t=this;this.dialog.open(Gt,{height:"auto",width:"90%",disableClose:!0,data:{contrato:e,representante:"",proveedor:e.Proveedor,editar:!0}}).afterClosed().subscribe(function(e){e&&t.consultarContratos()})}},{key:"AbrirDialogArchivos",value:function(e){this.dialog.open(Wa,{height:"auto",width:"65%",disableClose:!0,data:{contrato:e}}).afterClosed().subscribe(function(e){})}},{key:"openDialogCargaMasiva",value:function(){var e=this;this.dialog.open(bt,{height:"auto",width:"90%",disableClose:!0}).afterClosed().subscribe(function(t){!0===t&&e.consultarContratos()})}},{key:"openDialogConceptosArchivo",value:function(){var e=this;this.dialog.open(_n,{height:"auto",width:"90%",disableClose:!0}).afterClosed().subscribe(function(t){!0===t&&e.consultarContratos()})}},{key:"openDialogDistribucionArchivo",value:function(e){var t=this;this.dialog.open(Va,{height:"auto",width:"90%",disableClose:!0,data:{conceptos:e}}).afterClosed().subscribe(function(e){!0===e&&t.consultarContratos()})}},{key:"openDialogDetalleProveedor",value:function(e){this.dialog.open(ue.Y,{height:"auto",width:"30%",disableClose:!1,data:{proveedor:e}}).afterClosed().subscribe(function(e){})}},{key:"AbrirVentanaFiltros",value:function(){var e=this;this.dialog.open(Ra,{height:"auto",width:"75%",disableClose:!0,data:{proveedor:this.proveedor,delegacion:this.delegacion,unidad_med:"",nombreAutoriza:this.nombre}}).afterClosed().subscribe(function(t){t&&(e.proveedor=t.proveedor,e.nombre=t.nombre,e.delegacion=t.delegacion,e.consultarContratos())})}},{key:"EliminarFiltro",value:function(e){"proveedor"===e&&(this.proveedor=[],this.n_prov_imss="",this.nombre=""),"delegacion"===e&&(this.delegaciones_filtro="",this.delegacion=[]),this.consultarContratos()}},{key:"AbrirDetallecontrato",value:function(e){this.dialog.open(Xe,{height:"auto",width:"50%",disableClose:!0,data:{num_contrato:e}}).afterClosed().subscribe(function(e){})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](c.F0),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](Je.L))},t.\u0275cmp=w["\u0275\u0275defineComponent"]({type:t,selectors:[["app-administrar-contratos"]],viewQuery:function(e,t){var n;(1&e&&w["\u0275\u0275viewQuery"](v.NW,7),2&e)&&(w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.paginator=n.first))},decls:59,vars:11,consts:[[1,"mat-elevation-z3"],[2,"margin-left","5px!important"],["align","center",1,"font-bold",2,"color","#003366"],[2,"padding-left","5px!important"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],[1,"p-l-10"],["matInput","","placeholder","Buscar un contrato","autocomplete","off",3,"formControl","keyup.enter"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-evenly start"],["fxFlex.gt-sm","23","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","primary",3,"click"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["distribucion","matMenu"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","80","fxFlex.gt-xs","100","fxFlex","100"],["style","background-color: #1e88e5","selected","",3,"selectable","removable","removed",4,"ngIf"],[3,"hidden"],["mode","query","color","warn"],["fxLayout","row wrap"],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100","class","mat-elevation-z3",4,"ngFor","ngForOf"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-menu-item","",3,"matMenuTriggerFor"],["selected","",2,"background-color","#1e88e5",3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100",1,"mat-elevation-z3"],[1,"oh","text-center","little-profile"],["align","center"],[3,"routerLink"],[1,"m-b-0","font-bold",2,"color","#0800ef"],["mat-flat-button","","routerLink",".",3,"click"],["color","primary"],[1,"m-b-0"],["style","color: #003366",3,"routerLink","click",4,"ngIf"],[2,"color","#661421"],[3,"routerLink","click"],[1,"p-t-0"],["mat-button","","color","warn"],["mat-button","","color","primary",3,"click"],[2,"color","#003366",3,"routerLink","click"],[1,"m-b-0","m-t-0","font-bold"]],template:function(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",0),w["\u0275\u0275elementStart"](1,"mat-card",1),w["\u0275\u0275elementStart"](2,"mat-card-title",2),w["\u0275\u0275text"](3,"Administracion de contratos "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-card-content",3),w["\u0275\u0275elementStart"](5,"div",4),w["\u0275\u0275elementStart"](6,"div",5),w["\u0275\u0275elementStart"](7,"mat-form-field",6),w["\u0275\u0275elementStart"](8,"input",7),w["\u0275\u0275listener"]("keyup.enter",function(){return t.buscarPorNombre()}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"div",8),w["\u0275\u0275elementStart"](10,"div",9),w["\u0275\u0275elementStart"](11,"button",10),w["\u0275\u0275listener"]("click",function(){return t.openDialogAgregar()}),w["\u0275\u0275elementStart"](12,"mat-icon"),w["\u0275\u0275text"](13,"post_add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](14," Contrato "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](15,"div",11),w["\u0275\u0275elementStart"](16,"button",12),w["\u0275\u0275elementStart"](17,"mat-icon"),w["\u0275\u0275text"](18,"cloud_upload"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](19," Carga Masiva "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](20,"mat-menu",null,13),w["\u0275\u0275elementStart"](22,"button",14),w["\u0275\u0275listener"]("click",function(){return t.openDialogCargaMasiva()}),w["\u0275\u0275elementStart"](23,"mat-icon"),w["\u0275\u0275text"](24,"folder_open"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](25,"span"),w["\u0275\u0275text"](26,"Contratos"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](27,"button",14),w["\u0275\u0275listener"]("click",function(){return t.openDialogConceptosArchivo()}),w["\u0275\u0275elementStart"](28,"mat-icon"),w["\u0275\u0275text"](29,"post_add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](30,"span"),w["\u0275\u0275text"](31,"Equipos/Servicios"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](32,Qa,5,1,"button",15),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](33,"mat-menu",null,16),w["\u0275\u0275elementStart"](35,"button",14),w["\u0275\u0275listener"]("click",function(){return t.openDialogDistribucionArchivo(!0)}),w["\u0275\u0275elementStart"](36,"mat-icon"),w["\u0275\u0275text"](37,"view_quilt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](38,"span"),w["\u0275\u0275text"](39,"Conceptos ya registrados"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](40,"button",14),w["\u0275\u0275listener"]("click",function(){return t.openDialogDistribucionArchivo(!1)}),w["\u0275\u0275elementStart"](41,"mat-icon"),w["\u0275\u0275text"](42,"view_quilt"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](43,"span"),w["\u0275\u0275text"](44,"Sin conceptos registrados"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](45,"div",17),w["\u0275\u0275elementStart"](46,"button",10),w["\u0275\u0275listener"]("click",function(){return t.AbrirVentanaFiltros()}),w["\u0275\u0275elementStart"](47,"mat-icon"),w["\u0275\u0275text"](48,"filter_list"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](49," Filtros "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](50,"div",18),w["\u0275\u0275elementStart"](51,"mat-chip-list"),w["\u0275\u0275template"](52,Ka,3,3,"mat-chip",19),w["\u0275\u0275template"](53,Ja,3,3,"mat-chip",19),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](54,"div",20),w["\u0275\u0275element"](55,"mat-progress-bar",21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](56,"div",22),w["\u0275\u0275template"](57,no,29,8,"div",23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](58,"mat-paginator",24)),2&e){var n=w["\u0275\u0275reference"](21);w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("formControl",t.control_nombre),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("matMenuTriggerFor",n),w["\u0275\u0275advance"](16),w["\u0275\u0275property"]("ngIf",t.menu_distribucion),w["\u0275\u0275advance"](20),w["\u0275\u0275property"]("ngIf",t.proveedor.length>0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.delegacion.length>0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("hidden",t.cargando),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngForOf",t.elementos),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0)}},directives:[F.a8,F.n5,F.dn,D.xw,D.Wh,D.yH,V.KE,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlDirective,M.lW,T.Hw,Ga.p6,Ga.VK,Ga.OP,l.O5,Ya.qn,P.pW,l.sg,v.NW,Ya.HS,Ya.qH,c.yS,M.zs,F.hq],styles:[""]}),t}(),oo=function(){var e=function(){function e(){o(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seguimiento-contratos"]],decls:2,vars:0,template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"p"),w["\u0275\u0275text"](1," seguimiento-contratos works!\n"),w["\u0275\u0275elementEnd"]())},styles:[""]}),e}();function ro(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",27),w["\u0275\u0275text"](1,"Solo numeros. "),w["\u0275\u0275elementEnd"]())}function io(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",27),w["\u0275\u0275text"](1,"Solo numeros. "),w["\u0275\u0275elementEnd"]())}function lo(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"form",6),w["\u0275\u0275elementStart"](1,"div",7),w["\u0275\u0275elementStart"](2,"div",8),w["\u0275\u0275elementStart"](3,"mat-form-field",9),w["\u0275\u0275elementStart"](4,"mat-label"),w["\u0275\u0275text"](5,"ID PREI"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](6,"input",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](7,"div",11),w["\u0275\u0275elementStart"](8,"mat-form-field",12),w["\u0275\u0275elementStart"](9,"mat-label"),w["\u0275\u0275text"](10,"Descripcion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](11,"input",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](12,"div",14),w["\u0275\u0275elementStart"](13,"mat-form-field",12),w["\u0275\u0275elementStart"](14,"mat-label"),w["\u0275\u0275text"](15,"Marca"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](16,"input",15),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](17,"div",14),w["\u0275\u0275elementStart"](18,"mat-form-field",12),w["\u0275\u0275elementStart"](19,"mat-label"),w["\u0275\u0275text"](20,"Modelo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](21,"input",16),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"div",14),w["\u0275\u0275elementStart"](23,"mat-form-field",12),w["\u0275\u0275elementStart"](24,"mat-label"),w["\u0275\u0275text"](25,"Cantidad Contratada"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](26,"input",17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](27,ro,2,0,"small",18),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](28,"div",14),w["\u0275\u0275elementStart"](29,"mat-form-field",12),w["\u0275\u0275elementStart"](30,"mat-label"),w["\u0275\u0275text"](31,"Precio Sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](32,"input",19),w["\u0275\u0275elementStart"](33,"span",20),w["\u0275\u0275text"](34,"$\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](35,"div",14),w["\u0275\u0275elementStart"](36,"mat-form-field",21),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](42).open()}),w["\u0275\u0275elementStart"](37,"mat-label"),w["\u0275\u0275text"](38,"Fecha Maxima de Entrega"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](39,"input",22),w["\u0275\u0275listener"]("dateChange",function(e){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().valorFecha(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](40,"mat-datepicker-toggle",23),w["\u0275\u0275element"](41,"mat-datepicker",24,25),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](43,"div",14),w["\u0275\u0275elementStart"](44,"mat-form-field",12),w["\u0275\u0275elementStart"](45,"mat-label"),w["\u0275\u0275text"](46,"Meses de garantia"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](47,"input",26),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](48,io,2,0,"small",18),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275reference"](42),o=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("formGroup",o.formulario_conceptos),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("value",o.descripcion),w["\u0275\u0275advance"](16),w["\u0275\u0275property"]("ngIf",o.formulario_conceptos.controls.CantidadConcepto.hasError("pattern")&&o.formulario_conceptos.controls.CantidadConcepto.touched),w["\u0275\u0275advance"](12),w["\u0275\u0275property"]("matDatepicker",a),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",a),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("ngIf",o.formulario_conceptos.controls.GarantiaBienes.hasError("pattern")&&o.formulario_conceptos.controls.GarantiaBienes.touched)}}var co=function(){var e=function(){function e(t,n,a,r,i,l){o(this,e),this.dialogRef=t,this.data=n,this.fb=a,this.adapter=r,this.dialog=i,this._conceptos=l,this.descripcion="",this.fechaNueva="",this.adapter.setLocale("es-mx"),this.conceptoUpdate=n.conceptoEditar,this.descripcion=n.conceptoEditar.Prei.Descripcion,this.fechaMaxima=It()(n.conceptoEditar.FechaMaxEntrega,"DD-MM-YYYY"),this.fechaNueva=n.conceptoEditar.FechaMaxEntrega}return i(e,[{key:"ngOnInit",value:function(){console.log(this.data.conceptoEditar),this.crear_formulario_conceptos()}},{key:"crear_formulario_conceptos",value:function(){this.formulario_conceptos=this.fb.group({PrecioUniSnIva:[this.conceptoUpdate.PrecioUniSnIva,s.Validators.compose([s.Validators.required])],CantidadConcepto:[this.conceptoUpdate.CantidadConcepto,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],Marca:[this.conceptoUpdate.Marca,s.Validators.compose([s.Validators.required])],Modelo:[this.conceptoUpdate.Modelo,s.Validators.compose([s.Validators.required])],FechaMaxEntrega:[this.fechaMaxima,s.Validators.compose([s.Validators.required])],GarantiaBienes:[this.conceptoUpdate.GarantiaBienes,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],PreiIdArticulo:[this.conceptoUpdate.PreiIdArticulo,s.Validators.compose([s.Validators.required])]})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"actualizar",value:function(){var e=this,t=this.formulario_conceptos.getRawValue();t.FechaMaxEntrega=this.fechaNueva,console.log(t),S().fire({title:"Actualizacion",text:"\xbfEstas seguro que deseas actualizar?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Actualizar",cancelButtonText:"Cancelar"}).then(function(n){n.value&&e._conceptos.ActualizarConceptoContrato(e.conceptoUpdate.Id,t,e.conceptoUpdate.ContratoNumeroContrato).subscribe(function(t){S().fire("Correcto",t.Mensaje,"success"),e.dialogRef.close(!0)},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;console.log(t),S().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}},{key:"valorFecha",value:function(e){console.log(this.fechaMaxima,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](b._A),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](yt.h))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-editar-concepto-contrato"]],features:[w["\u0275\u0275ProvidersFeature"]([{provide:b.Ad,useValue:"ja-JP"},{provide:b._A,useClass:y.t7,deps:[b.Ad]},{provide:b.sG,useValue:y.$o}])],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","13","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline","color","warn"],["matInput","","formControlName","PreiIdArticulo","autocomplete","off","placeholder","ID SIN CEROS","readonly",""],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","autocomplete","off","readonly","","placeholder","Marca del equipo",3,"value"],["fxFlex.gt-sm","22","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","formControlName","Marca","autocomplete","off","placeholder","Marca del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","Modelo","autocomplete","off","placeholder","Modelo del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","CantidadConcepto","type","number","autocomplete","off","placeholder","Cantidad contratada",1,"soloNumeros"],["class","text-danger support-text",4,"ngIf"],["matInput","","formControlName","PrecioUniSnIva","type","number","autocomplete","off","placeholder","Precio Unitario",1,"soloNumeros"],["matPrefix",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FechaMaxEntrega",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","formControlName","GarantiaBienes","type","number","autocomplete","off","placeholder","Numero de Meses",1,"soloNumeros"],[1,"text-danger","support-text"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Editar Concepto"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275elementStart"](3,"mat-card"),w["\u0275\u0275elementStart"](4,"mat-card-content"),w["\u0275\u0275template"](5,lo,49,6,"form",2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"div",3),w["\u0275\u0275elementStart"](7,"button",4),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](8,"Cancelar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"button",5),w["\u0275\u0275listener"]("click",function(){return t.actualizar()}),w["\u0275\u0275text"](10,"Actualizar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("ngIf",t.conceptoUpdate),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("disabled",!t.formulario_conceptos.dirty))},directives:[h.uh,h.xY,F.a8,F.dn,l.O5,h.H8,M.lW,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,s.NumberValueAccessor,V.qo,Me.hl,Me.nW,V.R9,Me.Mq],styles:[""]}),e}();function mo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-list-item",5),w["\u0275\u0275elementStart"](1,"a",13),w["\u0275\u0275elementStart"](2,"button",14),w["\u0275\u0275text"](3),w["\u0275\u0275elementStart"](4,"mat-icon"),w["\u0275\u0275text"](5,"send"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275propertyInterpolate2"]("href","mailto:",n.correo,"?subject=Reporte%20del%20contrato%20No.%20",a.data.n_contrato,"",w["\u0275\u0275sanitizeUrl"]),w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate1"](" ",n.correo," ")}}function so(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-list-item"),w["\u0275\u0275elementStart"](1,"h4"),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](n.telefono)}}function uo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-list-item"),w["\u0275\u0275elementStart"](1,"h4"),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](n.extension)}}function po(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",15),w["\u0275\u0275elementStart"](1,"h5"),w["\u0275\u0275text"](2,"* Enviar correo a todos los destinatarios"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"a",16),w["\u0275\u0275elementStart"](4,"button",17),w["\u0275\u0275text"](5," Enviar a todos "),w["\u0275\u0275elementStart"](6,"mat-icon"),w["\u0275\u0275text"](7,"send"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](3),w["\u0275\u0275propertyInterpolate2"]("href","mailto:",n.correoTodos,"?subject=Reporte%20del%20contrato%20No.%20",n.data.n_contrato,"",w["\u0275\u0275sanitizeUrl"])}}var fo=function(){var e=function(){function e(t,n,a){o(this,e),this.dialogRef=t,this.data=n,this._contactoCont=a,this.correos=[],this.correoTodos="",this.todos=!1,this.telefonos=[]}return i(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnInit",value:function(){this.consultarContactos(),this.ConsultarTelefonos()}},{key:"consultarContactos",value:function(){var e=this;this._contactoCont.ConsultaCorreosContrato(this.data.n_contrato).subscribe(function(t){var n=t.Data.map(function(e){return{correo:e.Correos.Correo}});e.correos=n;var a=e.correos.map(function(e){return e.correo});e.correoTodos=a.join(";"),e.correos.length>1&&(e.todos=!0)})}},{key:"ConsultarTelefonos",value:function(){var e=this;this._contactoCont.ConsultaTelefonosContrato(this.data.n_contrato).subscribe(function(t){console.log(t.Data);var n=t.Data.map(function(e){return{telefono:e.Telefonos.Telefono,extension:e.Extension}});e.telefonos=n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](Ft.G))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-detalle-contac-contr"]],decls:34,vars:6,consts:[["mat-dialog-title","","align","center",2,"color","#003366"],["mat-dialog-content",""],["fxLayout","row wrap","fxLayoutAlign","space-around start"],["fxFlex.gt-sm","50","fxFlex.gt-xs","100","fxFlex","100"],[2,"color","#003366"],[1,"p-0"],["class","p-0",4,"ngFor","ngForOf"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],[4,"ngFor","ngForOf"],["fxFlex.gt-sm","15","fxFlex.gt-xs","100","fxFlex","100"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"click"],["matLine","",3,"href"],["mat-icon-button","","color","primary",2,"padding-left","2px"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[3,"href"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Contrato Numero: "),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"div",1),w["\u0275\u0275elementStart"](5,"mat-card"),w["\u0275\u0275elementStart"](6,"mat-card-title"),w["\u0275\u0275text"](7,"Representante Legal: "),w["\u0275\u0275elementStart"](8,"strong"),w["\u0275\u0275text"](9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"mat-card-content"),w["\u0275\u0275elementStart"](11,"div",2),w["\u0275\u0275elementStart"](12,"div",3),w["\u0275\u0275elementStart"](13,"span",4),w["\u0275\u0275elementStart"](14,"strong"),w["\u0275\u0275text"](15,"Correo(s) Electronico(s)"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"mat-nav-list",5),w["\u0275\u0275template"](17,mo,6,3,"mat-list-item",6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](18,"div",7),w["\u0275\u0275elementStart"](19,"span",4),w["\u0275\u0275elementStart"](20,"strong"),w["\u0275\u0275text"](21,"Telefono(s)"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"mat-nav-list"),w["\u0275\u0275template"](23,so,3,1,"mat-list-item",8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](24,"div",9),w["\u0275\u0275elementStart"](25,"span",4),w["\u0275\u0275elementStart"](26,"strong"),w["\u0275\u0275text"](27,"Extension(es)"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](28,"mat-nav-list"),w["\u0275\u0275template"](29,uo,3,1,"mat-list-item",8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](30,po,8,2,"div",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](31,"div",11),w["\u0275\u0275elementStart"](32,"button",12),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](33,"Cerrar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](t.data.n_contrato),w["\u0275\u0275advance"](6),w["\u0275\u0275textInterpolate"](t.data.representante.NombreCompleto),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("ngForOf",t.correos),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngForOf",t.telefonos),w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngForOf",t.telefonos),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.todos))},directives:[h.uh,h.xY,F.a8,F.n5,F.dn,D.xw,D.Wh,D.yH,Re.Hk,l.sg,l.O5,h.H8,M.lW,Re.Tg,b.X2,T.Hw],styles:[""]}),e}(),vo=r(66377),xo=r(84660),ho=r(88758);function go(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Unidad"),w["\u0275\u0275elementEnd"]())}function So(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.unidadMed.DenominacionUni)}}function Co(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Servicio"),w["\u0275\u0275elementEnd"]())}function Eo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.servicio)}}function bo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Origen"),w["\u0275\u0275elementEnd"]())}function yo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.origen)}}function _o(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Destino"),w["\u0275\u0275elementEnd"]())}function Io(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.destino)}}function wo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Cantidad Min"),w["\u0275\u0275elementEnd"]())}function Fo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.cantidadMin)}}function ko(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Cantidad Max"),w["\u0275\u0275elementEnd"]())}function Do(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.cantidadMax,"")}}function Vo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Precio"),w["\u0275\u0275elementEnd"]())}function Ao(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275pipe"](2,"currency"),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](2,1,n.precioOfertado),"")}}function No(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Importe Min"),w["\u0275\u0275elementEnd"]())}function Po(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275pipe"](2,"currency"),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](2,1,n.importeMin),"")}}function Mo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Importe Max"),w["\u0275\u0275elementEnd"]())}function To(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275pipe"](2,"currency"),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](2,1,n.importeMax),"")}}function Ro(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Editar"),w["\u0275\u0275elementEnd"]())}function Bo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",26),w["\u0275\u0275elementStart"](2,"mat-icon",27),w["\u0275\u0275text"](3,"edit"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]())}function jo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",25),w["\u0275\u0275text"](1,"Eliminar "),w["\u0275\u0275elementEnd"]())}function Oo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275elementStart"](1,"button",28),w["\u0275\u0275elementStart"](2,"mat-icon",27),w["\u0275\u0275text"](3,"delete"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]())}function qo(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function zo(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}var Lo=function(){var e=function(){function e(t){o(this,e),this._conceptos=t,this.MontoContratado=0,this.displayedColumns=["unMed","serv","origen","destino","canMin","canMax","precioCon","impMin","impMax","EditarPro","EliminarPro"],this.tamanioPagina=15,this.tamanios=[15,30,45],this.totalRegistros=0,this.paginaActual=1}return i(e,[{key:"ngOnInit",value:function(){var e=this;console.log("2232323",this.data),this.consultarConceptos(),this.paginator._intl.itemsPerPageLabel="Resultados por pagina",this.paginator.page.subscribe(function(t){t&&(e.paginaActual=t.pageIndex+1,e.tamanioPagina=t.pageSize,e.consultarConceptos())})}},{key:"consultarConceptos",value:function(){var e=this,t=this.data[0].NumeroContrato,n=null!==this.tipo?this.tipo:"",a=null!==this.subTipo?this.subTipo:"";console.log("sdfsdf-*-***",n,a),this._conceptos.ConsultarConceptos(t,n,a,this.paginaActual.toString(),this.tamanioPagina.toString()).subscribe(function(t){e.dataSource=new f.by,e.dataSource.data=t.Data.registros.map(function(e){return e.trasladoPacientes})[0],e.MontoContratado=t.Data.total,e.totalRegistros=t.Data.numReg,console.log(e.dataSource.data)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](yt.h))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-traslado-pacientes"]],viewQuery:function(e,t){var n;(1&e&&w["\u0275\u0275viewQuery"](v.NW,7),2&e)&&(w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.paginator=n.first))},inputs:{data:"data",tipo:"tipo",subTipo:"subTipo"},decls:62,vars:14,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-10","m-b-10"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["mat-raised-button","","color","primary"],[2,"color","#003366"],[2,"color","#661421"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],[1,"responsive-table","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","unMed"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","serv"],["matColumnDef","origen"],["matColumnDef","destino"],["matColumnDef","canMin"],["matColumnDef","canMax"],["matColumnDef","precioCon"],["matColumnDef","impMin"],["matColumnDef","impMax"],["matColumnDef","EditarPro"],["matColumnDef","EliminarPro"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","length","showFirstLastButtons"],["mat-sort-header",""],["mat-icon-button","","color","primary"],[1,"material-icons-outlined"],["mat-icon-button","","color","warn"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-card"),w["\u0275\u0275elementStart"](1,"mat-card-content"),w["\u0275\u0275elementStart"](2,"div",0),w["\u0275\u0275elementStart"](3,"div",1),w["\u0275\u0275elementStart"](4,"button",2),w["\u0275\u0275elementStart"](5,"mat-icon"),w["\u0275\u0275text"](6,"post_add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](7," Agregar nuevo registro "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"div",1),w["\u0275\u0275elementStart"](9,"span",3),w["\u0275\u0275text"](10,"Total Agregado: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](11,"strong"),w["\u0275\u0275elementStart"](12,"span",3),w["\u0275\u0275text"](13),w["\u0275\u0275pipe"](14,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](15,"div",1),w["\u0275\u0275elementStart"](16,"span",4),w["\u0275\u0275text"](17,"Total Restante: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](18,"strong"),w["\u0275\u0275elementStart"](19,"span",4),w["\u0275\u0275text"](20),w["\u0275\u0275pipe"](21,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](22,"div",5),w["\u0275\u0275elementStart"](23,"div",6),w["\u0275\u0275elementStart"](24,"div",7),w["\u0275\u0275elementStart"](25,"mat-table",8),w["\u0275\u0275elementContainerStart"](26,9),w["\u0275\u0275template"](27,go,2,0,"mat-header-cell",10),w["\u0275\u0275template"](28,So,2,1,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](29,12),w["\u0275\u0275template"](30,Co,2,0,"mat-header-cell",10),w["\u0275\u0275template"](31,Eo,2,1,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](32,13),w["\u0275\u0275template"](33,bo,2,0,"mat-header-cell",10),w["\u0275\u0275template"](34,yo,2,1,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](35,14),w["\u0275\u0275template"](36,_o,2,0,"mat-header-cell",10),w["\u0275\u0275template"](37,Io,2,1,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](38,15),w["\u0275\u0275template"](39,wo,2,0,"mat-header-cell",10),w["\u0275\u0275template"](40,Fo,2,1,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](41,16),w["\u0275\u0275template"](42,ko,2,0,"mat-header-cell",10),w["\u0275\u0275template"](43,Do,2,1,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](44,17),w["\u0275\u0275template"](45,Vo,2,0,"mat-header-cell",10),w["\u0275\u0275template"](46,Ao,3,3,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](47,18),w["\u0275\u0275template"](48,No,2,0,"mat-header-cell",10),w["\u0275\u0275template"](49,Po,3,3,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](50,19),w["\u0275\u0275template"](51,Mo,2,0,"mat-header-cell",10),w["\u0275\u0275template"](52,To,3,3,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](53,20),w["\u0275\u0275template"](54,Ro,2,0,"mat-header-cell",10),w["\u0275\u0275template"](55,Bo,4,0,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](56,21),w["\u0275\u0275template"](57,jo,2,0,"mat-header-cell",10),w["\u0275\u0275template"](58,Oo,4,0,"mat-cell",11),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](59,qo,1,0,"mat-header-row",22),w["\u0275\u0275template"](60,zo,1,0,"mat-row",23),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](61,"mat-paginator",24),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](13),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](14,10,t.MontoContratado)),w["\u0275\u0275advance"](7),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](21,12,t.data[0].MontoTotal-t.MontoContratado)),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("dataSource",t.dataSource),w["\u0275\u0275advance"](34),w["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("pageSizeOptions",t.tamanios)("pageSize",t.tamanioPagina)("length",t.totalRegistros)("showFirstLastButtons",!0))},directives:[F.a8,F.dn,D.xw,D.Wh,D.yH,M.lW,T.Hw,f.BZ,_.YE,f.w1,f.fO,f.Dz,f.as,f.nj,v.NW,f.ge,_.nU,f.ev,f.XQ,f.Gk],pipes:[l.H9],styles:[""]}),e}(),$o=r(89074),Ho=function(){var e=function(){function e(){o(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-equipo-medico"]],decls:2,vars:0,template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"p"),w["\u0275\u0275text"](1," equipo-medico works!\n"),w["\u0275\u0275elementEnd"]())},styles:[""]}),e}(),Uo=r(44112),Wo=["conceptos"];function Go(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"a",11),w["\u0275\u0275listener"]("click",function(){w["\u0275\u0275restoreView"](n);var e=w["\u0275\u0275nextContext"](2);return e.openDialogDetalleProveedor(e.contrato[0].Proveedor)}),w["\u0275\u0275elementStart"](1,"h3",12),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3,"Proveedor: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"u"),w["\u0275\u0275text"](5),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate"](a.contrato[0].Proveedor.NombreEmpresa)}}function Yo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"h4",28),w["\u0275\u0275elementStart"](1,"strong",29),w["\u0275\u0275text"](2,"Representante Legal: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"u"),w["\u0275\u0275text"](4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](4);w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.representante.NombreCompleto)}}function Qo(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"span"),w["\u0275\u0275elementStart"](1,"strong"),w["\u0275\u0275text"](2,"Procedimiento: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](4);w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate"](n.contrato[0].ProcedContratacion)}}function Xo(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",23),w["\u0275\u0275elementStart"](1,"a",11),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"](3).openDialogContacto()}),w["\u0275\u0275template"](2,Yo,5,1,"h4",24),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"h4",25),w["\u0275\u0275elementStart"](4,"strong"),w["\u0275\u0275text"](5,"Monto Total (Sin IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](6),w["\u0275\u0275pipe"](7,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"h4",25),w["\u0275\u0275elementStart"](9,"strong"),w["\u0275\u0275text"](10,"Monto Total (Con IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](11),w["\u0275\u0275pipe"](12,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"div",26),w["\u0275\u0275template"](14,Qo,4,1,"span",27),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"](3);w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",a.representante),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](7,4,a.contrato[0].MontoTotal)),w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](12,6,1.16*a.contrato[0].MontoTotal)),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngIf",a.contrato)}}function Ko(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",26),w["\u0275\u0275elementStart"](1,"span"),w["\u0275\u0275elementStart"](2,"strong"),w["\u0275\u0275text"](3,"Fecha Inicio: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](4),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"span"),w["\u0275\u0275elementStart"](6,"strong"),w["\u0275\u0275text"](7,"Fecha Fin: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"span"),w["\u0275\u0275elementStart"](10,"strong"),w["\u0275\u0275text"](11,"Tipo Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](13,"span"),w["\u0275\u0275elementStart"](14,"strong"),w["\u0275\u0275text"](15,"Fecha Fallo: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](16),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](3);w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.contrato[0].InicioContrato),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.contrato[0].FinContrato),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.contrato[0].TipoContrato.Tipo),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.contrato[0].FechaFallo)}}function Zo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",30),w["\u0275\u0275text"](1,"error_outline"),w["\u0275\u0275elementEnd"]())}function Jo(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",31),w["\u0275\u0275text"](1,"check_circle_outline"),w["\u0275\u0275elementEnd"]())}function er(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",30),w["\u0275\u0275text"](1,"error_outline"),w["\u0275\u0275elementEnd"]())}function tr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",31),w["\u0275\u0275text"](1,"check_circle_outline"),w["\u0275\u0275elementEnd"]())}function nr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",30),w["\u0275\u0275text"](1,"error_outline"),w["\u0275\u0275elementEnd"]())}function ar(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",31),w["\u0275\u0275text"](1,"check_circle_outline"),w["\u0275\u0275elementEnd"]())}function or(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",30),w["\u0275\u0275text"](1,"error_outline"),w["\u0275\u0275elementEnd"]())}function rr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-icon",31),w["\u0275\u0275text"](1,"check_circle_outline"),w["\u0275\u0275elementEnd"]())}function ir(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"div",3),w["\u0275\u0275template"](1,Xo,15,8,"div",13),w["\u0275\u0275elementStart"](2,"div",14),w["\u0275\u0275template"](3,Ko,17,4,"div",15),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"div",16),w["\u0275\u0275elementStart"](5,"div",17),w["\u0275\u0275template"](6,Zo,2,0,"mat-icon",18),w["\u0275\u0275template"](7,Jo,2,0,"mat-icon",19),w["\u0275\u0275elementStart"](8,"button",20),w["\u0275\u0275text"](9,"Penas Convencionales"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"div",17),w["\u0275\u0275template"](11,er,2,0,"mat-icon",18),w["\u0275\u0275template"](12,tr,2,0,"mat-icon",19),w["\u0275\u0275elementStart"](13,"button",21),w["\u0275\u0275text"](14,"Penas Deductivas"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](15,"div",17),w["\u0275\u0275template"](16,nr,2,0,"mat-icon",18),w["\u0275\u0275template"](17,ar,2,0,"mat-icon",19),w["\u0275\u0275elementStart"](18,"button",21),w["\u0275\u0275text"](19,"Administradores"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](20,"div"),w["\u0275\u0275template"](21,or,2,0,"mat-icon",18),w["\u0275\u0275template"](22,rr,2,0,"mat-icon",19),w["\u0275\u0275elementStart"](23,"button",22),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"](2).abrirFianza()}),w["\u0275\u0275text"](24,"Fianza"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.contrato),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",a.contrato),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngIf",!a.estado_convencionales),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.estado_convencionales),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",!a.estado_deductivas),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.estado_deductivas),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",!a.estado_administradores),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.estado_administradores),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",!a.estado_fianza),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",a.estado_fianza)}}function lr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-option",36),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275property"]("value",n.Id),w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.SubTipo," ")}}function cr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div",32),w["\u0275\u0275elementStart"](1,"mat-form-field",33),w["\u0275\u0275elementStart"](2,"mat-label"),w["\u0275\u0275text"](3,"Selecciona"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-select"),w["\u0275\u0275template"](5,lr,2,2,"mat-option",34),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"mat-hint",35),w["\u0275\u0275text"](7,"Selecciona el tipo de servicio subrrogado al cual pertenece este contrato "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("ngForOf",n.lista_sub_tipos)}}function mr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-card-content",2),w["\u0275\u0275elementStart"](1,"div",3),w["\u0275\u0275elementStart"](2,"div",4),w["\u0275\u0275elementStart"](3,"h3",5),w["\u0275\u0275elementStart"](4,"strong"),w["\u0275\u0275text"](5,"Contrato: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](7,Go,6,1,"a",6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](8,"div",7),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](9,ir,25,10,"div",8),w["\u0275\u0275elementStart"](10,"div",9),w["\u0275\u0275template"](11,cr,8,1,"div",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](6),w["\u0275\u0275textInterpolate1"]("",n.contrato_id," "),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",n.representante),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",!n.btn_agregar),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",!n.sub_tipo_contr)}}var dr=function(){var e=function(){function e(t,n,a,r,i,l,c,m,d,s,u,p,f){o(this,e),this._route=t,this._contrato=n,this.router=a,this._conceptos=r,this.dialog=i,this._representante=l,this._activar_btn_cancelar=c,this._penas=m,this._fianza=d,this._administrador=s,this._sub_tipo=u,this._sub_tipo_contrato=p,this.resolver=f,this.contrato=[],this.btn_agregar=!1,this.displayedColumns=["id_prei","clave_cuadro","descripcion_prei","marca","modelo","fecha_max","precio","distribucion","EditarPro","EliminarPro"],this.lista_sub_tipos=[],this.tipo_contrato=""}return i(e,[{key:"ngOnInit",value:function(){this.contrato_id=this._route.snapshot.paramMap.get("contrato_id"),this.consultarContrato(),this._activar_btn_cancelar.setEstadoBtn(!0),this._activar_btn_cancelar.setRuta("/contratos/administrar"),this.consultarRepresentante(),this.consultarPenasDeductivas(),this.consultarPenasConvencionales(),this.consultarAdministradores(),this.consultarFianza()}},{key:"ngOnDestroy",value:function(){this._activar_btn_cancelar.setEstadoBtn(!1),this._activar_btn_cancelar.setRuta("/inicio")}},{key:"crearComponente",value:function(e){switch(e){case"5f587535d7be0a74bf7db093":var t=this.resolver.resolveComponentFactory(Lo);this.componentRef=this.container.createComponent(t),this.componentRef.instance.data=this.contrato,this.componentRef.instance.tipo=this.tipo_contrato,this.componentRef.instance.subTipo=this.sub_tipo_contr.SubTipoId,console.log("It is a Sunday.");break;case"5f323c89d7be0a421a2305ff":var n=this.resolver.resolveComponentFactory(Ho);this.componentRef=this.container.createComponent(n);break;default:console.log("No such day exists!")}}},{key:"consultarSubTipo",value:function(e){var t=this;this._sub_tipo.ConsultaSubTipo(e).subscribe(function(n){t.lista_sub_tipos=n.Data,t.lista_sub_tipos.length>0?(console.log("Si hay registros"),e="",t.consultarSubTipoContrato(t.contrato[0].NumeroContrato)):t.crearComponente(e)},function(e){""===e.error&&void 0===e.error||console.log(e.error)})}},{key:"consultarSubTipoContrato",value:function(e){var t=this;this._sub_tipo_contrato.ConsultaSubTipoContrato(e).subscribe(function(e){t.sub_tipo_contr=e.Data,console.log(t.sub_tipo_contr),t.crearComponente(t.sub_tipo_contr.SubTipoId)},function(e){""===e.error&&void 0===e.error||console.log(e.error)})}},{key:"consultarPenasDeductivas",value:function(){var e=this;this._penas.ConsultarPenaDeductiva(this.contrato_id).subscribe(function(t){e.estado_deductivas=t.Data.estado})}},{key:"consultarAdministradores",value:function(){var e=this;this._administrador.ConsultarAdministradores(this.contrato_id).subscribe(function(t){e.estado_administradores=t.Data.estado})}},{key:"consultarFianza",value:function(){var e=this;this._fianza.Consultarfianza(this.contrato_id).subscribe(function(t){e.estado_fianza=t.Data.estado},function(t){""===t.error&&void 0===t.error||(e.estado_fianza=t.error.Data.estado)})}},{key:"consultarPenasConvencionales",value:function(){var e=this;this._penas.ConsultarPenaConvencional(this.contrato_id).subscribe(function(t){e.estado_convencionales=t.Data.estado},function(t){""===t.error&&void 0===t.error||(e.estado_convencionales=t.error.Data.estado)})}},{key:"consultarRepresentante",value:function(){var e=this;this._representante.ConsultaRepresentante(this.contrato_id).subscribe(function(t){e.representante=t.Data})}},{key:"consultarContrato",value:function(){var e=this;this._contrato.ConsultarContratos(this.contrato_id,"","","","","","","","","").subscribe(function(t){e.contrato=t.Data.registros,console.log("Este es el contrato",e.contrato),e.tipo_contrato=e.contrato[0].TipoContratoId,e.consultarSubTipo(e.contrato[0].TipoContratoId)})}},{key:"regresaDescripcion",value:function(e){return e.split(".",1).toString()}},{key:"estadoDistribucion",value:function(e){return 0===e.CantidadDistribuida?"#c42534":e.CantidadDistribuida===e.CantidadConcepto?"#18903f":e.CantidadDistribuida<e.CantidadConcepto?"#d4782c":void 0}},{key:"openDialogDistribucion",value:function(e){this.dialog.open(oa,{height:"auto",width:"90%",disableClose:!0,data:{concepto:e,cantidad:0,archivo:!1}}).afterClosed().subscribe(function(e){})}},{key:"openDialogActualizar",value:function(e){this.dialog.open(co,{width:"90%",height:"auto",disableClose:!0,data:{conceptoEditar:e}}).afterClosed().subscribe(function(e){})}},{key:"enviarRuta",value:function(){this.router.navigate(["/contratos/agregar",this.contrato_id])}},{key:"openDialogDetalleProveedor",value:function(e){this.dialog.open(ue.Y,{height:"auto",width:"30%",disableClose:!1,data:{proveedor:e}}).afterClosed().subscribe(function(e){})}},{key:"openDialogContacto",value:function(){this.dialog.open(fo,{width:"65%",height:"auto",disableClose:!0,data:{n_contrato:this.contrato_id,representante:this.representante}}).afterClosed().subscribe(function(e){})}},{key:"EliminarConcepto",value:function(e){var t=this;S().fire({title:"Eliminar",text:"Estas seguro que deseas eliminar este concepto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar",cancelButtonText:"Cancelar"}).then(function(n){n.value&&t._conceptos.EliminarConcepto(e).subscribe(function(e){S().fire("Correcto",e.Mensaje,"success")},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire({position:"center",title:t.Mensaje,text:t.Data,icon:"error",showConfirmButton:!0})}})})}},{key:"abrirFianza",value:function(){this.router.navigate(["/contratos/fianza",this.contrato_id])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](c.gz),w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](c.F0),w["\u0275\u0275directiveInject"](yt.h),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](wt.i),w["\u0275\u0275directiveInject"](Uo.R),w["\u0275\u0275directiveInject"](vo.x),w["\u0275\u0275directiveInject"](xo.n),w["\u0275\u0275directiveInject"](ho.p),w["\u0275\u0275directiveInject"](tn.O),w["\u0275\u0275directiveInject"]($o.J),w["\u0275\u0275directiveInject"](w.ComponentFactoryResolver))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-detalle-contrato"]],viewQuery:function(e,t){var n;(1&e&&w["\u0275\u0275viewQuery"](Wo,5,w.ViewContainerRef),2&e)&&(w["\u0275\u0275queryRefresh"](n=w["\u0275\u0275loadQuery"]())&&(t.container=n.first))},decls:4,vars:1,consts:[["class","p-t-0",4,"ngIf"],["conceptos",""],[1,"p-t-0"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","70","fxFlex.gt-xs","100","fxFlex","100",1,"mb-1"],[1,"m-0",2,"color","#be1b14"],[3,"routerLink","click",4,"ngIf"],["fxFlex.gt-sm","20","fxFlex.gt-xs","100","fxFlex","100","align","end",1,"mb-1"],["fxLayout","row wrap","fxLayoutAlign","space-between center",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"m-t-10","m-b-10"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],[3,"routerLink","click"],[1,"m-0",2,"color","#003366"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100",4,"ngIf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100",1,"text-left"],["fxLayout","column",4,"ngIf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100",2,"border-width","1px","border-color","darkgreen"],[1,"m-b-5"],["color","warn",4,"ngIf"],["color","primary",4,"ngIf"],["mat-raised-button","","color","accent",2,"padding-left","5px"],["mat-raised-button","","color","accent"],["mat-raised-button","","color","accent",3,"click"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100"],["class","m-0",4,"ngIf"],[1,"text-danger","m-0"],["fxLayout","column"],[4,"ngIf"],[1,"m-0"],[2,"color","#000"],["color","warn"],["color","primary"],["fxFlex.gt-sm","45","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["style","font-size: 14px",3,"value",4,"ngFor","ngForOf"],[2,"color","#661421"],[2,"font-size","14px",3,"value"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-card"),w["\u0275\u0275template"](1,mr,12,4,"mat-card-content",0),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](2,"template",null,1)),2&e&&(w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.contrato))},directives:[F.a8,l.O5,F.dn,D.xw,D.Wh,D.yH,c.yS,M.lW,T.Hw,V.KE,V.hX,Te.gD,l.sg,V.bx,b.ey],pipes:[l.H9],styles:[".soloNumeros[_ngcontent-%COMP%]{text-align:left}input.soloNumeros[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.soloNumeros[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}input.soloNumeros[_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e}(),sr=r(18240);function ur(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-card",7),w["\u0275\u0275elementStart"](1,"mat-card-content"),w["\u0275\u0275elementStart"](2,"h3",8),w["\u0275\u0275elementStart"](3,"strong"),w["\u0275\u0275text"](4,"Clave Cuadro Basico: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](5),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"h3",9),w["\u0275\u0275elementStart"](7,"strong"),w["\u0275\u0275text"](8,"Clave PREI: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"h3",10),w["\u0275\u0275elementStart"](11,"strong"),w["\u0275\u0275text"](12,"Descripcion: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](14,"h3",11),w["\u0275\u0275elementStart"](15,"strong"),w["\u0275\u0275text"](16,"Objeto de contratacion: "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](17),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](5),w["\u0275\u0275textInterpolate"](n.claveCuadro),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.clave.IdArticulo),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate1"]("",n.regresaDescripcion(n.clave.Descripcion),"."),w["\u0275\u0275advance"](4),w["\u0275\u0275textInterpolate"](n.clave.CuadroBasico.Grupo)}}function pr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-card",12),w["\u0275\u0275elementStart"](1,"div"),w["\u0275\u0275elementStart"](2,"h3",13),w["\u0275\u0275text"](3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](4,"mat-card-content"),w["\u0275\u0275elementStart"](5,"div",14),w["\u0275\u0275elementStart"](6,"div",15),w["\u0275\u0275element"](7,"img",16),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](3),w["\u0275\u0275textInterpolate1"]("No se ecnontro este ID PREI: ",n.data.id_prei,"")}}function fr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"button",17),w["\u0275\u0275text"](1,"Seleccionar "),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("mat-dialog-close",n.clave)}}var vr=function(){var e=function(){function e(t,n,a){o(this,e),this.dialogRef=t,this.data=n,this._prei=a,this.id_prei="",this.claveCuadro="",this.error=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.id_prei=this.data.id_prei,this._prei.getClavePrei("",this.id_prei).subscribe(function(t){e.clave=t.Data,e.claveCuadro=e.clave.Grupo+"."+e.clave.Generico+"."+e.clave.Especifico+"."+e.clave.Diferenciador+"."+e.clave.Variable},function(t){e.error=!0})}},{key:"onNoClick",value:function(){this.dialogRef.close(!1)}},{key:"regresaDescripcion",value:function(e){return e.split(".",1).toString()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](h.so),w["\u0275\u0275directiveInject"](h.WI),w["\u0275\u0275directiveInject"](sr.X))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-conceptos-contrato"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","oh text-left little-profile",4,"ngIf"],["class","oh text-center little-profile",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close",4,"ngIf"],[1,"oh","text-left","little-profile"],[1,"m-b-0",2,"color","#003366"],[1,"m-b-0","m-t-0",2,"color","#003366"],[1,"m-t-0","m-t-10"],[1,"m-t-10","m-b-10"],[1,"oh","text-center","little-profile"],[1,"m-b-0","font-bold",2,"color","#661421"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","40","fxFlex.gt-xs","100","fxFlex","100",1,"col-md-4"],["src","../../../../assets/images/background/errorNot.png","alt","",1,"img-responsive",2,"overflow","hidden"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h1",0),w["\u0275\u0275text"](1,"Equipo Contratado"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](2,"div",1),w["\u0275\u0275template"](3,ur,18,4,"mat-card",2),w["\u0275\u0275template"](4,pr,8,1,"mat-card",3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"div",4),w["\u0275\u0275elementStart"](6,"button",5),w["\u0275\u0275listener"]("click",function(){return t.onNoClick()}),w["\u0275\u0275text"](7,"Cancelar"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](8,fr,2,1,"button",6),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("ngIf",t.clave),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",t.error),w["\u0275\u0275advance"](4),w["\u0275\u0275property"]("ngIf",t.clave))},directives:[h.uh,h.xY,l.O5,h.H8,M.lW,F.a8,F.dn,D.xw,D.Wh,D.yH,h.ZT],styles:[""]}),e}();function xr(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",42),w["\u0275\u0275elementStart"](1,"mat-icon",43),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().openDialogAgregarConcepto()}),w["\u0275\u0275text"](2,"search"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}}function hr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",44),w["\u0275\u0275text"](1,"Solo numeros. "),w["\u0275\u0275elementEnd"]())}function gr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"small",44),w["\u0275\u0275text"](1,"Solo numeros. "),w["\u0275\u0275elementEnd"]())}function Sr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Id Prei"),w["\u0275\u0275elementEnd"]())}function Cr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.PreiIdArticulo)}}function Er(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Clave Cuadro"),w["\u0275\u0275elementEnd"]())}function br(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate5"](" ",n.Prei.Grupo,".",n.Prei.Generico,".",n.Prei.Especifico,".",n.Prei.Diferenciador," .",n.Prei.Variable," ")}}function yr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Descripcion"),w["\u0275\u0275elementEnd"]())}function _r(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](a.regresaDescripcion(n.Prei.Descripcion))}}function Ir(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Marca"),w["\u0275\u0275elementEnd"]())}function wr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate"](n.Marca)}}function Fr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Modelo"),w["\u0275\u0275elementEnd"]())}function kr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.Modelo,"")}}function Dr(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Fecha de Entrega"),w["\u0275\u0275elementEnd"]())}function Vr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",n.FechaMaxEntrega,"")}}function Ar(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-header-cell",45),w["\u0275\u0275text"](1,"Precio"),w["\u0275\u0275elementEnd"]())}function Nr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"mat-cell"),w["\u0275\u0275text"](1),w["\u0275\u0275pipe"](2,"currency"),w["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275textInterpolate1"](" ",w["\u0275\u0275pipeBind1"](2,1,n.PrecioUniSnIva),"")}}function Pr(e,t){1&e&&w["\u0275\u0275element"](0,"mat-header-row")}function Mr(e,t){1&e&&w["\u0275\u0275element"](0,"mat-row")}var Tr=function(){var e=function(){function e(t,n,a,r,i,l,c,m){o(this,e),this._route=t,this._contrato=n,this.dialog=a,this.fb=r,this.adapter=i,this._conceptos=l,this._activar_btn_cancelar=c,this.router=m,this.conceptos_contrato=[],this.conceptosAgregados=[],this.fechaMaxima="",this.contrato=[],this.descripcion="",this.datosArray=[],this.estadoDescripcion=!0,this.displayedColumns=["id_prei","clave_cuadro","descripcion_prei","marca","modelo","fecha_max","precio"],this.configuraciones={columns:{PreiIdArticulo:{title:"Id PREI",filter:!0,width:"10%"},Descripcion:{title:"Descripcion",filter:!0,width:"40%"},Marca:{title:"Marca",filter:!0,width:"20%"},Modelo:{title:"Modelo",filter:!0,width:"20%"},CantidadConcepto:{title:"Cantidad",filter:!0,width:"10%"}},mode:"external",actions:{add:!1,edit:!1,delete:!1,custom:[{name:"delete",title:'<i class="material-icons text-danger">delete</i>'},{name:"edit",title:'<i class="material-icons text-info">edit</i>'}]},noDataMessage:"Sin Equipos por incluir"},this.adapter.setLocale("es-mx")}return i(e,[{key:"ngOnInit",value:function(){this.contrato_id=this._route.snapshot.paramMap.get("contrato_id"),this.crear_formulario_conceptos(),this.consultarContrato(),this._activar_btn_cancelar.setEstadoBtn(!0),this._activar_btn_cancelar.setRuta("/contratos/detalle/"+this.contrato_id)}},{key:"consultarContrato",value:function(){var e=this;this._contrato.ConsultarContratos(this.contrato_id,"","","","","","","","","").subscribe(function(t){console.log(t.Data),e.contrato=t.Data.registros,e.consultarConceptos()})}},{key:"consultarConceptos",value:function(){var e=this,t=this.contrato[0].NumeroContrato;console.log(t),this._conceptos.ConsultarConceptosContrato(t).subscribe(function(t){console.log(t.Data),e.conceptosAgregados=t.Data.registros,e.dataSource=new f.by,e.dataSource.data=t.Data.registros,e.MontoContratado=t.Data.total,e.MontoRestante=e.contrato[0].MontoTotal-e.MontoContratado})}},{key:"crear_formulario_conceptos",value:function(){this.formulario_conceptos=this.fb.group({PrecioUniSnIva:[null,s.Validators.compose([s.Validators.required])],CantidadConcepto:[null,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],Marca:[null,s.Validators.compose([s.Validators.required])],Modelo:[null,s.Validators.compose([s.Validators.required])],FechaMaxEntrega:[null,s.Validators.compose([s.Validators.required])],GarantiaBienes:[null,s.Validators.compose([s.Validators.required,s.Validators.pattern("^([0-9])*$")])],PreiIdArticulo:[null,s.Validators.compose([s.Validators.required])]})}},{key:"openDialogAgregarConcepto",value:function(){var e=this,t=this.formulario_conceptos.controls.PreiIdArticulo.value;null!==t&&(this.verificarClaveRepetida(t)?S().fire({title:"Oops...",text:"Esta clave ya esta agregada",icon:"error"}):this.dialog.open(vr,{height:"auto",width:"70%",disableClose:!0,data:{id_prei:t}}).afterClosed().subscribe(function(t){t&&(e.descripcion=t.Descripcion,e.estadoDescripcion=!1,e.clave_seleccionada=t)}))}},{key:"verificarClaveRepetida",value:function(e){return-1!==this.conceptosAgregados.findIndex(function(t){return t.PreiIdArticulo===e})||-1!==this.conceptos_contrato.findIndex(function(t){return t.PreiIdArticulo===e})}},{key:"agregarConceptos",value:function(){var e=this,t=this.contrato[0].NumeroContrato;this.conceptoFinal={ConceptoContrato:this.conceptos_contrato},console.log(this.conceptoFinal),S().fire({title:"Estas Seguro",text:"Deseas agregar estos equipos",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si ,agregar"}).then(function(n){n.value&&e._conceptos.AgregarConceptoContrato(e.conceptoFinal,t).subscribe(function(t){S().fire({position:"center",title:"Correcto",text:t.Mensaje,icon:"success",showConfirmButton:!0}),e.router.navigate(["/contratos/detalle",e.contrato_id])},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;console.log(n.Data),S().fire({position:"center",title:"Id Prei: "+n.Data.PreiIdArticulo,text:e.regresaDescripcion(n.Data.Prei.Descripcion),footer:n.Mensaje,icon:"error",showConfirmButton:!0})}console.log(t.error)})})}},{key:"eliminarConceptoArray",value:function(e){var t=this.datosArray.indexOf(e.data);console.log(t),this.datosArray.splice(t,1)}},{key:"onCustomAction",value:function(e){switch(e.action){case"delete":this.eliminarConceptoArray(e);break;case"edit":console.log("editar")}}},{key:"valorFecha",value:function(e){console.log(this.fechaMaxima)}},{key:"AgregarItemArray",value:function(){var e=this.formulario_conceptos.getRawValue();console.log("datos",e);var t=e.PrecioUniSnIva*e.CantidadConcepto;if(console.log(t,"-",this.MontoRestante),t<=this.MontoRestante){console.log("datos despues del if",e),e.Descripcion=this.regresaDescripcion(this.clave_seleccionada.Descripcion),e.Prei=this.clave_seleccionada,e.Fecha=this.fechaMaxima,this.datosArray.push(e);var n={PrecioUniSnIva:e.PrecioUniSnIva,CantidadConcepto:e.CantidadConcepto,Marca:e.Marca,Modelo:e.Modelo,ObjetoContratacion:e.Prei.CuadroBasico.Grupo,FechaMaxEntrega:e.Fecha,GarantiaBienes:e.GarantiaBienes,PreiIdArticulo:e.PreiIdArticulo};console.log(n),this.MontoContratado=this.MontoContratado+n.CantidadConcepto*n.PrecioUniSnIva,this.conceptos_contrato.push(n),this.formulario_conceptos.reset(),this.descripcion="",this.estadoDescripcion=!0,this.MontoRestante=this.contrato[0].MontoTotal-this.MontoContratado}else S().fire({title:"Oops...",text:"No se puede agregar esta cantidad superas el limite de monto contratado",icon:"error"})}},{key:"regresaDescripcion",value:function(e){return e.split(".",1).toString()}},{key:"estaVacioArreglo",value:function(){return this.datosArray.length<=0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](c.gz),w["\u0275\u0275directiveInject"](x.d),w["\u0275\u0275directiveInject"](h.uw),w["\u0275\u0275directiveInject"](s.FormBuilder),w["\u0275\u0275directiveInject"](b._A),w["\u0275\u0275directiveInject"](yt.h),w["\u0275\u0275directiveInject"](Uo.R),w["\u0275\u0275directiveInject"](c.F0))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-agregar-conceptos-contrato"]],features:[w["\u0275\u0275ProvidersFeature"]([{provide:b.Ad,useValue:"ja-JP"},{provide:b._A,useClass:y.t7,deps:[b.Ad]},{provide:b.sG,useValue:y.$o}])],decls:102,vars:16,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-sm","13","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["matInput","","formControlName","PreiIdArticulo","autocomplete","off","placeholder","ID SIN CEROS",3,"keyup.enter"],["fxFlex.gt-sm","8","fxFlex.gt-xs","100","fxFlex","100"],["mat-icon-button","","matSuffix","","aria-label","buscar",4,"ngIf"],["fxFlex.gt-sm","33","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","autocomplete","off","readonly","","placeholder","Marca del equipo",3,"value","click"],["fxFlex.gt-sm","22","fxFlex.gt-xs","100","fxFlex","100"],["matInput","","formControlName","Marca","autocomplete","off","placeholder","Marca del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","Modelo","autocomplete","off","placeholder","Modelo del equipo",2,"text-transform","uppercase"],["matInput","","formControlName","CantidadConcepto","type","number","autocomplete","off","placeholder","Cantidad contratada",1,"soloNumeros"],["class","text-danger support-text",4,"ngIf"],["matInput","","formControlName","PrecioUniSnIva","type","number","autocomplete","off","placeholder","Precio Unitario",1,"soloNumeros"],["matPrefix",""],["appearance","outline",3,"click"],["matInput","","placeholder","Seleccionar fecha","readonly","","formControlName","FechaMaxEntrega",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["touchUi","","color","primary"],["picker",""],["matInput","","formControlName","GarantiaBienes","type","number","autocomplete","off","placeholder","Numero de Meses",1,"soloNumeros"],["fxFlex.gt-sm","25","fxFlex.gt-xs","100","fxFlex","100"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxFlex.gt-sm","35","fxFlex.gt-xs","100","fxFlex","100"],[2,"color","#661421"],["fxFlex.gt-sm","100","fxFlex.gt-xs","100","fxFlex","100"],["inset","",2,"background-color","#263238"],["align","center",2,"color","#661421"],[1,"responsive-table"],["matSort","",3,"dataSource"],["matColumnDef","id_prei"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","clave_cuadro"],["matColumnDef","descripcion_prei"],["matColumnDef","marca"],["matColumnDef","modelo"],["matColumnDef","fecha_max"],["matColumnDef","precio"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-icon-button","","matSuffix","","aria-label","buscar"],[2,"color","#1e88e5",3,"click"],[1,"text-danger","support-text"],["mat-sort-header",""]],template:function(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"mat-card"),w["\u0275\u0275elementStart"](1,"mat-card-content"),w["\u0275\u0275elementStart"](2,"form",0),w["\u0275\u0275elementStart"](3,"div",1),w["\u0275\u0275elementStart"](4,"div",2),w["\u0275\u0275elementStart"](5,"mat-form-field",3),w["\u0275\u0275elementStart"](6,"mat-label"),w["\u0275\u0275text"](7,"ID PREI"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"input",4),w["\u0275\u0275listener"]("keyup.enter",function(){return t.openDialogAgregarConcepto()}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"div",5),w["\u0275\u0275template"](10,xr,3,0,"button",6),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](11,"div",7),w["\u0275\u0275elementStart"](12,"mat-form-field",3),w["\u0275\u0275elementStart"](13,"mat-label"),w["\u0275\u0275text"](14,"Descripcion"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](15,"input",8),w["\u0275\u0275listener"]("click",function(){return t.openDialogAgregarConcepto()}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"div",9),w["\u0275\u0275elementStart"](17,"mat-form-field",3),w["\u0275\u0275elementStart"](18,"mat-label"),w["\u0275\u0275text"](19,"Marca"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](20,"input",10),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](21,"div",9),w["\u0275\u0275elementStart"](22,"mat-form-field",3),w["\u0275\u0275elementStart"](23,"mat-label"),w["\u0275\u0275text"](24,"Modelo"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](25,"input",11),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](26,"div",9),w["\u0275\u0275elementStart"](27,"mat-form-field",3),w["\u0275\u0275elementStart"](28,"mat-label"),w["\u0275\u0275text"](29,"Cantidad Contratada"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](30,"input",12),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](31,hr,2,0,"small",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](32,"div",9),w["\u0275\u0275elementStart"](33,"mat-form-field",3),w["\u0275\u0275elementStart"](34,"mat-label"),w["\u0275\u0275text"](35,"Precio Sin IVA"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](36,"input",14),w["\u0275\u0275elementStart"](37,"span",15),w["\u0275\u0275text"](38,"$\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](39,"div",9),w["\u0275\u0275elementStart"](40,"mat-form-field",16),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275reference"](46).open()}),w["\u0275\u0275elementStart"](41,"mat-label"),w["\u0275\u0275text"](42,"Fecha Maxima de Entrega"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](43,"input",17),w["\u0275\u0275listener"]("dateChange",function(e){return t.valorFecha(e)}),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](44,"mat-datepicker-toggle",18),w["\u0275\u0275element"](45,"mat-datepicker",19,20),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](47,"div",9),w["\u0275\u0275elementStart"](48,"mat-form-field",3),w["\u0275\u0275elementStart"](49,"mat-label"),w["\u0275\u0275text"](50,"Meses de garantia"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](51,"input",21),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](52,gr,2,0,"small",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](53,"div",1),w["\u0275\u0275elementStart"](54,"div",22),w["\u0275\u0275elementStart"](55,"button",23),w["\u0275\u0275listener"]("click",function(){return t.agregarConceptos()}),w["\u0275\u0275elementStart"](56,"mat-icon"),w["\u0275\u0275text"](57,"save"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](58," Finalizar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](59,"div",24),w["\u0275\u0275elementStart"](60,"span",25),w["\u0275\u0275text"](61,"Total Restante del contrato (SIN IVA): "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](62,"strong"),w["\u0275\u0275elementStart"](63,"span",25),w["\u0275\u0275text"](64),w["\u0275\u0275pipe"](65,"currency"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](66,"div",22),w["\u0275\u0275elementStart"](67,"button",23),w["\u0275\u0275listener"]("click",function(){return t.AgregarItemArray()}),w["\u0275\u0275elementStart"](68,"mat-icon"),w["\u0275\u0275text"](69,"playlist_add"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](70," Siguiente "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](71,"div",1),w["\u0275\u0275elementStart"](72,"div",1),w["\u0275\u0275elementStart"](73,"div",26),w["\u0275\u0275element"](74,"mat-divider",27),w["\u0275\u0275elementStart"](75,"h4",28),w["\u0275\u0275text"](76,"Lista de equipos ya incluidos en el contrato"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](77,"div",29),w["\u0275\u0275elementStart"](78,"mat-table",30),w["\u0275\u0275elementContainerStart"](79,31),w["\u0275\u0275template"](80,Sr,2,0,"mat-header-cell",32),w["\u0275\u0275template"](81,Cr,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](82,34),w["\u0275\u0275template"](83,Er,2,0,"mat-header-cell",32),w["\u0275\u0275template"](84,br,2,5,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](85,35),w["\u0275\u0275template"](86,yr,2,0,"mat-header-cell",32),w["\u0275\u0275template"](87,_r,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](88,36),w["\u0275\u0275template"](89,Ir,2,0,"mat-header-cell",32),w["\u0275\u0275template"](90,wr,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](91,37),w["\u0275\u0275template"](92,Fr,2,0,"mat-header-cell",32),w["\u0275\u0275template"](93,kr,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](94,38),w["\u0275\u0275template"](95,Dr,2,0,"mat-header-cell",32),w["\u0275\u0275template"](96,Vr,2,1,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275elementContainerStart"](97,39),w["\u0275\u0275template"](98,Ar,2,0,"mat-header-cell",32),w["\u0275\u0275template"](99,Nr,3,3,"mat-cell",33),w["\u0275\u0275elementContainerEnd"](),w["\u0275\u0275template"](100,Pr,1,0,"mat-header-row",40),w["\u0275\u0275template"](101,Mr,1,0,"mat-row",41),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275reference"](46);w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("formGroup",t.formulario_conceptos),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.PreiIdArticulo.value),w["\u0275\u0275advance"](5),w["\u0275\u0275property"]("value",t.descripcion),w["\u0275\u0275advance"](16),w["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.CantidadConcepto.hasError("pattern")&&t.formulario_conceptos.controls.CantidadConcepto.touched),w["\u0275\u0275advance"](12),w["\u0275\u0275property"]("matDatepicker",a),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("for",a),w["\u0275\u0275advance"](8),w["\u0275\u0275property"]("ngIf",t.formulario_conceptos.controls.GarantiaBienes.hasError("pattern")&&t.formulario_conceptos.controls.GarantiaBienes.touched),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("disabled",t.estaVacioArreglo()),w["\u0275\u0275advance"](9),w["\u0275\u0275textInterpolate"](w["\u0275\u0275pipeBind1"](65,14,t.MontoRestante)),w["\u0275\u0275advance"](3),w["\u0275\u0275property"]("disabled",t.estadoDescripcion||t.formulario_conceptos.invalid),w["\u0275\u0275advance"](11),w["\u0275\u0275property"]("dataSource",t.dataSource),w["\u0275\u0275advance"](22),w["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns)}},directives:[F.a8,F.dn,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,A.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,l.O5,s.NumberValueAccessor,V.qo,Me.hl,Me.nW,V.R9,Me.Mq,M.lW,T.Hw,kt.d,f.BZ,_.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.ge,_.nU,f.ev,f.XQ,f.Gk],pipes:[l.H9],styles:[""]}),e}();function Rr(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"form",6),w["\u0275\u0275elementStart"](1,"div",7),w["\u0275\u0275elementStart"](2,"div",8),w["\u0275\u0275elementStart"](3,"mat-form-field",9),w["\u0275\u0275elementStart"](4,"mat-label"),w["\u0275\u0275text"](5,"Tipo de Fianza"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"mat-select",10),w["\u0275\u0275elementStart"](7,"mat-option",11),w["\u0275\u0275text"](8,"Afianzadora"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](9,"mat-option",12),w["\u0275\u0275text"](10,"Cheque"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](11,"div",8),w["\u0275\u0275elementStart"](12,"mat-form-field",9),w["\u0275\u0275elementStart"](13,"mat-label"),w["\u0275\u0275text"](14,"Afianzadora / Cheque"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](15,"input",13),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](16,"div",8),w["\u0275\u0275elementStart"](17,"mat-form-field",9),w["\u0275\u0275elementStart"](18,"mat-label"),w["\u0275\u0275text"](19,"Numero Poliza / Cheque"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](20,"input",14),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](21,"div",8),w["\u0275\u0275elementStart"](22,"mat-form-field",9),w["\u0275\u0275elementStart"](23,"mat-label"),w["\u0275\u0275text"](24,"Monto de la Fianza"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275element"](25,"input",15),w["\u0275\u0275elementStart"](26,"span",16),w["\u0275\u0275text"](27,"$\xa0"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){var n=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("formGroup",n.formulario_fianza)}}function Br(e,t){if(1&e){var n=w["\u0275\u0275getCurrentView"]();w["\u0275\u0275elementStart"](0,"button",17),w["\u0275\u0275listener"]("click",function(){return w["\u0275\u0275restoreView"](n),w["\u0275\u0275nextContext"]().agregarFianza()}),w["\u0275\u0275text"](1," Agregar "),w["\u0275\u0275elementEnd"]()}if(2&e){var a=w["\u0275\u0275nextContext"]();w["\u0275\u0275property"]("disabled",a.formulario_fianza.invalid)}}var jr,Or=function(){var e=function(){function e(t,n,a,r){o(this,e),this._ruta=t,this._fianza=n,this._route=a,this.fb=r}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._route.params.subscribe(function(t){e.numero_contrato=t.numero_contrato,e.consultarFianza(),e.crearFormulario()})}},{key:"crearFormulario",value:function(){this.formulario_fianza=this.fb.group({Afianzadora:["",s.Validators.compose([s.Validators.required])],NumPoliza:["",s.Validators.compose([s.Validators.required])],Tipo:["",s.Validators.compose([s.Validators.required])],MontoFianza:["",s.Validators.compose([s.Validators.required])]})}},{key:"consultarFianza",value:function(){var e=this;this._fianza.Consultarfianza(this.numero_contrato).subscribe(function(t){e.estado_fianza=t.Data.estado,console.log(t.Data.datos);var n=t.Data.datos;e.formulario_fianza.controls.Afianzadora.setValue(n.Afianzadora),e.formulario_fianza.controls.NumPoliza.setValue(n.NumPoliza),e.formulario_fianza.controls.Tipo.setValue(n.Tipo),e.formulario_fianza.controls.MontoFianza.setValue(n.MontoFianza),e.formulario_fianza.disable()},function(t){if(""!==t.error||void 0!==t.error){var n=t.error;console.log(n),e.estado_fianza=n.Data.estado}})}},{key:"agregarFianza",value:function(){var e=this;console.log(this.formulario_fianza.value),S().fire({title:"Confirmaci\xf3n",text:"\xbfEstas seguro de agregar estos datos?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#a2a2a2",confirmButtonText:"Si",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(t){t.value&&e._fianza.AgregarFianza(e.numero_contrato,e.formulario_fianza.value).subscribe(function(t){S().fire("Agregado",t.Mensaje,"success"),e._ruta.back()},function(e){if(""!==e.error||void 0!==e.error){var t=e.error;S().fire("Error",t.Mensaje,"error")}})})}},{key:"regresar",value:function(){this._ruta.back()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](l.Ye),w["\u0275\u0275directiveInject"](xo.n),w["\u0275\u0275directiveInject"](c.gz),w["\u0275\u0275directiveInject"](s.FormBuilder))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-fianza"]],decls:12,vars:2,consts:[["mat-icon-button","","color","warn",3,"click"],["aria-label","regresar"],["align","center"],[3,"formGroup",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary","class","margenBoton",3,"disabled","click",4,"ngIf"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"p-20"],["fxFlex.gt-sm","30","fxFlex.gt-xs","100","fxFlex","100"],["appearance","outline"],["formControlName","Tipo","required",""],["value","Afianzadora"],["value","Cheque"],["matInput","","placeholder","Afianzadora o Cheque","formControlName","Afianzadora","autocomplete","off","required",""],["matInput","","placeholder","Numero de poliza o Cheque","formControlName","NumPoliza","autocomplete","off","required",""],["matInput","","placeholder","Monto de Fianza","type","number","autocomplete","off","formControlName","MontoFianza","required","",1,"example-right-align"],["matPrefix",""],["mat-raised-button","","color","primary",1,"margenBoton",3,"disabled","click"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"mat-card"),w["\u0275\u0275elementStart"](1,"mat-card-header"),w["\u0275\u0275elementStart"](2,"button",0),w["\u0275\u0275listener"]("click",function(){return t.regresar()}),w["\u0275\u0275elementStart"](3,"mat-icon",1),w["\u0275\u0275text"](4,"keyboard_return"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275text"](5," Regresar "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](6,"mat-card-title",2),w["\u0275\u0275text"](7,"Fianza"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](8,"mat-card-content"),w["\u0275\u0275template"](9,Rr,28,1,"form",3),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](10,"mat-card-actions",4),w["\u0275\u0275template"](11,Br,2,1,"button",5),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](9),w["\u0275\u0275property"]("ngIf",t.numero_contrato),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngIf",!t.estado_fianza))},directives:[F.a8,F.dk,M.lW,T.Hw,F.n5,F.dn,l.O5,F.hq,s["\u0275NgNoValidate"],s.NgControlStatusGroup,s.FormGroupDirective,D.xw,D.Wh,D.yH,V.KE,V.hX,Te.gD,s.NgControlStatus,s.FormControlName,s.RequiredValidator,b.ey,A.Nt,s.DefaultValueAccessor,s.NumberValueAccessor,V.qo],styles:["mat-card-header[_ngcontent-%COMP%]{padding:0!important}input.example-right-align[_ngcontent-%COMP%]{-moz-appearance:textfield}input.example-right-align[_ngcontent-%COMP%]::-webkit-inner-spin-button, input.example-right-align[_ngcontent-%COMP%]::-webkit-outer-spin-button{display:none}.margenBoton[_ngcontent-%COMP%]{margin-bottom:8px!important;margin-right:8px!important}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.example-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e}(),qr=function(){var e=function(){function e(t){o(this,e),this._router=t,this.permisos=[]}return i(e,[{key:"canActivate",value:function(){return this.havePermision()}},{key:"havePermision",value:function(){return this.permisos=JSON.parse(localStorage.getItem("permisos")),0!==this.permisos.filter(function(e){return"Administrador de contratos"===e}).length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275inject"](c.F0))},e.\u0275prov=w["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),zr=[{path:"",children:[{path:"administrar",component:ao},{path:"seguimiento",component:oo},{path:"detalle/:contrato_id",component:dr},{path:"agregar/:contrato_id",component:Tr},{path:"agregar/contrato:numero_contrato",component:Gt},{path:"fianza/:numero_contrato",component:Or,canActivate:[qr]},{path:"fianza",component:Or,canActivate:[qr]}],canActivate:[p.a]}],Lr=((jr=function e(){o(this,e)}).\u0275fac=function(e){return new(e||jr)},jr.\u0275mod=w["\u0275\u0275defineNgModule"]({type:jr}),jr.\u0275inj=w["\u0275\u0275defineInjector"]({imports:[[l.ez,m.q,c.Bz.forChild(zr),d.m,s.FormsModule,s.ReactiveFormsModule,u.o9]]}),jr)}}])}();