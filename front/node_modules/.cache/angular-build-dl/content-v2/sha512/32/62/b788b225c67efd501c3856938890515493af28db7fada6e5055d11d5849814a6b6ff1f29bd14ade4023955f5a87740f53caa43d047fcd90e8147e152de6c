(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[592],{48243:function(t,e,n){"use strict";n.d(e,{d:function(){return N}});var r=n(92935),o=n(23759),a=n(39084),i=n(3125),s=n(22501),c=n.n(s),l=n(35366),p=n(61116),d=n(84369),u=n(27701),m=n(77307);function h(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"h2",9),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](t.data.UnitMed.DenominacionUni)}}function f(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"h2",9),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",t.data.Delegation.NombreDele,"")}}function g(t,e){1&t&&l["\u0275\u0275element"](0,"img",10)}function v(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"h2",11),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",t.mnsError,", favor de comunicarse con su administrador de la plataforma")}}function b(t,e){1&t&&l["\u0275\u0275element"](0,"mat-progress-bar",12)}function x(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-tree-node",16),l["\u0275\u0275elementStart"](1,"button",17),l["\u0275\u0275listener"]("click",function(){const e=l["\u0275\u0275restoreView"](t).$implicit;return l["\u0275\u0275nextContext"](2).selectedDepartment(e)}),l["\u0275\u0275elementStart"](2,"mat-icon"),l["\u0275\u0275text"](3,"check_box_outline_blank"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function I(t,e){if(1&t){const t=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-tree-node",18),l["\u0275\u0275elementStart"](1,"button",19),l["\u0275\u0275listener"]("click",function(){const e=l["\u0275\u0275restoreView"](t).$implicit;return l["\u0275\u0275nextContext"](2).selectedDepartment(e)}),l["\u0275\u0275elementStart"](2,"mat-icon"),l["\u0275\u0275text"](3,"check_box_outline_blank"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"button",20),l["\u0275\u0275elementStart"](5,"mat-icon",21),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](7),l["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](4),l["\u0275\u0275attribute"]("aria-label","Toggle "+t.name),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function C(t,e){if(1&t&&(l["\u0275\u0275elementStart"](0,"mat-tree",13),l["\u0275\u0275template"](1,x,5,1,"mat-tree-node",14),l["\u0275\u0275template"](2,I,8,3,"mat-tree-node",15),l["\u0275\u0275elementEnd"]()),2&t){const t=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("dataSource",t.dataSource)("treeControl",t.treeControl),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("matTreeNodeDefWhen",t.hasChild)}}let N=(()=>{class t{constructor(t,e,n){this.data=t,this.department=e,this.dialogRef=n,this.mnsError="",this._transformer=(t,e)=>({expandable:!!t.organigramas&&t.organigramas.length>0,name:t.departamento.Nombre,areaId:t.areaId,id:t.id,level:e,selected:!1}),this.treeControl=new o.C2(t=>t.level,t=>t.expandable),this.treeFlattener=new a.JZ(this._transformer,t=>t.level,t=>t.expandable,t=>t.organigramas),this.dataSource=new a.kc(this.treeControl,this.treeFlattener),this.hasChild=(t,e)=>e.expandable,console.log(t),0!=t.unitMedId?this.department.ConsultOrganizationUnitMed(t.unitMedId.toString(),"").subscribe(t=>{this.dataSource.data=t.Data,console.log(this.dataSource.data),this.treeControl.expand(this.treeControl.dataNodes[0])},t=>{""===t.error&&void 0===t.error||(this.mnsError=t.error.Mensaje)}):""!=t.clvDelegation?this.department.ConsultOrganizationUnitMed("0",t.clvDelegation).subscribe(t=>{this.dataSource.data=t.Data,console.log(this.dataSource.data),this.treeControl.expand(this.treeControl.dataNodes[0])},t=>{""===t.error&&void 0===t.error||(this.mnsError=t.error.Mensaje)}):this.mnsError="No se han registrado departamentos para este tipo de usuario: Nivel Central"}ngOnInit(){}selectedDepartment(t){console.log(t),c().fire({title:t.name,text:"\xbfSeleccionar Departamento?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Seleccionar"}).then(e=>{e.isConfirmed&&this.dialogRef.close(t)})}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](r.WI),l["\u0275\u0275directiveInject"](i.r),l["\u0275\u0275directiveInject"](r.so))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["app-department-tree"]],decls:12,vars:6,consts:[["mat-dialog-title","","style","color: #082e6a; font-weight: bold","class","m-0 centerText",4,"ngIf"],[1,"m-0","centerText",2,"color","#1976d2","font-weight","bold"],[1,"mat-typography"],["src","../../../assets/images/warning2.png","alt","Advertencia","width","145","height","145","title","imagen","class","img-centro",4,"ngIf"],["class","centerText","style","color: #be1b14",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[3,"dataSource","treeControl",4,"ngIf"],[1,"endAlign"],["mat-flat-button","","mat-dialog-close","","color","warn","cdkFocusInitial",""],["mat-dialog-title","",1,"m-0","centerText",2,"color","#082e6a","font-weight","bold"],["src","../../../assets/images/warning2.png","alt","Advertencia","width","145","height","145","title","imagen",1,"img-centro"],[1,"centerText",2,"color","#be1b14"],["mode","indeterminate"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","style","font-weight: bold",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","aria-label","Icon button",1,"m-r-10",2,"color","#0a7864",3,"click"],["matTreeNodePadding","",2,"font-weight","bold"],["mat-icon-button","","aria-label","Icon button",2,"color","#0a7864",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(t,e){1&t&&(l["\u0275\u0275template"](0,h,2,1,"h2",0),l["\u0275\u0275template"](1,f,2,1,"h2",0),l["\u0275\u0275elementStart"](2,"h4",1),l["\u0275\u0275text"](3,"Selecciona un departamento"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"mat-dialog-content",2),l["\u0275\u0275template"](5,g,1,0,"img",3),l["\u0275\u0275template"](6,v,2,1,"h2",4),l["\u0275\u0275template"](7,b,1,0,"mat-progress-bar",5),l["\u0275\u0275template"](8,C,3,3,"mat-tree",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"mat-dialog-actions",7),l["\u0275\u0275elementStart"](10,"button",8),l["\u0275\u0275text"](11,"Cerrar"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t&&(l["\u0275\u0275property"]("ngIf",e.data.unitMedId),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.data.clvDelegation),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",e.mnsError),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.mnsError),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",!e.dataSource.data.length&&!e.mnsError),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.dataSource.data.length))},directives:[p.O5,r.xY,r.H8,d.lW,r.ZT,r.uh,u.pW,a.gi,a.fQ,a.uo,a.ah,m.Hw,a.eu],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.img-centro[_ngcontent-%COMP%]{margin:10px auto;display:block}"]}),t})()},86046:function(t,e,n){"use strict";n.d(e,{B:function(){return s}});var r=n(42693),o=n(529),a=n(79996),i=n(35366);let s=(()=>{class t{constructor(t){this._http=t}puestos(){return this._http.get(`${o.N.host}/puesto`).pipe((0,a.U)(t=>t))}ConsultarPuestosDispo(t,e,n){let i=(new r.LE).set("departamento_id",t);return""!==e&&(i=i.set("tipo",e)),""!==n&&(i=i.set("unidad_id",n)),this._http.get(`${o.N.host}/puesto/disponibles`,{params:i}).pipe((0,a.U)(t=>t))}ConsultPositionOrganizations(t,e){let n=new r.LE;return""!==t&&(n=n.set("departmentUnitId",t)),""!==e&&(n=n.set("departmentDelegationId",e)),this._http.get(`${o.N.host}/puesto/final`,{params:n}).pipe((0,a.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.eN))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},18240:function(t,e,n){"use strict";n.d(e,{X:function(){return s}});var r=n(529),o=n(79996),a=n(42693),i=n(35366);let s=(()=>{class t{constructor(t){this.http=t}getPrei(t,e,n,i,s,c,l){let p=(new a.LE).set("nombre",e).set("pagina",n).set("num_registros",i);return""!==t&&(p=p.set("cuadro_id",t)),""!==s&&(p=p.set("grupo",s)),""!==c&&(p=p.set("generico",c)),""!==l&&(p=p.set("especifico",l)),this.http.get(`${r.N.host}/prei`,{params:p}).pipe((0,o.U)(t=>t))}getClavePrei(t,e){let n=new a.LE;return""!==t&&(n=n.set("id",t)),""!==e&&(n=n.set("id_articulo",e)),this.http.get(`${r.N.host}/prei/clave`,{params:n}).pipe((0,o.U)(t=>t))}getGrupoPrei(t){const e=(new a.LE).set("grupo",t);return this.http.get(`${r.N.host}/prei`,{params:e}).pipe((0,o.U)(t=>t))}getCuadroBasico(){return this.http.get(`${r.N.host}/cuadro_basico`).pipe((0,o.U)(t=>t))}consultarFiltrosPrei(t,e,n){let i=new a.LE;if(""!==t&&(i=i.set("grupo",t)),""!==e&&(i=i.set("generico",e)),!1!==n){const t=String(n);i=i.set("grupos",t)}return this.http.get(`${r.N.host}/prei/filtro`,{params:i}).pipe((0,o.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](a.eN))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},36420:function(t,e,n){"use strict";n.d(e,{J:function(){return s}});var r=n(42693),o=n(529),a=n(79996),i=n(35366);let s=(()=>{class t{constructor(t){this.http=t}getServiciosProf(){return this.http.get(`${o.N.host}/servicios_proforma`).pipe((0,a.U)(t=>t))}getServicio(t){const e=(new r.LE).set("id",t);return this.http.get(`${o.N.host}/servicios_proforma`,{params:e}).pipe((0,a.U)(t=>t))}getClaveProformaServicios(t){return this.http.get(`${o.N.host}/servicios_proforma/${t}`).pipe((0,a.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.eN))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},64454:function(t,e,n){"use strict";n.d(e,{g:function(){return s}});var r=n(529),o=n(79996),a=n(35366),i=n(42693);let s=(()=>{class t{constructor(t){this._http=t}ConsultaFecha(){return this._http.get(`${r.N.host}/fecha`).pipe((0,o.U)(t=>t))}AgregarFecha(t){return this._http.post(`${r.N.host}/fecha`,t).pipe((0,o.U)(t=>t))}ActualizarFecha(t){return this._http.put(`${r.N.host}/fecha`,t).pipe((0,o.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](i.eN))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},84992:function(t,e,n){"use strict";n.d(e,{H:function(){return s}});var r=n(529),o=n(79996),a=n(35366),i=n(42693);let s=(()=>{class t{constructor(t){this._http=t}ConsultaPresupuesto(){return this._http.get(`${r.N.host}/presupuesto`).pipe((0,o.U)(t=>t))}AgregarPresupuesto(t){return this._http.post(`${r.N.host}/presupuesto`,t).pipe((0,o.U)(t=>t))}ActualizarPresupuesto(t){return this._http.put(`${r.N.host}/presupuesto`,t).pipe((0,o.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](i.eN))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},65540:function(t,e,n){"use strict";n.d(e,{E:function(){return s}});var r=n(529),o=n(79996),a=n(35366),i=n(42693);let s=(()=>{class t{constructor(t){this.httpClient=t}consultAreas(){return this.httpClient.get(`${r.N.host}/areas`).pipe((0,o.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](i.eN))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},65334:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});var r=n(42693),o=n(529),a=n(79996),i=n(35366);let s=(()=>{class t{constructor(t){this.httpClient=t}consultUsersValid(t,e,n,i,s){let c=new r.LE;return""!==e&&(c=c.set("valid",e)),""!==t&&(c=c.set("status",t)),""!==n&&(c=c.set("unitMedId",n)),""!==i&&(c=c.set("clvDele",i)),""!==s&&(c=c.set("departmentId",s)),this.httpClient.get(`${o.N.host}/usuarios/valid`,{params:c}).pipe((0,a.U)(t=>t))}addNewUserPosition(t,e,n){let i=(new r.LE).set("userType",e);return""!==n&&(i=i.set("update",n)),this.httpClient.post(`${o.N.host}/usuarioPuesto`,t,{params:i}).pipe((0,a.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](r.eN))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},1420:function(t,e,n){"use strict";n.d(e,{U:function(){return a}});var r=n(35366),o=n(29996);let a=(()=>{class t{constructor(t){this._router=t,this.permisos=[]}canActivate(){return this.havePermision()}havePermision(){return this.permisos=JSON.parse(localStorage.getItem("permisos")),0!==this.permisos.filter(t=>"Jefe Biomedico"===t||"Solicitud"===t).length}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.F0))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},15452:function(t,e,n){"use strict";n.d(e,{X:function(){return a}});var r=n(35366),o=n(29996);let a=(()=>{class t{constructor(t){this._router=t,this.permisos=[]}canActivate(){return this.havePermission()}havePermission(){return this.permisos=JSON.parse(localStorage.getItem("permisos")),console.log(this.permisos),0!==this.permisos.filter(t=>"Jefe Biomedico"===t).length}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275inject"](o.F0))},t.\u0275prov=r["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);